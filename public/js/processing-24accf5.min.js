/***

    P R O C E S S I N G . J S - 24accf5
    a port of the Processing visualization language

    Processing.js is licensed under the MIT License, see LICENSE.
    For a list of copyright holders, please refer to AUTHORS.

    http://processingjs.org

***/

(function(X,z,e,p){function wa(c,h){if(c in X)return X[c];return typeof X[h]==="function"?X[h]:function(c){if(c instanceof Array)return c;else if(typeof c==="number"){var i=[];i.length=c;return i}}}function xc(c){if(c.constructor===String){for(var h=0,H=0;H<c.length;++H)h=h*31+c.charCodeAt(H)&4294967295;return h}else if(typeof c!=="object")return c&4294967295;else if(c.hashCode instanceof Function)return c.hashCode();else{if(c.$id===p)c.$id=e.floor(e.random()*65536)-32768<<16|e.floor(e.random()*65536);
return c.$id}}function qa(c,h){return c===null||h===null?c===null&&h===null:c.constructor===String?c===h:typeof c!=="object"?c===h:c.equals instanceof Function?c.equals(h):c===h}function Wb(){}function xb(c,h){function e(H){la.defineProperty(c,H,{get:function(){return h[H]},set:function(c){h[H]=c},enumerable:!0})}var v=[],p;for(p in h)typeof h[p]==="function"?c.hasOwnProperty(p)||(c[p]=h[p]):p.charAt(0)!=="$"&&!(p in c)&&v.push(p);for(;v.length>0;)e(v.shift())}function yc(){var c=["abs","acos","alpha",
"ambient","ambientLight","append","applyMatrix","arc","arrayCopy","asin","atan","atan2","background","beginCamera","beginDraw","beginShape","bezier","bezierDetail","bezierPoint","bezierTangent","bezierVertex","binary","blend","blendColor","blit_resize","blue","box","breakShape","brightness","camera","ceil","Character","color","colorMode","concat","console","constrain","copy","cos","createFont","createGraphics","createImage","cursor","curve","curveDetail","curvePoint","curveTangent","curveTightness",
"curveVertex","day","degrees","directionalLight","disableContextMenu","dist","draw","ellipse","ellipseMode","emissive","enableContextMenu","endCamera","endDraw","endShape","exit","exp","expand","externals","fill","filter","filter_bilinear","filter_new_scanline","floor","focused","frameCount","frameRate","frustum","get","glyphLook","glyphTable","green","height","hex","hint","hour","hue","image","imageMode","Import","intersect","join","key","keyCode","keyPressed","keyReleased","keyTyped","lerp","lerpColor",
"lightFalloff","lights","lightSpecular","line","link","loadBytes","loadFont","loadGlyphs","loadImage","loadPixels","loadShape","loadStrings","log","loop","mag","map","match","matchAll","max","millis","min","minute","mix","modelX","modelY","modelZ","modes","month","mouseButton","mouseClicked","mouseDragged","mouseMoved","mouseOut","mouseOver","mousePressed","mouseReleased","mouseScroll","mouseScrolled","mouseX","mouseY","name","nf","nfc","nfp","nfs","noCursor","noFill","noise","noiseDetail","noiseSeed",
"noLights","noLoop","norm","normal","noSmooth","noStroke","noTint","ortho","param","parseBoolean","parseByte","parseChar","parseFloat","parseInt","peg","perspective","PFont","PImage","pixels","PMatrix2D","PMatrix3D","PMatrixStack","pmouseX","pmouseY","point","pointLight","popMatrix","popStyle","pow","print","printCamera","println","printMatrix","printProjection","PShape","PShapeSVG","pushMatrix","pushStyle","quad","radians","random","Random","randomSeed","rect","rectMode","red","redraw","requestImage",
"resetMatrix","reverse","rotate","rotateX","rotateY","rotateZ","round","saturation","save","saveFrame","saveStrings","scale","screenX","screenY","screenZ","second","set","setup","shape","shapeMode","shared","shininess","shorten","sin","size","smooth","sort","specular","sphere","sphereDetail","splice","split","splitTokens","spotLight","sq","sqrt","status","str","stroke","strokeCap","strokeJoin","strokeWeight","subset","tan","text","textAlign","textAscent","textDescent","textFont","textLeading","textMode",
"textSize","texture","textureMode","textWidth","tint","touchCancel","touchEnd","touchMove","touchStart","translate","triangle","trim","unbinary","unhex","updatePixels","use3DContext","vertex","width","XMLElement","year","__contains","__equals","__frameRate","__hashCode","__int_cast","__instanceof","__keyPressed","__mousePressed","__printStackTrace","__replace","__replaceAll","__replaceFirst","__toCharArray","__split"],h={},e,p;e=0;for(p=c.length;e<p;++e)h[c[e]]=null;for(var q in y.lib)if(y.lib.hasOwnProperty(q)&&
y.lib[q].exports){c=y.lib[q].exports;e=0;for(p=c.length;e<p;++e)h[c[e]]=null}return h}function zc(i){function h(a){var c=/^\s*/.exec(a);if(c[0].length===a.length)a={left:c[0],middle:"",right:""};else var d=/\s*$/.exec(a),a={left:c[0],middle:a.substring(c[0].length,d.index),right:d[0]};a.untrim=function(a){return this.left+a+this.right};return a}function e(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function v(a,c){for(var d=0,A=c.length;d<A;++d)a[c[d]]=null;return a}function q(a){for(var c in a)if(a.hasOwnProperty(c))return!1;
return!0}function s(a){return a.substring(2,a.length-1)}function K(a,c){var d=N.length;N.push(a);return'"'+c+d+'"'}function w(a){a=a.replace(W,function(a){return K(a,"E")});a=a.replace(Ya,function(a){return K(a,"D")});return a=a.replace(yb,function(a){return K(a,"H")})}function x(a,c){return a.replace(Jb,function(a,Z,d){return d!==c?a:K(a,"G")})}function y(a){this.name=a}function G(a){this.params=a}function ca(a){var c=e(a.substring(1,a.length-1)),a=[];if(c!=="")for(var c=c.split(","),d=0;d<c.length;++d){var A=
/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(c[d]);a.push(new y(A[1]))}return new G(a)}function da(a){function c(a,d,Z,ia){a=N[ia];A=!0;a=h(a.substring(1,a.length-1));return"__"+Z+(a.middle===""?K("("+d.replace(/\.\s*$/,"")+")","B"):K("("+d.replace(/\.\s*$/,"")+","+a.middle+")","B"))}function d(a,c,Z){A=!0;return"__instanceof"+K("("+c+", "+Z+")","B")}var a=a.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(a,c,d){return d}),a=a.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,
function(a){return K(a,"F")}),a=a.replace(yb,function(a){return K(a,"H")}),a=a.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(a,c,d){a=d.replace(/"C(\d+)"/g,function(a,c){return N[c]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", ");a="{"+a.substring(1,a.length-1)+"}";c="('"+c+"', "+K(a,"A")+")";return"$p.createJavaArray"+K(c,"B")}),a=a.replace(/(\.\s*length)\s*"B\d+"/g,"$1"),a=a.replace(/#([0-9A-Fa-f]{6})\b/g,function(a,c){return"0xFF"+
c}),a=a.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(a,c,d){c=N[c];if(/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(c))if(/^\(\s*int\s*\)$/.test(c))return"(int)"+d;else{c=c.split(/"C(\d+)"/g);if(c.length>1&&!/^\[\s*\]$/.test(N[c[1]]))return a;return""+d}else return a}),a=a.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(a,c){var d=h(c);return d.untrim("__int_cast("+d.middle+")")}),a=a.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,
"$$super$1"),a=a.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(a,c,d){if(c===d)return a;return d===""?"0"+c:c}),a=a.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1"),a=a.replace(/([^\s])%([^=\s])/g,"$1 % $2"),a=a.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1"),a=a.replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(a,c){return"parse"+c.substring(0,1).toUpperCase()+c.substring(1)+'"B'}),a=a.replace(/\bpixels\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(a,
c,d,Z,ia,xa){return d?(a=N[Z],ia?"pixels.setPixel"+K("("+a.substring(1,a.length-1)+","+xa+")","B"):"pixels.getPixel"+K("("+a.substring(1,a.length-1)+")","B")):c?"pixels.getLength"+K("()","B"):ia?"pixels.set"+K("("+xa+")","B"):"pixels.toArray"+K("()","B")}),A;do A=!1,a=a.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|hashCode|toCharArray|printStackTrace|split)\s*"B(\d+)"/g,c);while(A);do A=
!1,a=a.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,d);while(A);return a=a.replace(/\bthis(\s*"B\d+")/g,"$$constr$1")}function Xc(a,c){this.baseInterfaceName=a;this.body=c;c.owner=this}function fa(a){var c=RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/).exec(a),a=Aa,d="class"+ ++ob;Aa=d;var A=c[1]+"$"+d,c=new Xc(A,gb(N[c[2]],A,"","implements "+
c[1]));c.classId=d;c.scopeId=a;ba[d]=c;Aa=a;return c}function z(a,c,d){this.name=a;this.params=c;this.body=d}function Q(a){a=RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(a);return new z(a[1]!=="function"?a[1]:null,ca(N[a[2]]),Oa(N[a[3]]))}function Xb(a){this.members=a}function X(a){for(var a=a.split(","),c=0;c<a.length;++c){var d=a[c].indexOf(":");a[c]=d<0?{value:Ba(a[c])}:{label:e(a[c].substring(0,d)),value:Ba(e(a[c].substring(d+1)))}}return new Xb(a)}function pb(a){if(a.charAt(0)===
"("||a.charAt(0)==="[")return a.charAt(0)+pb(a.substring(1,a.length-1))+a.charAt(a.length-1);else if(a.charAt(0)==="{")return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(a)?"{"+K(a.substring(1,a.length-1),"I")+"}":"["+pb(a.substring(1,a.length-1))+"]";else{var a=h(a),c=da(a.middle),c=c.replace(/"[ABC](\d+)"/g,function(a,c){return pb(N[c])});return a.untrim(c)}}function ha(a){return a.replace(/(\.\s*)?(\b[A-Za-z_$][\w$]*\b)(\s*\.\s*(\b[A-Za-z_$][\w$]*\b)(\s*\()?)?/g,function(a,c,d,Z,h,e){return c?a:
T({name:d,member:h,callSign:!!e})+(Z===p?"":Z)})}function aa(a,c){this.expr=a;this.transforms=c}function ea(a,c,d){this.name=a;this.value=c;this.isDefault=d}function Y(a,c){var d=a.indexOf("="),A,h;d<0?(A=a,d=c,h=!0):(A=a.substring(0,d),d=Ba(a.substring(d+1)),h=!1);return new ea(e(A.replace(/(\s*"C\d+")+/g,"")),d,h)}function hc(a){return a==="int"||a==="float"?"0":a==="boolean"?"false":a==="color"?"0x00000000":"null"}function ma(a,c){this.definitions=a;this.varType=c}function Ca(a){this.expression=
a}function La(a){if(Yb.test(a)){for(var c=Za.exec(a),a=a.substring(c[0].length).split(","),d=hc(c[2]),A=0;A<a.length;++A)a[A]=Y(a[A],d);return new ma(a,c[2])}else return new Ca(Ba(a))}function Pa(a,c,d){this.initStatement=a;this.condition=c;this.step=d}function Ea(a,c){this.initStatement=a;this.container=c}function Qa(a,c){this.initStatement=a;this.container=c}function ic(a){return/\bin\b/.test(a)?(a=a.substring(1,a.length-1).split(/\bin\b/g),new Ea(La(e(a[0])),Ba(a[1]))):a.indexOf(":")>=0&&a.indexOf(";")<
0?(a=a.substring(1,a.length-1).split(":"),new Qa(La(e(a[0])),Ba(a[1]))):(a=a.substring(1,a.length-1).split(";"),new Pa(La(e(a[0])),Ba(a[1]),Ba(a[2])))}function Ab(a){a.sort(function(a,c){return c.weight-a.weight})}function Ra(a,c,d){this.name=a;this.body=c;this.isStatic=d;c.owner=this}function I(a,c,d){this.name=a;this.body=c;this.isStatic=d;c.owner=this}function qa(a){var c=W.exec(a);W.lastIndex=0;var d=c[1].indexOf("static")>=0,A=N[s(c[6])],a=Aa,h="class"+ ++ob;Aa=h;c=c[2]==="interface"?new Ra(c[3],
ib(A,c[3],c[4]),d):new I(c[3],gb(A,c[3],c[4],c[5]),d);c.classId=h;c.scopeId=a;ba[h]=c;Aa=a;return c}function qb(a,c,d,A){this.name=a;this.params=c;this.body=d;this.isStatic=A}function rb(a){a=Ya.exec(a);Ya.lastIndex=0;var c=a[1].indexOf("static")>=0,d=a[6]!==";"?N[s(a[6])]:"{}";return new qb(a[3],ca(N[s(a[4])]),Oa(d),c)}function Da(a,c,d){this.definitions=a;this.fieldType=c;this.isStatic=d}function Ia(a){for(var c=Za.exec(a),d=c[1].indexOf("static")>=0,a=a.substring(c[0].length).split(/,\s*/g),A=
hc(c[2]),h=0;h<a.length;++h)a[h]=Y(a[h],A);return new Da(a,c[2],d)}function Bb(a,c){this.params=a;this.body=c}function wa(a){var a=RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(a),c=ca(N[a[1]]);return new Bb(c,Oa(N[a[2]]))}function Zb(a,c,d,A,h,e){this.name=a;this.interfacesNames=c;this.methodsNames=d;this.fields=A;this.innerClasses=h;this.misc=e;a=0;for(c=A.length;a<c;++a)A[a].owner=this}function $b(a,c,d,A,h,e,i,p,s){this.name=a;this.baseClassName=c;this.interfacesNames=d;this.functions=A;this.methods=h;this.fields=
e;this.cstrs=i;this.innerClasses=p;this.misc=s;a=0;for(c=e.length;a<c;++a)e[a].owner=this}function Cb(a,c){this.name=a;this.body=c;c.owner=this}function a(a,c){this.name=a;this.body=c;c.owner=this}function jb(c){var d=W.exec(c);W.lastIndex=0;var h=N[s(d[6])],c=Aa,A="class"+ ++ob;Aa=A;d=d[2]==="interface"?new Cb(d[3],ib(h,d[3],d[4])):new a(d[3],gb(h,d[3],d[4],d[5]));d.classId=A;d.scopeId=c;ba[A]=d;Aa=c;return d}function d(a,c,d){this.name=a;this.params=c;this.body=d}function $(a){a=Ya.exec(a);Ya.lastIndex=
0;return new d(a[3],ca(N[s(a[4])]),Oa(N[s(a[6])]))}function ga(a,c){this.argument=a;this.misc=c}function U(a,c){this.argument=a;this.misc=c}function na(a,c,d){this.name=a;this.argument=c;this.misc=d}function Fa(a){this.expr=a}function Ga(a){this.label=a}function O(c){for(var h=[],e=0,A=c.length;e<A;++e){var i=c[e];i instanceof ma?h=h.concat(i.getNames()):i instanceof ga&&i.argument.initStatement instanceof ma?h=h.concat(i.argument.initStatement.getNames()):(i instanceof Ra||i instanceof I||i instanceof
Cb||i instanceof a||i instanceof d||i instanceof z)&&h.push(i.name)}return v({},h)}function oa(a){this.statements=a}function ka(a){this.statements=a}var Db=yc(),pa=[],kb,i=i.replace(/\r\n?|\n\r/g,"\n").replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(a,c,d,h,e,i,p,s){return c||d?(c=pa.length,pa.push(a),"'"+c+"'"):h?(c=pa.length,pa.push(i),e+"'"+c+"'"):s!==""?" ":"\n"}),$a=function(a,
c,d,h){if(c||h)return a;kb=!0;return""};do kb=!1,i=i.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,$a);while(kb);var N=function(a){for(var c=[],a=a.split(/([\{\[\(\)\]\}])/),d=a[0],h=[],e=1;e<a.length;e+=2){var i=a[e];if(i==="["||i==="{"||
i==="(")h.push(d),d=i;else if(i==="]"||i==="}"||i===")"){var p=i==="}"?"A":i===")"?"B":"C",s=c.length;c.push(d+i);d=h.pop()+'"'+p+(s+1)+'"'}d+=a[e+1]}c.unshift(d);return c}(i),T,ba={},Aa,ob=0,gb,ib,Oa,Eb,Ba,W=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,
Ya=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,Yb=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,
Jb=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,Za=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,yb=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;y.prototype.toString=function(){return this.name};
G.prototype.getNames=function(){for(var a=[],c=0,d=this.params.length;c<d;++c)a.push(this.params[c].name);return a};G.prototype.toString=function(){if(this.params.length===0)return"()";for(var a="(",c=0,d=this.params.length;c<d;++c)a+=this.params[c]+", ";return a.substring(0,a.length-2)+")"};Xc.prototype.toString=function(){return"new ("+this.body+")"};z.prototype.toString=function(){var a=T,c=v({"this":null},this.params.getNames());T=function(d){return c.hasOwnProperty(d.name)?d.name:a(d)};var d=
"function";this.name&&(d+=" "+this.name);d+=this.params+" "+this.body;T=a;return d};Xb.prototype.toString=function(){var a=T;T=function(c){return c.name==="this"?"this":a(c)};for(var c="",d=0,h=this.members.length;d<h;++d)this.members[d].label&&(c+=this.members[d].label+": "),c+=this.members[d].value.toString()+", ";T=a;return c.substring(0,c.length-2)};aa.prototype.toString=function(){var a=this.transforms;return ha(this.expr).replace(/"!(\d+)"/g,function(c,d){return a[d].toString()})};Ba=function(a){var c=
[],a=pb(a),a=a.replace(/"H(\d+)"/g,function(a,d){c.push(Q(N[d]));return'"!'+(c.length-1)+'"'}),a=a.replace(/"F(\d+)"/g,function(a,d){c.push(fa(N[d]));return'"!'+(c.length-1)+'"'}),a=a.replace(/"I(\d+)"/g,function(a,d){c.push(X(N[d]));return'"!'+(c.length-1)+'"'});return new aa(a,c)};ea.prototype.toString=function(){return this.name+" = "+this.value};ma.prototype.getNames=function(){for(var a=[],c=0,d=this.definitions.length;c<d;++c)a.push(this.definitions[c].name);return a};ma.prototype.toString=
function(){return"var "+this.definitions.join(",")};Ca.prototype.toString=function(){return this.expression.toString()};Pa.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"};Ea.prototype.toString=function(){var a=this.initStatement.toString();a.indexOf("=")>=0&&(a=a.substring(0,a.indexOf("=")));return"("+a+" in "+this.container+")"};Qa.iteratorId=0;Qa.prototype.toString=function(){var a=this.initStatement.toString(),c="$it"+Qa.iteratorId++,a=a.replace(/^\s*var\s*/,
"").split("=")[0];return"("+("var "+c+" = new $p.ObjectIterator("+this.container+"), "+a+" = void(0)")+"; "+(c+".hasNext() && (("+a+" = "+c+".next()) || true)")+";)"};Ra.prototype.toString=function(){return""+this.body};I.prototype.toString=function(){return""+this.body};qb.prototype.toString=function(){var a=v({},this.params.getNames()),c=T;T=function(d){return a.hasOwnProperty(d.name)?d.name:c(d)};var d="function "+this.methodId+this.params+" "+this.body+"\n";T=c;return d};Da.prototype.getNames=
function(){for(var a=[],c=0,d=this.definitions.length;c<d;++c)a.push(this.definitions[c].name);return a};Da.prototype.toString=function(){var a=T({name:"[this]"});if(this.isStatic){for(var c=this.owner.name,d=[],h=0,i=this.definitions.length;h<i;++h){var e=this.definitions[h],p=e.name,s=c+"."+p;d.push("if("+s+" === void(0)) {\n "+s+" = "+e.value+"; }\n$p.defineProperty("+a+", '"+p+"', { get: function(){return "+s+";}, set: function(val){"+s+" = val;} });\n")}return d.join("")}else return a+"."+this.definitions.join("; "+
a+".")};Bb.prototype.toString=function(){var a=v({},this.params.getNames()),c=T;T=function(d){return a.hasOwnProperty(d.name)?d.name:c(d)};var d="function $constr_"+this.params.params.length+this.params.toString(),h=this.body.toString();/\$(superCstr|constr)\b/.test(h)||(h="{\n$superCstr();\n"+h.substring(1));T=c;return d+h+"\n"};Zb.prototype.getMembers=function(a,c,d){this.owner.base&&this.owner.base.body.getMembers(a,c,d);var h,i,e,p;h=0;for(e=this.fields.length;h<e;++h){var s=this.fields[h].getNames();
i=0;for(p=s.length;i<p;++i)a[s[i]]=this.fields[h]}h=0;for(e=this.methodsNames.length;h<e;++h)c[this.methodsNames[h]]=!0;h=0;for(e=this.innerClasses.length;h<e;++h)a=this.innerClasses[h],d[a.name]=a};Zb.prototype.toString=function(){(function(a){for(var c=0;a;)++c,a=a.scope;return c})(this.owner);var a=this.name,c="",d="";this.getMembers({},{},{});var h,e;if(this.owner.interfaces){var i=[],p;h=0;for(e=this.interfacesNames.length;h<e;++h)this.owner.interfaces[h]&&(p=T({name:this.interfacesNames[h]}),
i.push(p),c+="$p.extendInterfaceMembers("+a+", "+p+");\n");d+=a+".$interfaces = ["+i.join(", ")+"];\n"}d+=a+".$isInterface = true;\n";d+=a+".$methods = ['"+this.methodsNames.join("', '")+"'];\n";Ab(this.innerClasses);h=0;for(e=this.innerClasses.length;h<e;++h)i=this.innerClasses[h],i.isStatic&&(c+=a+"."+i.name+" = "+i+";\n");h=0;for(e=this.fields.length;h<e;++h)i=this.fields[h],i.isStatic&&(c+=a+"."+i.definitions.join(";\n"+a+".")+";\n");return"(function() {\nfunction "+a+"() { throw 'Unable to create the interface'; }\n"+
c+d+"return "+a+";\n})()"};ib=function(a,c,d){var a=a.substring(1,a.length-1),a=w(a),a=x(a,c),i=[],e=[],a=a.replace(/"([DE])(\d+)"/g,function(a,c,d){c==="D"?i.push(d):c==="E"&&e.push(d);return""}),a=a.split(/;(?:\s*;)*/g),s,H;d!==p&&(s=d.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g));d=0;for(H=i.length;d<H;++d){var v=rb(N[i[d]]);i[d]=v.name}d=0;for(H=a.length-1;d<H;++d)v=h(a[d]),a[d]=Ia(v.middle);v=a.pop();d=0;for(H=e.length;d<H;++d)e[d]=qa(N[e[d]]);return new Zb(c,s,i,a,e,{tail:v})};
$b.prototype.getMembers=function(a,c,d){this.owner.base&&this.owner.base.body.getMembers(a,c,d);var h,i,e,p;h=0;for(e=this.fields.length;h<e;++h){var s=this.fields[h].getNames();i=0;for(p=s.length;i<p;++i)a[s[i]]=this.fields[h]}h=0;for(e=this.methods.length;h<e;++h)a=this.methods[h],c[a.name]=a;h=0;for(e=this.innerClasses.length;h<e;++h)c=this.innerClasses[h],d[c.name]=c};$b.prototype.toString=function(){var a="$this_"+function(a){for(var c=0;a;)++c,a=a.scope;return c}(this.owner),c=this.name,d="var "+
a+" = this;\n",h="",i="",p={},s={},v={};this.getMembers(p,s,v);var ca=T;T=function(d){var h=d.name;if(h==="this")return d.callSign||!d.member?a+".$self":a;else if(p.hasOwnProperty(h))return p[h].isStatic?c+"."+h:a+"."+h;else if(v.hasOwnProperty(h))return a+"."+h;else if(s.hasOwnProperty(h))return s[h].isStatic?c+"."+h:a+".$self."+h;return ca(d)};var q;this.baseClassName?(q=ca({name:this.baseClassName}),d+="var $super = { $upcast: "+a+" };\n",d+="function $superCstr(){"+q+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n",
i+=c+".$base = "+q+";\n"):d+="function $superCstr(){$p.extendClassChain("+a+")}\n";this.owner.base&&(h+="$p.extendStaticMembers("+c+", "+q+");\n");var da,w,x;if(this.owner.interfaces){w=[];q=0;for(da=this.interfacesNames.length;q<da;++q)this.owner.interfaces[q]&&(x=ca({name:this.interfacesNames[q]}),w.push(x),h+="$p.extendInterfaceMembers("+c+", "+x+");\n");i+=c+".$interfaces = ["+w.join(", ")+"];\n"}this.functions.length>0&&(d+=this.functions.join("\n")+"\n");Ab(this.innerClasses);q=0;for(da=this.innerClasses.length;q<
da;++q)w=this.innerClasses[q],w.isStatic?(h+=c+"."+w.name+" = "+w+";\n",d+=a+"."+w.name+" = "+c+"."+w.name+";\n"):d+=a+"."+w.name+" = "+w+";\n";q=0;for(da=this.fields.length;q<da;++q){var fa=this.fields[q];if(fa.isStatic){h+=c+"."+fa.definitions.join(";\n"+c+".")+";\n";w=0;for(x=fa.definitions.length;w<x;++w){var K=fa.definitions[w].name,y=c+"."+K;d+="$p.defineProperty("+a+", '"+K+"', {get: function(){return "+y+"}, set: function(val){"+y+" = val}});\n"}}else d+=a+"."+fa.definitions.join(";\n"+a+
".")+";\n"}w={};q=0;for(da=this.methods.length;q<da;++q)x=this.methods[q],fa=w[x.name],K=x.name+"$"+x.params.params.length,fa?(++fa,K+="_"+fa):fa=1,x.methodId=K,w[x.name]=fa,x.isStatic?(h+=x,h+="$p.addMethod("+c+", '"+x.name+"', "+K+");\n"):d+=x,d+="$p.addMethod("+a+", '"+x.name+"', "+K+");\n";d+=e(this.misc.tail);this.cstrs.length>0&&(d+=this.cstrs.join("\n")+"\n");d+="function $constr() {\n";w=[];q=0;for(da=this.cstrs.length;q<da;++q)x=this.cstrs[q].params.params.length,w.push("if(arguments.length === "+
x+") { $constr_"+x+".apply("+a+", arguments); }");w.length>0&&(d+=w.join(" else ")+" else ");d+="$superCstr();\n}\n";d+="$constr.apply(null, arguments);\n";T=ca;return"(function() {\nfunction "+c+"() {\n"+d+"}\n"+h+i+"return "+c+";\n})()"};gb=function(a,c,d,i){var a=a.substring(1,a.length-1),a=w(a),a=x(a,c),e=[],s=[],H=[],v=[],a=a.replace(/"([DEGH])(\d+)"/g,function(a,c,d){c==="D"?e.push(d):c==="E"?s.push(d):c==="H"?v.push(d):H.push(d);return""}),a=a.replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g),
q,ca;d!==p&&(q=d.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1"));i!==p&&(ca=i.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g));for(d=0;d<v.length;++d)v[d]=Q(N[v[d]]);for(d=0;d<e.length;++d)e[d]=rb(N[e[d]]);for(d=0;d<a.length-1;++d)i=h(a[d]),a[d]=Ia(i.middle);i=a.pop();for(d=0;d<H.length;++d)H[d]=wa(N[H[d]]);for(d=0;d<s.length;++d)s[d]=qa(N[s[d]]);return new $b(c,q,ca,v,e,a,H,s,{tail:i})};Cb.prototype.toString=function(){return"var "+this.name+
" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"};a.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"};d.prototype.toString=function(){var a=v({},this.params.getNames()),c=T;T=function(d){return a.hasOwnProperty(d.name)?d.name:c(d)};var d="function "+this.name+this.params+" "+this.body+"\n$p."+this.name+" = "+this.name+";";T=c;return d};ga.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};U.prototype.toString=
function(){return this.misc.prefix+this.argument.toString()};na.prototype.toString=function(){var a=this.misc.prefix;this.argument!==p&&(a+=this.argument.toString());return a};Fa.prototype.toString=function(){return"case "+this.expr+":"};Ga.prototype.toString=function(){return this.label};Eb=function(a,c,d){for(var i=RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g),s=[],a=
a.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1"),v=0,q,w;(q=i.exec(a))!==null;){if(q[1]!==p)w=a.lastIndexOf('"B',i.lastIndex),v=a.substring(v,w),q[1]==="for"?s.push(new ga(ic(N[q[2]]),{prefix:v})):q[1]==="catch"?s.push(new U(ca(N[q[2]]),{prefix:v})):s.push(new na(q[1],Ba(N[q[2]]),{prefix:v}));else if(q[3]!==p)s.push(new na(q[3],p,{prefix:a.substring(v,i.lastIndex)}));else if(q[4]!==p){w=a.substring(v,i.lastIndex-q[4].length);if(e(w).length!==0)continue;s.push(w);v=q[4].charAt(1);
q=q[5];v==="D"?s.push(c(N[q])):v==="E"?s.push(d(N[q])):v==="H"?s.push(Q(N[q])):s.push(Oa(N[q]))}else if(q[6]!==p)s.push(new Fa(Ba(e(q[7]))));else if(q[8]!==p){w=a.substring(v,i.lastIndex-q[8].length);if(e(w).length!==0)continue;s.push(new Ga(a.substring(v,i.lastIndex)))}else q=h(a.substring(v,i.lastIndex-1)),s.push(q.left),s.push(La(q.middle)),s.push(q.right+";");v=i.lastIndex}c=h(a.substring(v));s.push(c.left);c.middle!==""&&(s.push(La(c.middle)),s.push(";"+c.right));return s};oa.prototype.toString=
function(){var a=O(this.statements),c=T;q(a)||(T=function(d){return a.hasOwnProperty(d.name)?d.name:c(d)});var d="{\n"+this.statements.join("")+"\n}";T=c;return d};Oa=function(a){a=h(a.substring(1,a.length-1));return new oa(Eb(a.middle))};ka.prototype.toString=function(){for(var d=[],h=[],i,e=0,s=this.statements.length;e<s;++e)i=this.statements[e],i instanceof a||i instanceof Cb?d.push(i):h.push(i);Ab(d);var p=O(this.statements);T=function(a){a=a.name;if(!p.hasOwnProperty(a)&&(Db.hasOwnProperty(a)||
c.hasOwnProperty(a)||la.hasOwnProperty(a)))return"$p."+a;return a};d="// this code was autogenerated from PJS\n(function($p) {\n"+d.join("")+"\n"+h.join("")+"\n})";T=null;return d};i=function(){var a=w(N[0]),a=a.replace(/\bimport\s+[^;]+;/g,"");return new ka(Eb(a,$,jb))}();(function(){function a(d,h){for(var i=h.split("."),e=d.scope,s;e;){if(e.hasOwnProperty(i[0])){s=e[i[0]];break}e=e.scope}s===p&&(s=c[i[0]]);for(var e=1,v=i.length;e<v&&s;++e)s=s.inScope[i[e]];return s}var c={},d,h;for(d in ba)if(ba.hasOwnProperty(d)){h=
ba[d];var i=h.scopeId,e=h.name;if(i){i=ba[i];h.scope=i;if(i.inScope===p)i.inScope={};i.inScope[e]=h}else c[e]=h}for(d in ba)if(ba.hasOwnProperty(d)){h=ba[d];if(e=h.body.baseClassName)if(e=a(h,e)){h.base=e;if(!e.derived)e.derived=[];e.derived.push(h)}var e=h.body.interfacesNames,i=[],s,v;if(e&&e.length>0){s=0;for(v=e.length;s<v;++s){var q=a(h,e[s]);i.push(q);if(q){if(!q.derived)q.derived=[];q.derived.push(h)}}if(i.length>0)h.interfaces=i}}})(i);(function(){function a(c,h){var e=d[c];if(!e)return!1;
var i=e.indexOf(h);if(i<0)return!1;e.splice(i,1);if(e.length>0)return!1;delete d[c];return!0}var c=[],d={},h,i,e;for(h in ba)if(ba.hasOwnProperty(h))if(e=ba[h],!e.inScope&&!e.derived)c.push(h),e.weight=0;else{var s=[];if(e.inScope)for(i in e.inScope)e.inScope.hasOwnProperty(i)&&s.push(e.inScope[i]);e.derived&&(s=s.concat(e.derived));d[h]=s}for(;c.length>0;){h=c.shift();e=ba[h];if(e.scopeId&&a(e.scopeId,e))c.push(e.scopeId),ba[e.scopeId].weight=e.weight+1;if(e.base&&a(e.base.classId,e))c.push(e.base.classId),
e.base.weight=e.weight+1;if(e.interfaces){h=0;for(i=e.interfaces.length;h<i;++h)if(e.interfaces[h]&&a(e.interfaces[h].classId,e))c.push(e.interfaces[h].classId),e.interfaces[h].weight=e.weight+1}}})(i);i=i.toString();i=i.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n");return function(a,c){return a.replace(/'(\d+)'/g,function(a,d){var h=c[d];return h.charAt(0)==="/"?h:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(h)?"(new $p.Character("+h+"))":h})}(i,pa)}function Cc(c,h){var e=RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(c);
if(e&&e.length===2)for(var p=[],e=e.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(){return function(c,h){p.push(h);return"{"+(p.length-1)+"}"}}()).replace("\n","").replace("\r","").split(";"),q=function(c){return c.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")},s=0,K=e.length;s<K;s++){var w=e[s].split("=");if(w&&w.length===2){var x=q(w[0]),y=q(w[1]),w=[];if(x==="preload"){w=y.split(",");x=0;for(y=w.length;x<y;x++){var G=q(w[x]);h.imageCache.add(G)}}else if(x==="font"){w=y.split(",");x=0;for(y=
w.length;x<y;x++){var G=q(w[x]),ca=/^\{(\d*?)\}$/.exec(G);h.fonts.add(ca?JSON.parse("{"+p[ca[1]]+"}"):G)}}else x==="crisp"?h.options.crispLines=y==="true":x==="pauseOnBlur"?h.options.pauseOnBlur=y==="true":x==="globalKeyEvents"?h.options.globalKeyEvents=y==="true":x.substring(0,6)==="param-"?h.params[x.substring(6)]=y:h.options[x]=y}}return c}var Dc=function(){},Hb=function(){return"console"in X?function(c){X.console.log("Processing.js: "+c)}:void 0}(),Ec=function(c){var h=new XMLHttpRequest;h.open("GET",
c,!1);h.overrideMimeType&&h.overrideMimeType("text/plain");h.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");h.send(null);if(h.status!==200&&h.status!==0)throw"XMLHttpRequest failed, status code "+h.status;return h.responseText},Ia="document"in this&&!("fake"in this.document),Q=wa("Float32Array","WebGLFloatArray"),Cd=wa("Int32Array","WebGLIntArray"),Dd=wa("Uint16Array","WebGLUnsignedShortArray"),$c=wa("Uint8Array","WebGLUnsignedByteArray"),c={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,
V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1.0E-4,MAX_FLOAT:3.4028235E38,MIN_FLOAT:-3.4028235E38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:e.PI,TWO_PI:2*e.PI,HALF_PI:e.PI/2,THIRD_PI:e.PI/3,QUARTER_PI:e.PI/4,DEG_TO_RAD:e.PI/180,RAD_TO_DEG:180/
e.PI,WHITESPACE:" \t\n\r\u000c\u00a0",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,
TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,
SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,
ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:parseInt(720,10),PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8},Ib=function(c){if(c.iterator instanceof
Function)return c.iterator();else if(c instanceof Array){var h=-1;this.hasNext=function(){return++h<c.length};this.next=function(){return c[h]}}else throw"Unable to iterate: "+c;},Fc=function(){function c(h){var e=0;this.hasNext=function(){return e<h.length};this.next=function(){return h[e++]};this.remove=function(){h.splice(e,1)}}function h(){var e;arguments.length===0?e=[]:arguments.length>0&&typeof arguments[0]!=="number"?e=arguments[0].toArray():(e=[],e.length=0|arguments[0]);this.get=function(c){return e[c]};
this.contains=function(c){return this.indexOf(c)>-1};this.indexOf=function(c){for(var h=0,i=e.length;h<i;++h)if(qa(c,e[h]))return h;return-1};this.add=function(){if(arguments.length===1)e.push(arguments[0]);else if(arguments.length===2){var c=arguments[0];if(typeof c==="number")if(c>=0&&c<=e.length)e.splice(c,0,arguments[1]);else throw c+" is not a valid index";else throw typeof c+" is not a number";}else throw"Please use the proper number of parameters.";};this.addAll=function(c,h){var i;if(typeof c===
"number"){if(c<0||c>e.length)throw"Index out of bounds for addAll: "+c+" greater or equal than "+e.length;for(i=new Ib(h);i.hasNext();)e.splice(c++,0,i.next())}else for(i=new Ib(c);i.hasNext();)e.push(i.next())};this.set=function(){if(arguments.length===2){var c=arguments[0];if(typeof c==="number")if(c>=0&&c<e.length)e.splice(c,1,arguments[1]);else throw c+" is not a valid index.";else throw typeof c+" is not a number";}else throw"Please use the proper number of parameters.";};this.size=function(){return e.length};
this.clear=function(){e.length=0};this.remove=function(c){if(typeof c==="number")return e.splice(c,1)[0];else{c=this.indexOf(c);if(c>-1)return e.splice(c,1),!0;return!1}};this.isEmpty=function(){return!e.length};this.clone=function(){return new h(this)};this.toArray=function(){return e.slice(0)};this.iterator=function(){return new c(e)}}return h}(),Gc=function(){function c(){function h(c){c=xc(c)%x.length;return c<0?x.length+c:c}function e(){if(!(z<=w*x.length)){for(var c=[],i=0;i<x.length;++i)x[i]!==
p&&(c=c.concat(x[i]));i=x.length*2;x=[];x.length=i;for(i=0;i<c.length;++i){var s=h(c[i].key),q=x[s];q===p&&(x[s]=q=[]);q.push(c[i])}}}function v(c,h){function e(){for(;!q;)if(++s,i>=x.length)q=!0;else if(x[i]===p||s>=x[i].length)s=-1,++i;else break}var i=0,s=-1,q=!1;this.hasNext=function(){return!q};this.next=function(){var h=c(x[i][s]);e();return h};this.remove=function(){h(this.next());--s};e()}function q(c,h,e){this.clear=function(){G.clear()};this.contains=function(c){return h(c)};this.containsAll=
function(c){for(c=c.iterator();c.hasNext();)if(!this.contains(c.next()))return!1;return!0};this.isEmpty=function(){return G.isEmpty()};this.iterator=function(){return new v(c,e)};this.remove=function(c){if(this.contains(c))return e(c),!0;return!1};this.removeAll=function(c){for(c=c.iterator();c.hasNext();){var h=c.next();this.contains(h)&&e(h)}return!0};this.retainAll=function(c){for(var h=this.iterator(),i=[];h.hasNext();){var s=h.next();c.contains(s)||i.push(s)}for(c=0;c<i.length;++c)e(i[c]);return i.length>
0};this.size=function(){return G.size()};this.toArray=function(){for(var c=[],h=this.iterator();h.hasNext();)c.push(h.next());return c}}function s(c){this._isIn=function(h){return h===G&&c.removed===p};this.equals=function(h){return qa(c.key,h.getKey())};this.getKey=function(){return c.key};this.getValue=function(){return c.value};this.hashCode=function(){return xc(c.key)};this.setValue=function(h){var e=c.value;c.value=h;return e}}if(arguments.length===1&&arguments[0].constructor===c)return arguments[0].clone();
var y=arguments.length>0?arguments[0]:16,w=arguments.length>1?arguments[1]:0.75,x=[];x.length=y;var z=0,G=this;this.clear=function(){z=0;x=[];x.length=y};this.clone=function(){var h=new c;h.putAll(this);return h};this.containsKey=function(c){var e=h(c),e=x[e];if(e===p)return!1;for(var i=0;i<e.length;++i)if(qa(e[i].key,c))return!0;return!1};this.containsValue=function(c){for(var h=0;h<x.length;++h){var e=x[h];if(e!==p)for(var i=0;i<e.length;++i)if(qa(e[i].value,c))return!0}return!1};this.entrySet=
function(){return new q(function(c){return new s(c)},function(c){return c.constructor===s&&c._isIn(G)},function(c){return G.remove(c.getKey())})};this.get=function(c){var e=h(c),e=x[e];if(e===p)return null;for(var i=0;i<e.length;++i)if(qa(e[i].key,c))return e[i].value;return null};this.isEmpty=function(){return z===0};this.keySet=function(){return new q(function(c){return c.key},function(c){return G.containsKey(c)},function(c){return G.remove(c)})};this.put=function(c,i){var s=h(c),q=x[s];if(q===
p)return++z,x[s]=[{key:c,value:i}],e(),null;for(s=0;s<q.length;++s)if(qa(q[s].key,c)){var v=q[s].value;q[s].value=i;return v}++z;q.push({key:c,value:i});e();return null};this.putAll=function(c){for(c=c.entrySet().iterator();c.hasNext();){var h=c.next();this.put(h.getKey(),h.getValue())}};this.remove=function(c){var e=h(c),i=x[e];if(i===p)return null;for(var s=0;s<i.length;++s)if(qa(i[s].key,c))return--z,c=i[s].value,i[s].removed=!0,i.length>1?i.splice(s,1):x[e]=p,c;return null};this.size=function(){return z};
this.values=function(){for(var c=[],h=this.entrySet().iterator();h.hasNext();){var e=h.next();c.push(e.getValue())}return c}}return c}(),aa=function(){function c(h,e,i){this.x=h||0;this.y=e||0;this.z=i||0}function h(c){return function(h,e){var i=h.get();i[c](e);return i}}function p(c){return function(h,e){return h[c](e)}}var v="dist dot cross".split(" "),q=v.length;c.angleBetween=function(c,h){return e.acos(c.dot(h)/(c.mag()*h.mag()))};for(c.prototype={set:function(c,h,e){arguments.length===1?this.set(c.x||
c[0]||0,c.y||c[1]||0,c.z||c[2]||0):(this.x=c,this.y=h,this.z=e)},get:function(){return new c(this.x,this.y,this.z)},mag:function(){return e.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},add:function(c,h,e){arguments.length===3?(this.x+=c,this.y+=h,this.z+=e):arguments.length===1&&(this.x+=c.x,this.y+=c.y,this.z+=c.z)},sub:function(c,h,e){arguments.length===3?(this.x-=c,this.y-=h,this.z-=e):arguments.length===1&&(this.x-=c.x,this.y-=c.y,this.z-=c.z)},mult:function(c){typeof c==="number"?(this.x*=
c,this.y*=c,this.z*=c):typeof c==="object"&&(this.x*=c.x,this.y*=c.y,this.z*=c.z)},div:function(c){typeof c==="number"?(this.x/=c,this.y/=c,this.z/=c):typeof c==="object"&&(this.x/=c.x,this.y/=c.y,this.z/=c.z)},dist:function(c){var h=this.x-c.x,i=this.y-c.y,c=this.z-c.z;return e.sqrt(h*h+i*i+c*c)},dot:function(c,h,e){if(arguments.length===3)return this.x*c+this.y*h+this.z*e;else if(arguments.length===1)return this.x*c.x+this.y*c.y+this.z*c.z},cross:function(h){return new c(this.y*h.z-h.y*this.z,this.z*
h.x-h.z*this.x,this.x*h.y-h.x*this.y)},normalize:function(){var c=this.mag();c>0&&this.div(c)},limit:function(c){this.mag()>c&&(this.normalize(),this.mult(c))},heading2D:function(){return-e.atan2(-this.y,this.x)},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};q--;)c[v[q]]=p(v[q]);for(q in c.prototype)c.prototype.hasOwnProperty(q)&&!c.hasOwnProperty(q)&&(c[q]=h(q));return c}();Wb.prototype=c;var la=new Wb;la.ArrayList=Fc;la.HashMap=
Gc;la.PVector=aa;la.ObjectIterator=Ib;la.defineProperty=function(c,h,e){"defineProperty"in Object?Object.defineProperty(c,h,e):(e.hasOwnProperty("get")&&c.__defineGetter__(h,e.get),e.hasOwnProperty("set")&&c.__defineSetter__(h,e.set))};la.extendClassChain=function(c){for(var h=[c],e=c.$upcast;e;e=e.$upcast)xb(e,c),h.push(e),c=e;for(;h.length>0;)h.pop().$self=c};la.extendStaticMembers=function(c,h){xb(c,h)};la.extendInterfaceMembers=function(c,h){xb(c,h)};la.addMethod=function(c,h,e){if(c[h]){var p=
e.length,q=c[h];c[h]=function(){return arguments.length===p?e.apply(this,arguments):q.apply(this,arguments)}}else c[h]=e};la.createJavaArray=function(c,h){var e=null;if(typeof h[0]==="number"){var p=0|h[0];if(h.length<=1){e=[];e.length=p;for(var q=0;q<p;++q)e[q]=0}else for(var e=[],q=h.slice(1),s=0;s<p;++s)e.push(la.createJavaArray(c,q))}return e};var Jb={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",
blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",
darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",
lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",
mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",
peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",
white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Da=[],lc={},y=this.Processing=function(i,h){function H(b){y.debug("Unimplemented - "+b)}function v(b,l,a,c){var g=Ma.locations[b];g===p&&(g=d.getUniformLocation(l,a),Ma.locations[b]=g);g!==-1&&(c.length===4?d.uniform4fv(g,c):c.length===3?d.uniform3fv(g,c):c.length===2?d.uniform2fv(g,c):d.uniform1f(g,c))}function q(b,l,a,c){var g=Ma.locations[b];g===p&&(g=d.getUniformLocation(l,a),Ma.locations[b]=g);g!==-1&&(c.length===4?
d.uniform4iv(g,c):c.length===3?d.uniform3iv(g,c):c.length===2?d.uniform2iv(g,c):d.uniform1i(g,c))}function s(b,l,a,c,g){var r=Ma.attributes[b];r===p&&(r=d.getAttribLocation(l,a),Ma.attributes[b]=r);r!==-1&&(d.bindBuffer(d.ARRAY_BUFFER,g),d.vertexAttribPointer(r,c,d.FLOAT,!1,0,0),d.enableVertexAttribArray(r))}function K(b,l,a){var c=Ma.attributes[b];c===p&&(c=d.getAttribLocation(l,a),Ma.attributes[b]=c);c!==-1&&d.disableVertexAttribArray(c)}function w(b,l,a,c,g){var r=Ma.locations[b];r===p&&(r=d.getUniformLocation(l,
a),Ma.locations[b]=r);r!==-1&&(g.length===16?d.uniformMatrix4fv(r,c,g):g.length===9?d.uniformMatrix3fv(r,c,g):d.uniformMatrix2fv(r,c,g))}function x(b,l,m,f){db===c.HSB?(m=a.color.toRGB(b,l,m),b=m[0],l=m[1],m=m[2]):(b=e.round(255*(b/ia)),l=e.round(255*(l/xa)),m=e.round(255*(m/A)));f=e.round(255*(f/Z));return(f>255?255:f)<<24&c.ALPHA_MASK|(b>255?255:b)<<16&c.RED_MASK|(l>255?255:l)<<8&c.GREEN_MASK|(m>255?255:m)&c.BLUE_MASK}function zb(){d.restore();Ga=Db=!0}function G(b,l,a){b.addEventListener?b.addEventListener(l,
a,!1):b.attachEvent("on"+l,a);Kb.push({elem:b,type:l,fn:a})}function ca(b){var l=b.elem,a=b.type,b=b.fn;l.removeEventListener?l.removeEventListener(a,b,!1):l.detachEvent&&l.detachEvent("on"+a,b)}function da(b,l){var a=1;a<<=l-1;for(var c="",g=0;g<l;g++)c+=a&b?"1":"0",a>>>=1;return c}function qa(b,l,a,c,g,d){l=b<0?a:l;a=g===0;g=g===p||g<0?0:g;b=e.abs(b);if(a){g=1;for(b*=10;e.abs(e.round(b)-b)>1.0E-6&&g<7;)++g,b*=10}else g!==0&&(b*=e.pow(10,g));a=b*2;e.floor(b)===b?a=b:e.floor(a)===a?(b=e.floor(b),
a=b+b%2):a=e.round(b);b="";for(c+=g;c>0||a>0;)c--,b=""+a%10+b,a=e.floor(a/10);if(d!==p)for(c=b.length-3-g;c>0;)b=b.substring(0,c)+d+b.substring(c),c-=3;return g>0?l+b.substring(0,b.length-g)+"."+b.substring(b.length-g,b.length):l+b}function fa(b,l,a,c,g,d){if(b instanceof Array){for(var j=[],k=0,F=b.length;k<F;k++)j.push(qa(b[k],l,a,c,g,d));return j}else return qa(b,l,a,c,g,d)}function Yc(b){b=parseInt("0x"+b,16);b>2147483647&&(b-=4294967296);return b}function hb(b){return Array.prototype.slice.call(b,
1)}function Xb(b){if(typeof b==="number")return b!==0;else if(typeof b==="boolean")return b;else if(typeof b==="string")return b.toLowerCase()==="true";else if(b instanceof ya)return b.code===49||b.code===84||b.code===116}function Zc(b){if(typeof b==="number")return b;else if(typeof b==="boolean")return b?1:0;else if(typeof b==="string")return parseFloat(b);else if(b instanceof ya)return b.code}function pb(b,l){if(typeof b==="number")return b&4294967295;else if(typeof b==="boolean")return b?1:0;else if(typeof b===
"string")return parseInt(b,l||10)&4294967295;else if(b instanceof ya)return b.code}function ha(b,l){var a=b||362436069,c=l||521288629,g=function(){a=36969*(a&65535)+(a>>>16)&4294967295;c=18E3*(c&65535)+(c>>>16)&4294967295;return((a&65535)<<16|c&65535)&4294967295};this.nextDouble=function(){var b=g()/4294967296;return b<0?1+b:b};this.nextInt=g}function Ia(b){function l(b,l,a,m){b&=15;var c=b<8?l:a,l=b<4?a:b===12||b===14?l:m;return((b&1)===0?c:-c)+((b&2)===0?l:-l)}function a(b,l,m){l=(b&1)===0?l:m;
return(b&2)===0?-l:l}function c(b,l,a){return l+b*(a-l)}var b=b!==p?new ha(b):ha.createRandomized(),g,d,j=new $c(512);for(g=0;g<256;++g)j[g]=g;for(g=0;g<256;++g){var k=j[d=b.nextInt()&255];j[d]=j[g];j[g]=k}for(g=0;g<256;++g)j[g+256]=j[g];this.noise3d=function(b,a,m){var g=e.floor(b)&255,d=e.floor(a)&255,r=e.floor(m)&255;b-=e.floor(b);a-=e.floor(a);m-=e.floor(m);var k=(3-2*b)*b*b,h=(3-2*a)*a*a,i=j[g]+d,o=j[i]+r,i=j[i+1]+r,d=j[g+1]+d,g=j[d]+r,r=j[d+1]+r;return c((3-2*m)*m*m,c(h,c(k,l(j[o],b,a,m),l(j[g],
b-1,a,m)),c(k,l(j[i],b,a-1,m),l(j[r],b-1,a-1,m))),c(h,c(k,l(j[o+1],b,a,m-1),l(j[g+1],b-1,a,m-1)),c(k,l(j[i+1],b,a-1,m-1),l(j[r+1],b-1,a-1,m-1))))};this.noise2d=function(b,l){var g=e.floor(b)&255,d=e.floor(l)&255;b-=e.floor(b);l-=e.floor(l);var r=(3-2*b)*b*b,k=j[g]+d,g=j[g+1]+d;return c((3-2*l)*l*l,c(r,a(j[k],b,l),a(j[g],b-1,l)),c(r,a(j[k+1],b,l-1),a(j[g+1],b-1,l-1)))};this.noise1d=function(b){var l=e.floor(b)&255;b-=e.floor(b);return c((3-2*b)*b*b,(j[l]&1)===0?-b:b,(j[l+1]&1)===0?-(b-1):b-1)}}function ea(){if(U){if(Ga)d.fillStyle=
a.color.toString(Fa),Ga=!1;d.fill()}}function Y(){if(O){if(Db)d.strokeStyle=a.color.toString(ka),Db=!1;d.stroke()}}function hc(b,l,m){m=0|m*((l&c.ALPHA_MASK)>>>24);return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<24|a.mix(b&c.RED_MASK,l&c.RED_MASK,m)&c.RED_MASK|a.mix(b&c.GREEN_MASK,l&c.GREEN_MASK,m)&c.GREEN_MASK|a.mix(b&c.BLUE_MASK,l&c.BLUE_MASK,m)}function ma(b,l,a){var c=ad.shift();if(c===p)c={},c.canvas=z.createElement("canvas"),c.context=c.canvas.getContext("2d");ad.push(c);var g=c.canvas,d=c.context,
l=l||b.width,a=a||b.height;g.width=l;g.height=a;b?"data"in b?d.putImageData(b,0,0):(d.clearRect(0,0,l,a),d.drawImage(b,0,0,l,a)):d.clearRect(0,0,l,a);return c}function Ca(){bc&&(d=bd,bc=!1,a.updatePixels())}function La(){function b(b,l){b[l]=function(){Ca();d[l].apply(d,arguments)}}function l(b,l){a.defineProperty(b,l,{get:function(){Ca();return d[l]},set:function(b){Ca();d[l]=b}})}for(var m in d)typeof d[m]==="function"?b(this,m):l(this,m)}function Pa(b){this.name="sans-serif";if(b!==p)switch(b){case "sans-serif":case "serif":case "monospace":case "fantasy":case "cursive":this.name=
b;break;default:this.name='"'+b+'", sans-serif'}this.origName=b}function Ea(b){return b instanceof String?b:typeof b==="number"?b===(0|b)?b.toString():a.nf(b,0,3):b===null||b===p?"":b.toString()}function Qa(b,l,a,c){this.canvas=z.createElement("canvas");this.canvas.setAttribute("width",l+"px");this.canvas.setAttribute("height",l+"px");this.ctx=this.canvas.getContext("2d");this.ctx.font=l+"pt "+b;this.ctx.fillStyle="black";this.ctx.fillRect(0,0,l,l);this.ctx.fillStyle="white";this.ctx.fillText(c,0,
a);this.imageData=this.ctx.getImageData(0,0,l,l);this.get=function(b,l){return this.imageData.data[l*this.imageData.width*4+b*4]}}function ic(b,l,a,f){var g;b.indexOf("\n")<0?(b=[b],g=1):(b=b.split(/\r?\n/g),g=b.length);var d;d=Lb===c.TOP?(1-mc)*fb:Lb===c.CENTER?(1-mc-g/2)*fb:Lb===c.BOTTOM?(1-mc-g)*fb:0;for(var j=0;j<g;++j)ga.text$line(b[j],l,a+d,f,Mb),d+=fb}function Ab(b,l,a,f,g,r){if(!(b.length===0||f===0||g===0)&&!(S>g)){var j=-1,k=0,F=0,h=0;d.font=S+"px "+ja.name;for(var e=[],i=0,n=b.length;i<
n;i++){var o=b[i],p=o===" ",q=d.measureText(o).width;if(o!=="\n"&&F+q<f)p&&(j=i),F+=q;else{if(j+1===k)if(i>0)j=i;else return;o==="\n"?(e.push({text:b.substring(k,i),width:F,offset:h}),k=i+1):(e.push({text:b.substring(k,j),width:F,offset:h}),k=j+1);h+=fb;F=0;i=k-1}}k<n&&e.push({text:b.substring(k),width:F,offset:h});b=0;Mb===c.CENTER?b=f/2:Mb===c.RIGHT&&(b=f);f=(1-mc)*S;j=0;Lb===c.BOTTOM?j=g-e.length*fb:Lb===c.CENTER&&(j=(g-e.length*fb)/2);k=0;for(F=e.length;k<F;k++)if(h=e[k],!(h.offset+j<0)){if(h.offset+
j+S>g)break;ga.text$line(h.text,l+b,a+h.offset+f+j,r,Mb)}}}function Ra(b){ga=b==="3D"?new J:b==="2D"?new D:new C;for(var l in C.prototype)C.prototype.hasOwnProperty(l)&&l.indexOf("$")<0&&(a[l]=ga[l]);ga.$init()}function I(b){return function(){Ra("2D");return ga[b].apply(this,arguments)}}function wa(b){var l=b,m=0,c=0;a.pmouseX=a.mouseX;a.pmouseY=a.mouseY;if(l.offsetParent){do m+=l.offsetLeft,c+=l.offsetTop;while(l=l.offsetParent)}l=b;do m-=l.scrollLeft||0,c-=l.scrollTop||0;while(l=l.parentNode);m+=
cd;c+=dd;m+=ed;c+=fd;m+=X.pageXOffset;c+=X.pageYOffset;return{X:m,Y:c}}function qb(b,l){var m=wa(b,l);a.mouseX=l.pageX-m.X;a.mouseY=l.pageY-m.Y}function rb(b){var l=wa(b.changedTouches[0].target,b.changedTouches[0]),a;for(a=0;a<b.touches.length;a++){var c=b.touches[a];c.offsetX=c.pageX-l.X;c.offsetY=c.pageY-l.Y}for(a=0;a<b.targetTouches.length;a++)c=b.targetTouches[a],c.offsetX=c.pageX-l.X,c.offsetY=c.pageY-l.Y;for(a=0;a<b.changedTouches.length;a++)c=b.changedTouches[a],c.offsetX=c.pageX-l.X,c.offsetY=
c.pageY-l.Y;return b}function xb(b){b=b.which||b.keyCode;switch(b){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return b}function Hb(b){typeof b.preventDefault==="function"?b.preventDefault():typeof b.stopPropagation==="function"&&b.stopPropagation();return!1}function Bb(){for(var b in lb)if(lb.hasOwnProperty(b)){a.__keyPressed=!0;return}a.__keyPressed=!1}function Ib(b,l){lb[b]=l;sb=null;a.key=l;a.keyCode=b;a.keyPressed();a.keyCode=
0;a.keyTyped();Bb()}function Zb(b){var l=xb(b);if(l===c.DELETE)Ib(l,new ya(127));else if(yc.indexOf(l)<0)sb=l;else{var m=new ya(c.CODED);a.key=m;a.keyCode=l;lb[l]=m;a.keyPressed();sb=null;Bb();return Hb(b)}}function $b(b){if(sb!==null){var l=sb,a;a=b.which||b.keyCode;var c=b.shiftKey||b.ctrlKey||b.altKey||b.metaKey;switch(a){case 13:a=c?13:10;break;case 8:a=c?127:8}a=new ya(a);Ib(l,a);return Hb(b)}}function Cb(b){var b=xb(b),l=lb[b];if(l!==p)a.key=l,a.keyCode=b,a.keyReleased(),delete lb[b],Bb()}if(!(this instanceof
y))throw"called Processing constructor as if it were a function: missing 'new'.";var a=this,jb=arguments.length===0;jb&&(i=z.createElement("canvas"));a.externals={canvas:i,context:p,sketch:p};a.name="Processing.js Instance";a.use3DContext=!1;a.focused=!1;a.breakShape=!1;a.glyphTable={};a.pmouseX=0;a.pmouseY=0;a.mouseX=0;a.mouseY=0;a.mouseButton=0;a.mouseScroll=0;a.mouseClicked=p;a.mouseDragged=p;a.mouseMoved=p;a.mousePressed=p;a.mouseReleased=p;a.mouseScrolled=p;a.mouseOver=p;a.mouseOut=p;a.touchStart=
p;a.touchEnd=p;a.touchMove=p;a.touchCancel=p;a.key=p;a.keyCode=p;a.keyPressed=function(){};a.keyReleased=function(){};a.keyTyped=function(){};a.draw=p;a.setup=p;a.__mousePressed=!1;a.__keyPressed=!1;a.__frameRate=60;a.frameCount=0;a.width=100;a.height=100;var d,$,ga,U=!0,na=[1,1,1,1],Fa=4294967295,Ga=!0,O=!0,oa=[0.8,0.8,0.8,1],ka=4294835709,Db=!0,pa=1,kb=!1,$a=!0,N=0,T=c.CORNER,ba=c.CENTER,Aa=0,ob=0,gb=0,ib=c.NORMAL_MODE_AUTO,Oa=60,Eb=1E3/Oa,Ba=i.style.cursor,W=c.POLYGON,Ya=0,Yb=20,Ub=!1,Za=-3355444,
yb=20,Z=255,ia=255,xa=255,A=255,db=c.RGB,eb=null,S=12,ja={name:'"Arial", sans-serif',origName:"Arial"},fb=14,Vb=(new Date).getTime(),Ac=Vb,jc=0,Ha,ac,kc,Gb,Fb,Bc,Hc,Ma={attributes:{},locations:{}},u,E,ua,Ic,Jc,Kc,nc,Lc,cc,Mc,Wb,Nc,gd,oc,hd,id,jd,pc={width:0,height:0},kd=c.IMAGE,za=!1,Oc,Pc,Qc,Mb=c.LEFT,Lb=c.BASELINE,mc=0.2,Rc=c.MODEL,bd,Sc=null,bc=!1,ld,md=1E3,lb=[],sb=null,yc=[c.SHIFT,c.CONTROL,c.ALT,c.CAPSLK,c.PGUP,c.PGDN,c.END,c.HOME,c.LEFT,c.UP,c.RIGHT,c.DOWN,c.NUMLK,c.INSERT,c.F1,c.F2,c.F3,c.F4,
c.F5,c.F6,c.F7,c.F8,c.F9,c.F10,c.F11,c.F12,c.META],cd,dd,ed,fd;z.defaultView&&z.defaultView.getComputedStyle&&(cd=parseInt(z.defaultView.getComputedStyle(i,null).paddingLeft,10)||0,dd=parseInt(z.defaultView.getComputedStyle(i,null).paddingTop,10)||0,ed=parseInt(z.defaultView.getComputedStyle(i,null).borderLeftWidth,10)||0,fd=parseInt(z.defaultView.getComputedStyle(i,null).borderTopWidth,10)||0);var L=0,qc=0,tb=0,Sa=[],Ta=[],Ua=[],Nb=new Q(c.SINCOS_LENGTH),Ob=new Q(c.SINCOS_LENGTH),P,ub,Va,ra,sa,V,
Wa,Pb,Qb,dc,Na,rc=!1,sc=60*(e.PI/180),Tc=a.width/2,vb=a.height/2,wb=vb/e.tan(sc/2),nd=wb/10,od=wb*10,pd=a.width/a.height,o=[],va=[],ta=0,Rb=!1,Sb=!1,mb=!0,ec=c.CORNER,qd=[],rd=new Q([0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,
-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5]),sd=new Q([0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5]),
zc=new Q([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),Uc=new Q([0,0,0,0,1,0,1,1,0,1,0,0]),Cc=new Q([0,0,1,0,0,1,0,0,1,0,0,1]),Fc="varying vec4 frontColor;attribute vec3 Vertex;attribute vec3 Normal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 color;uniform bool usingMat;uniform vec3 specular;uniform vec3 mat_emissive;uniform vec3 mat_ambient;uniform vec3 mat_specular;uniform float shininess;uniform mat4 model;uniform mat4 view;uniform mat4 projection;uniform mat4 normalTransform;uniform int lightCount;uniform vec3 falloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light lights0;uniform Light lights1;uniform Light lights2;uniform Light lights3;uniform Light lights4;uniform Light lights5;uniform Light lights6;uniform Light lights7;Light getLight(int index){  if(index == 0) return lights0;  if(index == 1) return lights1;  if(index == 2) return lights2;  if(index == 3) return lights3;  if(index == 4) return lights4;  if(index == 5) return lights5;  if(index == 6) return lights6;  return lights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( falloff[0] + ( falloff[1] * d ) + ( falloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerfactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerfactor = pow( nDotVH, shininess );  }  col += light.color * nDotVP;  spec += specular * powerfactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerfactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( falloff[0] + ( falloff[1] * d ) + ( falloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0) {    powerfactor = 0.0;  }  else{    powerfactor = pow( nDotHV, shininess );  }  spec += specular * powerfactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerfactor;  vec3 VP = light.position - ecPos;   vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( falloff[0] + ( falloff[1] * d ) + ( falloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+
(/Windows/.test(navigator.userAgent)?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerfactor = 0.0;  }  else {    powerfactor = pow( nDotHV, shininess );  }  spec += specular * powerfactor * attenuation;  col += light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient = vec3( 0.0, 0.0, 0.0 );  vec3 finalDiffuse = vec3( 0.0, 0.0, 0.0 );  vec3 finalSpecular = vec3( 0.0, 0.0, 0.0 );  vec4 col = color;  if(color[0] == -1.0){    col = aColor;  }  vec3 norm = normalize(vec3( normalTransform * vec4( Normal, 0.0 ) ));  vec4 ecPos4 = view * model * vec4(Vertex,1.0);  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;  if( lightCount == 0 ) {    frontColor = vec4( col.rgb + mat_specular.rgb, col[3] );  }  else {    for( int i = 0; i < 8; i++ ) {      Light l = getLight(i);      if( i >= lightCount ){        break;      }      if( l.type == 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type == 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type == 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }    }   if( usingMat == false ) {     frontColor = vec4(       vec3(col) * finalAmbient +       vec3(col) * finalDiffuse +       vec3(col) * finalSpecular,       col[3] );   }   else{     frontColor = vec4(        mat_emissive +        (vec3(col) * mat_ambient * finalAmbient) +        (vec3(col) * finalDiffuse) +        (mat_specular * finalSpecular),        col[3] );    }  }  vTexture.xy = aTexture.xy;  gl_Position = projection * view * model * vec4( Vertex, 1.0 );}",
td=function(b,l,a,c){return{x:b,y:l,w:a,h:c}},tc=td,Gc=function(b,l,a,c,g){return{x:b,y:l,w:g?a:a-b,h:g?c:c-l}},Ed=function(b,l,a,c){return{x:b-a/2,y:l-c/2,w:a,h:c}},Vc=function(b,l,a){var c=b.createShader(b.VERTEX_SHADER);b.shaderSource(c,l);b.compileShader(c);if(!b.getShaderParameter(c,b.COMPILE_STATUS))throw b.getShaderInfoLog(c);l=b.createShader(b.FRAGMENT_SHADER);b.shaderSource(l,a);b.compileShader(l);if(!b.getShaderParameter(l,b.COMPILE_STATUS))throw b.getShaderInfoLog(l);a=b.createProgram();
b.attachShader(a,c);b.attachShader(a,l);b.linkProgram(a);if(!b.getProgramParameter(a,b.LINK_STATUS))throw"Error linking shaders.";return a},M=function(){},D=function(){},J=function(){},C=function(){};D.prototype=new M;D.prototype.constructor=D;J.prototype=new M;J.prototype.constructor=J;C.prototype=new M;C.prototype.constructor=C;M.prototype.a3DOnlyFunction=function(){};var Wc={},ya=a.Character=function(b){this.code=typeof b==="string"&&b.length===1?b.charCodeAt(0):typeof b==="number"?b:b instanceof
ya?b:NaN;return Wc[this.code]===p?Wc[this.code]=this:Wc[this.code]};ya.prototype.toString=function(){return String.fromCharCode(this.code)};ya.prototype.valueOf=function(){return this.code};var fc=a.PShape=function(b){this.family=b||c.GROUP;this.style=this.visible=!0;this.children=[];this.nameTable=[];this.params=[];this.name="";this.parent=this.height=this.width=this.close=this.kind=this.matrix=this.image=null};fc.prototype={isVisible:function(){return this.visible},setVisible:function(b){this.visible=
b},disableStyle:function(){this.style=!1;for(var b=0,l=this.children.length;b<l;b++)this.children[b].disableStyle()},enableStyle:function(){this.style=!0;for(var b=0,l=this.children.length;b<l;b++)this.children[b].enableStyle()},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(b){this.name=b},getName:function(){return this.name},draw:function(){this.visible&&(this.pre(),this.drawImpl(),this.post())},drawImpl:function(){this.family===
c.GROUP?this.drawGroup():this.family===c.PRIMITIVE?this.drawPrimitive():this.family===c.GEOMETRY?this.drawGeometry():this.family===c.PATH&&this.drawPath()},drawPath:function(){var b,l;if(this.vertices.length!==0){a.beginShape();if(this.vertexCodes.length===0)if(this.vertices[0].length===2){b=0;for(l=this.vertices.length;b<l;b++)a.vertex(this.vertices[b][0],this.vertices[b][1])}else{b=0;for(l=this.vertices.length;b<l;b++)a.vertex(this.vertices[b][0],this.vertices[b][1],this.vertices[b][2])}else{var m=
0;if(this.vertices[0].length===2){b=0;for(l=this.vertexCodes.length;b<l;b++)if(this.vertexCodes[b]===c.VERTEX)a.vertex(this.vertices[m][0],this.vertices[m][1]),this.vertices[m].moveTo===!0?o[o.length-1].moveTo=!0:this.vertices[m].moveTo===!1&&(o[o.length-1].moveTo=!1),a.breakShape=!1,m++;else if(this.vertexCodes[b]===c.BEZIER_VERTEX)a.bezierVertex(this.vertices[m+0][0],this.vertices[m+0][1],this.vertices[m+1][0],this.vertices[m+1][1],this.vertices[m+2][0],this.vertices[m+2][1]),m+=3;else if(this.vertexCodes[b]===
c.CURVE_VERTEX)a.curveVertex(this.vertices[m][0],this.vertices[m][1]),m++;else if(this.vertexCodes[b]===c.BREAK)a.breakShape=!0}else{b=0;for(l=this.vertexCodes.length;b<l;b++)if(this.vertexCodes[b]===c.VERTEX)a.vertex(this.vertices[m][0],this.vertices[m][1],this.vertices[m][2]),this.vertices[m].moveTo===!0?o[o.length-1].moveTo=!0:this.vertices[m].moveTo===!1&&(o[o.length-1].moveTo=!1),a.breakShape=!1;else if(this.vertexCodes[b]===c.BEZIER_VERTEX)a.bezierVertex(this.vertices[m+0][0],this.vertices[m+
0][1],this.vertices[m+0][2],this.vertices[m+1][0],this.vertices[m+1][1],this.vertices[m+1][2],this.vertices[m+2][0],this.vertices[m+2][1],this.vertices[m+2][2]),m+=3;else if(this.vertexCodes[b]===c.CURVE_VERTEX)a.curveVertex(this.vertices[m][0],this.vertices[m][1],this.vertices[m][2]),m++;else if(this.vertexCodes[b]===c.BREAK)a.breakShape=!0}}a.endShape(this.close?c.CLOSE:c.OPEN)}},drawGeometry:function(){var b,l;a.beginShape(this.kind);if(this.style){b=0;for(l=this.vertices.length;b<l;b++)a.vertex(this.vertices[b])}else{b=
0;for(l=this.vertices.length;b<l;b++){var c=this.vertices[b];c[2]===0?a.vertex(c[0],c[1]):a.vertex(c[0],c[1],c[2])}}a.endShape()},drawGroup:function(){for(var b=0,l=this.children.length;b<l;b++)this.children[b].draw()},drawPrimitive:function(){this.kind===c.POINT?a.point(this.params[0],this.params[1]):this.kind===c.LINE?this.params.length===4?a.line(this.params[0],this.params[1],this.params[2],this.params[3]):a.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]):
this.kind===c.TRIANGLE?a.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]):this.kind===c.QUAD?a.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]):this.kind===c.RECT?this.image!==null?(a.imageMode(c.CORNER),a.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3])):(a.rectMode(c.CORNER),a.rect(this.params[0],this.params[1],this.params[2],this.params[3])):
this.kind===c.ELLIPSE?(a.ellipseMode(c.CORNER),a.ellipse(this.params[0],this.params[1],this.params[2],this.params[3])):this.kind===c.ARC?(a.ellipseMode(c.CORNER),a.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5])):this.kind===c.BOX?this.params.length===1?a.box(this.params[0]):a.box(this.params[0],this.params[1],this.params[2]):this.kind===c.SPHERE&&a.sphere(this.params[0])},pre:function(){this.matrix&&(a.pushMatrix(),d.transform(this.matrix.elements[0],
this.matrix.elements[3],this.matrix.elements[1],this.matrix.elements[4],this.matrix.elements[2],this.matrix.elements[5]));this.style&&(a.pushStyle(),this.styles())},post:function(){this.matrix&&a.popMatrix();this.style&&a.popStyle()},styles:function(){this.stroke?(a.stroke(this.strokeColor),a.strokeWeight(this.strokeWeight),a.strokeCap(this.strokeCap),a.strokeJoin(this.strokeJoin)):a.noStroke();this.fill?a.fill(this.fillColor):a.noFill()},getChild:function(b){var l,a;if(typeof b==="number")return this.children[b];
else{var c;if(b===""||this.name===b)return this;else{if(this.nameTable.length>0){l=0;for(a=this.nameTable.length;l<a||c;l++)this.nameTable[l].getName===b&&(c=this.nameTable[l]);if(c)return c}l=0;for(a=this.children.length;l<a;l++)if(c=this.children[l].getChild(b))return c}return null}},getChildCount:function(){return this.children.length},addChild:function(b){this.children.push(b);b.parent=this;b.getName()!==null&&this.addName(b.getName(),b)},addName:function(b,l){this.parent!==null?this.parent.addName(b,
l):this.nameTable.push([b,l])},translate:function(){arguments.length===2?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(b){if(this.matrix===null)this.matrix=b===2?new a.PMatrix2D:new a.PMatrix3D;else if(b===3&&this.matrix instanceof a.PMatrix2D)this.matrix=new a.PMatrix3D},rotateX:function(b){this.rotate(b,1,0,0)},rotateY:function(b){this.rotate(b,0,1,0)},rotateZ:function(b){this.rotate(b,
0,0,1)},rotate:function(){arguments.length===1?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){arguments.length===2?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):arguments.length===3?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1],arguments[2])):(this.checkMatrix(2),this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2);
this.matrix.reset()},applyMatrix:function(b){arguments.length===1?this.applyMatrix(b.elements[0],b.elements[1],0,b.elements[2],b.elements[3],b.elements[4],0,b.elements[5],0,0,1,0,0,0,0,1):arguments.length===6?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):arguments.length===16&&(this.checkMatrix(3),this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],
arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}};var R=a.PShapeSVG=function(){a.PShape.call(this);if(arguments.length===1){if(this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=c.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=c.SQUARE,this.strokeJoin=c.MITER,this.strokeName=this.strokeGradientPaint=this.strokeGradient=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=
c.ALPHA_MASK,this.fillName=this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1,this.element.getName()!=="svg")throw"root is not <svg>, it's <"+this.element.getName()+">";}else if(arguments.length===2)if(typeof arguments[1]==="string"){if(arguments[1].indexOf(".svg")>-1)this.element=new a.XMLElement(null,arguments[1]),this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=c.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=c.SQUARE,this.strokeJoin=c.MITER,this.strokeName=
this.strokeGradientPaint=this.strokeGradient="",this.strokeOpacity=1,this.fill=!0,this.fillColor=c.ALPHA_MASK,this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1}else if(arguments[0])this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),this.stroke=arguments[0].stroke,this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,
this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,this.fillName=arguments[0].fillName,this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity;this.name=this.element.getStringAttribute("id");
this.visible=this.element.getStringAttribute("display","inline")!=="none";var b=this.element.getAttribute("transform");if(b)this.matrix=this.parseMatrix(b);b=this.element.getStringAttribute("viewBox");if(b!==null)b=b.split(" "),this.width=b[2],this.height=b[3];var b=this.element.getStringAttribute("width"),l=this.element.getStringAttribute("height");if(b!==null)this.width=this.parseUnitSize(b),this.height=this.parseUnitSize(l);else if(this.width===0||this.height===0)throw this.height=this.width=1,
"The width and/or height is not readable in the <svg> tag of this file.";this.parseColors(this.element);this.parseChildren(this.element)};R.prototype=new fc;R.prototype.parseMatrix=function(){function b(b){var a=[];b.replace(/\((.*?)\)/,function(){return function(b,l){a=l.replace(/,+/g," ").split(/\s+/)}}());return a}return function(l){this.checkMatrix(2);var c=[];l.replace(/\s*(\w+)\((.*?)\)/g,function(b){c.push(a.trim(b))});if(c.length===0)return null;for(var l=0,f=c.length;l<f;l++){var g=b(c[l]);
if(c[l].indexOf("matrix")!==-1)this.matrix.set(g[0],g[2],g[4],g[1],g[3],g[5]);else if(c[l].indexOf("translate")!==-1)this.matrix.translate(g[0],g.length===2?g[1]:0);else if(c[l].indexOf("scale")!==-1)this.matrix.scale(g[0],g.length===2?g[1]:g[0]);else if(c[l].indexOf("rotate")!==-1){var d=g[0];g.length===1?this.matrix.rotate(a.radians(d)):g.length===3&&(this.matrix.translate(g[1],g[2]),this.matrix.rotate(a.radians(g[0])),this.matrix.translate(-g[1],-g[2]))}else c[l].indexOf("skewX")!==-1?this.matrix.skewX(parseFloat(g[0])):
c[l].indexOf("skewY")!==-1&&this.matrix.skewY(g[0])}return this.matrix}}();R.prototype.parseChildren=function(b){for(var b=b.getChildren(),l=new a.PShape,c=0,f=b.length;c<f;c++){var g=this.parseChild(b[c]);g&&l.addChild(g)}this.children.push(l)};R.prototype.getName=function(){return this.name};R.prototype.parseChild=function(b){var l=b.getName(),a;l==="g"?a=new R(this,b):l==="defs"?a=new R(this,b):l==="line"?(a=new R(this,b),a.parseLine()):l==="circle"?(a=new R(this,b),a.parseEllipse(!0)):l==="ellipse"?
(a=new R(this,b),a.parseEllipse(!1)):l==="rect"?(a=new R(this,b),a.parseRect()):l==="polygon"?(a=new R(this,b),a.parsePoly(!0)):l==="polyline"?(a=new R(this,b),a.parsePoly(!1)):l==="path"?(a=new R(this,b),a.parsePath()):l==="radialGradient"?H("PShapeSVG.prototype.parseChild, name = radialGradient"):l==="linearGradient"?H("PShapeSVG.prototype.parseChild, name = linearGradient"):l==="text"?H("PShapeSVG.prototype.parseChild, name = text"):l==="filter"?H("PShapeSVG.prototype.parseChild, name = filter"):
l==="mask"&&H("PShapeSVG.prototype.parseChild, name = mask");return a};R.prototype.parsePath=function(){this.family=c.PATH;this.kind=0;var b=a.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(b!==null)for(var b=a.__toCharArray(b),l=0,m=0,f=0,g=0,d=g=f=0,j=0,k=0,F=0,h=F=g=k=f=0,e=0,i="",n=[],o=!1,p,q,t;h<b.length;)if(e=b[h].valueOf(),e>=65&&e<=90||e>=97&&e<=122){t=h;h++;if(h<b.length){n=[];for(e=b[h].valueOf();!(e>=65&&e<=90||e>=97&&e<=100||e>=102&&e<=122)&&o===!1;)e===32?i!==""&&
(n.push(parseFloat(i)),i=""):e===45?b[h-1].valueOf()===101?i+=b[h].toString():(i!==""&&n.push(parseFloat(i)),i=b[h].toString()):i+=b[h].toString(),h++,h===b.length?o=!0:e=b[h].valueOf()}i!==""&&(n.push(parseFloat(i)),i="");q=b[t];e=q.valueOf();if(e===77){if(n.length>=2&&n.length%2===0&&(l=n[0],m=n[1],this.parsePathMoveto(l,m),n.length>2)){t=2;for(e=n.length;t<e;t+=2)l=n[t],m=n[t+1],this.parsePathLineto(l,m)}}else if(e===109){if(n.length>=2&&n.length%2===0&&(l+=n[0],m+=n[1],this.parsePathMoveto(l,
m),n.length>2)){t=2;for(e=n.length;t<e;t+=2)l+=n[t],m+=n[t+1],this.parsePathLineto(l,m)}}else if(e===76){if(n.length>=2&&n.length%2===0){t=0;for(e=n.length;t<e;t+=2)l=n[t],m=n[t+1],this.parsePathLineto(l,m)}}else if(e===108){if(n.length>=2&&n.length%2===0){t=0;for(e=n.length;t<e;t+=2)l+=n[t],m+=n[t+1],this.parsePathLineto(l,m)}}else if(e===72){t=0;for(e=n.length;t<e;t++)l=n[t],this.parsePathLineto(l,m)}else if(e===104){t=0;for(e=n.length;t<e;t++)l+=n[t],this.parsePathLineto(l,m)}else if(e===86){t=
0;for(e=n.length;t<e;t++)m=n[t],this.parsePathLineto(l,m)}else if(e===118){t=0;for(e=n.length;t<e;t++)m+=n[t],this.parsePathLineto(l,m)}else if(e===67){if(n.length>=6&&n.length%6===0){t=0;for(e=n.length;t<e;t+=6)f=n[t],d=n[t+1],g=n[t+2],j=n[t+3],k=n[t+4],F=n[t+5],this.parsePathCurveto(f,d,g,j,k,F),l=k,m=F}}else if(e===99){if(n.length>=6&&n.length%6===0){t=0;for(e=n.length;t<e;t+=6)f=l+n[t],d=m+n[t+1],g=l+n[t+2],j=m+n[t+3],k=l+n[t+4],F=m+n[t+5],this.parsePathCurveto(f,d,g,j,k,F),l=k,m=F}}else if(e===
83){if(n.length>=4&&n.length%4===0){t=0;for(e=n.length;t<e;t+=4)p.toLowerCase()==="c"||p.toLowerCase()==="s"?(f=this.vertices[this.vertices.length-2][0],k=this.vertices[this.vertices.length-2][1],g=this.vertices[this.vertices.length-1][0],F=this.vertices[this.vertices.length-1][1],f=g+(g-f),d=F+(F-k)):(f=this.vertices[this.vertices.length-1][0],d=this.vertices[this.vertices.length-1][1]),g=n[t],j=n[t+1],k=n[t+2],F=n[t+3],this.parsePathCurveto(f,d,g,j,k,F),l=k,m=F}}else if(e===115){if(n.length>=4&&
n.length%4===0){t=0;for(e=n.length;t<e;t+=4)p.toLowerCase()==="c"||p.toLowerCase()==="s"?(f=this.vertices[this.vertices.length-2][0],k=this.vertices[this.vertices.length-2][1],g=this.vertices[this.vertices.length-1][0],F=this.vertices[this.vertices.length-1][1],f=g+(g-f),d=F+(F-k)):(f=this.vertices[this.vertices.length-1][0],d=this.vertices[this.vertices.length-1][1]),g=l+n[t],j=m+n[t+1],k=l+n[t+2],F=m+n[t+3],this.parsePathCurveto(f,d,g,j,k,F),l=k,m=F}}else if(e===81){if(n.length>=4&&n.length%4===
0){t=0;for(e=n.length;t<e;t+=4)f=n[t],g=n[t+1],k=n[t+2],F=n[t+3],this.parsePathQuadto(l,m,f,g,k,F),l=k,m=F}}else if(e===113){if(n.length>=4&&n.length%4===0){t=0;for(e=n.length;t<e;t+=4)f=l+n[t],g=m+n[t+1],k=l+n[t+2],F=m+n[t+3],this.parsePathQuadto(l,m,f,g,k,F),l=k,m=F}}else if(e===84){if(n.length>=2&&n.length%2===0){t=0;for(e=n.length;t<e;t+=2)p.toLowerCase()==="q"||p.toLowerCase()==="t"?(f=this.vertices[this.vertices.length-2][0],k=this.vertices[this.vertices.length-2][1],g=this.vertices[this.vertices.length-
1][0],F=this.vertices[this.vertices.length-1][1],f=g+(g-f),g=F+(F-k)):(f=l,g=m),k=n[t],F=n[t+1],this.parsePathQuadto(l,m,f,g,k,F),l=k,m=F}}else if(e===116){if(n.length>=2&&n.length%2===0){t=0;for(e=n.length;t<e;t+=2)p.toLowerCase()==="q"||p.toLowerCase()==="t"?(f=this.vertices[this.vertices.length-2][0],k=this.vertices[this.vertices.length-2][1],g=this.vertices[this.vertices.length-1][0],F=this.vertices[this.vertices.length-1][1],f=g+(g-f),g=F+(F-k)):(f=l,g=m),k=l+n[t],F=m+n[t+1],this.parsePathQuadto(l,
m,f,g,k,F),l=k,m=F}}else if(e!==90&&e===122)this.close=!0;p=q.toString()}else h++};R.prototype.parsePathQuadto=function(b,l,a,f,g,d){if(this.vertices.length>0)this.parsePathCode(c.BEZIER_VERTEX),this.parsePathVertex(b+(a-b)*2/3,l+(f-l)*2/3),this.parsePathVertex(g+(a-g)*2/3,d+(f-d)*2/3),this.parsePathVertex(g,d);else throw"Path must start with M/m";};R.prototype.parsePathCurveto=function(b,l,a,f,g,d){if(this.vertices.length>0)this.parsePathCode(c.BEZIER_VERTEX),this.parsePathVertex(b,l),this.parsePathVertex(a,
f),this.parsePathVertex(g,d);else throw"Path must start with M/m";};R.prototype.parsePathLineto=function(b,a){if(this.vertices.length>0)this.parsePathCode(c.VERTEX),this.parsePathVertex(b,a),this.vertices[this.vertices.length-1].moveTo=!1;else throw"Path must start with M/m";};R.prototype.parsePathMoveto=function(b,a){this.vertices.length>0&&this.parsePathCode(c.BREAK);this.parsePathCode(c.VERTEX);this.parsePathVertex(b,a);this.vertices[this.vertices.length-1].moveTo=!0};R.prototype.parsePathVertex=
function(b,a){var c=[];c[0]=b;c[1]=a;this.vertices.push(c)};R.prototype.parsePathCode=function(b){this.vertexCodes.push(b)};R.prototype.parsePoly=function(b){this.family=c.PATH;this.close=b;b=a.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," "));if(b!==null)if(b=b.split(" "),b.length%2===0)for(var l=0,m=b.length;l<m;l++){var f=[];f[0]=b[l];f[1]=b[++l];this.vertices.push(f)}else throw"Error parsing polygon points: odd number of coordinates provided";};R.prototype.parseRect=function(){this.kind=
c.RECT;this.family=c.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("x");this.params[1]=this.element.getFloatAttribute("y");this.params[2]=this.element.getFloatAttribute("width");this.params[3]=this.element.getFloatAttribute("height");if(this.params[2]<0||this.params[3]<0)throw"svg error: negative width or height found while parsing <rect>";};R.prototype.parseEllipse=function(b){this.kind=c.ELLIPSE;this.family=c.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("cx")|
0;this.params[1]=this.element.getFloatAttribute("cy")|0;var a;if(b){if(b=a=this.element.getFloatAttribute("r"),b<0)throw"svg error: negative radius found while parsing <circle>";}else if(b=this.element.getFloatAttribute("rx"),a=this.element.getFloatAttribute("ry"),b<0||a<0)throw"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>";this.params[0]-=b;this.params[1]-=a;this.params[2]=b*2;this.params[3]=a*2};R.prototype.parseLine=function(){this.kind=c.LINE;this.family=c.PRIMITIVE;
this.params=[];this.params[0]=this.element.getFloatAttribute("x1");this.params[1]=this.element.getFloatAttribute("y1");this.params[2]=this.element.getFloatAttribute("x2");this.params[3]=this.element.getFloatAttribute("y2")};R.prototype.parseColors=function(b){b.hasAttribute("opacity")&&this.setOpacity(b.getAttribute("opacity"));b.hasAttribute("stroke")&&this.setStroke(b.getAttribute("stroke"));b.hasAttribute("stroke-width")&&this.setStrokeWeight(b.getAttribute("stroke-width"));b.hasAttribute("stroke-linejoin")&&
this.setStrokeJoin(b.getAttribute("stroke-linejoin"));b.hasAttribute("stroke-linecap")&&this.setStrokeCap(b.getStringAttribute("stroke-linecap"));b.hasAttribute("fill")&&this.setFill(b.getStringAttribute("fill"));if(b.hasAttribute("style"))for(var b=b.getStringAttribute("style").toString().split(";"),l=0,c=b.length;l<c;l++){var f=a.trim(b[l].split(":"));f[0]==="fill"?this.setFill(f[1]):f[0]==="fill-opacity"?this.setFillOpacity(f[1]):f[0]==="stroke"?this.setStroke(f[1]):f[0]==="stroke-width"?this.setStrokeWeight(f[1]):
f[0]==="stroke-linecap"?this.setStrokeCap(f[1]):f[0]==="stroke-linejoin"?this.setStrokeJoin(f[1]):f[0]==="stroke-opacity"?this.setStrokeOpacity(f[1]):f[0]==="opacity"&&this.setOpacity(f[1])}};R.prototype.setFillOpacity=function(b){this.fillOpacity=parseFloat(b);this.fillColor=this.fillOpacity*255<<24|this.fillColor&16777215};R.prototype.setFill=function(b){var a=this.fillColor&4278190080;if(b==="none")this.fill=!1;else if(b.indexOf("#")===0)this.fill=!0,b.length===4&&(b=b.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),
this.fillColor=a|parseInt(b.substring(1),16)&16777215;else if(b.indexOf("rgb")===0)this.fill=!0,this.fillColor=a|this.parseRGB(b);else if(b.indexOf("url(#")===0)this.fillName=b.substring(5,b.length-1);else if(Jb[b])this.fill=!0,this.fillColor=a|parseInt(Jb[b].substring(1),16)&16777215};R.prototype.setOpacity=function(b){this.strokeColor=parseFloat(b)*255<<24|this.strokeColor&16777215;this.fillColor=parseFloat(b)*255<<24|this.fillColor&16777215};R.prototype.setStroke=function(b){var a=this.strokeColor&
4278190080;if(b==="none")this.stroke=!1;else if(b.charAt(0)==="#")this.stroke=!0,b.length===4&&(b=b.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.strokeColor=a|parseInt(b.substring(1),16)&16777215;else if(b.indexOf("rgb")===0)this.stroke=!0,this.strokeColor=a|this.parseRGB(b);else if(b.indexOf("url(#")===0)this.strokeName=b.substring(5,b.length-1);else if(Jb[b])this.stroke=!0,this.strokeColor=a|parseInt(Jb[b].substring(1),16)&16777215};R.prototype.setStrokeWeight=function(b){this.strokeWeight=this.parseUnitSize(b)};
R.prototype.setStrokeJoin=function(b){if(b==="miter")this.strokeJoin=c.MITER;else if(b==="round")this.strokeJoin=c.ROUND;else if(b==="bevel")this.strokeJoin=c.BEVEL};R.prototype.setStrokeCap=function(b){if(b==="butt")this.strokeCap=c.SQUARE;else if(b==="round")this.strokeCap=c.ROUND;else if(b==="square")this.strokeCap=c.PROJECT};R.prototype.setStrokeOpacity=function(b){this.strokeOpacity=parseFloat(b);this.strokeColor=this.strokeOpacity*255<<24|this.strokeColor&16777215};R.prototype.parseRGB=function(b){b=
b.substring(b.indexOf("(")+1,b.indexOf(")")).split(", ");return b[0]<<16|b[1]<<8|b[2]};R.prototype.parseUnitSize=function(b){var a=b.length-2;if(a<0)return b;return b.indexOf("pt")===a?parseFloat(b.substring(0,a))*1.25:b.indexOf("pc")===a?parseFloat(b.substring(0,a))*15:b.indexOf("mm")===a?parseFloat(b.substring(0,a))*3.543307:b.indexOf("cm")===a?parseFloat(b.substring(0,a))*35.43307:b.indexOf("in")===a?parseFloat(b.substring(0,a))*90:b.indexOf("px")===a?parseFloat(b.substring(0,a)):parseFloat(b)};
a.shape=function(b,l,m,f,g){arguments.length>=1&&arguments[0]!==null&&b.isVisible()&&(a.pushMatrix(),ec===c.CENTER?arguments.length===5?(a.translate(l-f/2,m-g/2),a.scale(f/b.getWidth(),g/b.getHeight())):arguments.length===3?a.translate(l-b.getWidth()/2,-b.getHeight()/2):a.translate(-b.getWidth()/2,-b.getHeight()/2):ec===c.CORNER?arguments.length===5?(a.translate(l,m),a.scale(f/b.getWidth(),g/b.getHeight())):arguments.length===3&&a.translate(l,m):ec===c.CORNERS&&(arguments.length===5?(f-=l,g-=m,a.translate(l,
m),a.scale(f/b.getWidth(),g/b.getHeight())):arguments.length===3&&a.translate(l,m)),b.draw(),(arguments.length===1&&ec===c.CENTER||arguments.length>1)&&a.popMatrix())};a.shapeMode=function(b){ec=b};a.loadShape=function(b){if(arguments.length===1&&b.indexOf(".svg")>-1)return new R(null,b);return null};var uc=function(b,a,c,f,g){this.fullName=b||"";this.name=a||"";this.namespace=c||"";this.value=f;this.type=g};uc.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},
getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(b){this.value=b}};var nb=a.XMLElement=function(){this.attributes=[];this.children=[];this.name=this.fullName=null;this.namespace="";this.parent=this.content=null;this.systemID=this.lineNr="";this.type="ELEMENT";if(arguments.length===4){this.fullName=arguments[0]||"";if(arguments[1])this.name=arguments[1];else{var b=this.fullName.indexOf(":");this.name=b>=0?this.fullName.substring(b+
1):this.fullName}this.namespace=arguments[1];this.lineNr=arguments[3];this.systemID=arguments[2]}else arguments.length===2&&arguments[1].indexOf(".")>-1?this.parse(arguments[arguments.length-1]):arguments.length===1&&typeof arguments[0]==="string"&&this.parse(arguments[0])};nb.prototype={parse:function(b){var a;try{if(b.indexOf(".xml")>-1||b.indexOf(".svg")>-1)b=Ec(b);a=(new DOMParser).parseFromString(b,"text/xml");var c=a.documentElement;if(c)this.parseChildrenRecursive(null,c);else throw"Error loading document";
return this}catch(f){throw f;}},parseChildrenRecursive:function(b,a){var c,f,g,d;b?(c=new nb(a.localName,a.nodeName,"",""),c.parent=b):(this.fullName=a.localName,this.name=a.nodeName,c=this);if(a.nodeType===3&&a.textContent!=="")return this.createPCDataElement(a.textContent);g=0;for(d=a.attributes.length;g<d;g++)f=a.attributes[g],f=new uc(f.getname,f.nodeName,f.namespaceURI,f.nodeValue,f.nodeType),c.attributes.push(f);g=0;for(d=a.childNodes.length;g<d;g++)if(f=a.childNodes[g],f.nodeType===1||f.nodeType===
3)f=c.parseChildrenRecursive(c,f),f!==null&&c.children.push(f);return c},createElement:function(){return arguments.length===2?new nb(arguments[0],arguments[1],null,null):new nb(arguments[0],arguments[1],arguments[2],arguments[3])},createPCDataElement:function(b){if(b.replace(/^\s+$/g,"")==="")return null;var a=new nb;a.content=b;a.type="TEXT";return a},hasAttribute:function(){if(arguments.length===1)return this.getAttribute(arguments[0])!==null;else if(arguments.length===2)return this.getAttribute(arguments[0],
arguments[1])!==null},equals:function(b){if(!(b instanceof nb))return!1;var a,c;if(this.name!==b.getLocalName())return!1;if(this.attributes.length!==b.getAttributeCount())return!1;if(this.attributes.length!==b.attributes.length)return!1;var f,g;a=0;for(c=this.attributes.length;a<c;a++){f=this.attributes[a].getName();g=this.attributes[a].getNamespace();f=b.findAttribute(f,g);if(f===null)return!1;if(this.attributes[a].getValue()!==f.getValue())return!1;if(this.attributes[a].getType()!==f.getType())return!1}if(this.children.length!==
b.getChildCount())return!1;if(this.children.length>0){a=0;for(c=this.children.length;a<c;a++)if(f=this.getChild(a),g=b.getChild(a),!f.equals(g))return!1;return!0}else return this.content===b.content},getContent:function(){if(this.type==="TEXT")return this.content;else if(this.children.length===1&&this.children[0].type==="TEXT")return this.children[0].content;return null},getAttribute:function(){var b;if(arguments.length===2)return(b=this.findAttribute(arguments[0]))?b.getValue():arguments[1];else if(arguments.length===
1)return(b=this.findAttribute(arguments[0]))?b.getValue():null;else if(arguments.length===3)return(b=this.findAttribute(arguments[0],arguments[1]))?b.getValue():arguments[2]},getStringAttribute:function(){return arguments.length===1?this.getAttribute(arguments[0]):arguments.length===2?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(b){return this.getStringAttribute(b)},getFloatAttribute:function(){return arguments.length===
1?parseFloat(this.getAttribute(arguments[0],0)):arguments.length===2?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(b){return this.getFloatAttribute(b)},getIntAttribute:function(){return arguments.length===1?this.getAttribute(arguments[0],0):arguments.length===2?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(b){return this.getIntAttribute(b)},hasChildren:function(){return this.children.length>
0},addChild:function(b){if(b!==null)b.parent=this,this.children.push(b)},insertChild:function(b,a){if(b){if(b.getLocalName()===null&&!this.hasChildren()){var c=this.children[this.children.length-1];if(c.getLocalName()===null){c.setContent(c.getContent()+b.getContent());return}}b.parent=this;this.children.splice(a,0,b)}},getChild:function(b){if(typeof b==="number")return this.children[b];else if(b.indexOf("/")!==-1)this.getChildRecursive(b.split("/"),0);else{for(var a,c,f=0,g=this.getChildCount();f<
g;f++)if(a=this.getChild(f),c=a.getName(),c!==null&&c===b)return a;return null}},getChildren:function(){if(arguments.length===1)if(typeof arguments[0]==="number")return this.getChild(arguments[0]);else if(arguments[0].indexOf("/")!==-1)return this.getChildrenRecursive(arguments[0].split("/"),0);else{for(var b=[],a,c,f=0,g=this.getChildCount();f<g;f++)a=this.getChild(f),c=a.getName(),c!==null&&c===arguments[0]&&b.push(a);return b}else return this.children},getChildCount:function(){return this.children.length},
getChildRecursive:function(b,a){for(var c,f,g=0,d=this.getChildCount();g<d;g++)if(c=this.getChild(g),f=c.getName(),f!==null&&f===b[a])return a===b.length-1?c:(a+=1,c.getChildRecursive(b,a));return null},getChildrenRecursive:function(b,a){if(a===b.length-1)return this.getChildren(b[a]);for(var c=this.getChildren(b[a]),f=[],g=0;g<c.length;g++)f=f.concat(c[g].getChildrenRecursive(b,a+1));return f},isLeaf:function(){return!this.hasChildren()},listChildren:function(){for(var b=[],a=0,c=this.children.length;a<
c;a++)b.push(this.getChild(a).getName());return b},removeAttribute:function(b,a){this.namespace=a||"";for(var c=0,f=this.attributes.length;c<f;c++)if(this.attributes[c].getName()===b&&this.attributes[c].getNamespace()===this.namespace){this.attributes.splice(c,1);break}},removeChild:function(b){if(b)for(var a=0,c=this.children.length;a<c;a++)if(this.children[a].equals(b)){this.children.splice(a,1);break}},removeChildAtIndex:function(b){this.children.length>b&&this.children.splice(b,1)},findAttribute:function(b,
a){this.namespace=a||"";for(var c=0,f=this.attributes.length;c<f;c++)if(this.attributes[c].getName()===b&&this.attributes[c].getNamespace()===this.namespace)return this.attributes[c];return null},setAttribute:function(){var b;if(arguments.length===3){b=arguments[0].indexOf(":");var a=arguments[0].substring(b+1);(b=this.findAttribute(a,arguments[1]))?b.setValue(arguments[2]):(b=new uc(arguments[0],a,arguments[1],arguments[2],"CDATA"),this.attributes.push(b))}else(b=this.findAttribute(arguments[0]))?
b.setValue(arguments[1]):(b=new uc(arguments[0],arguments[0],null,arguments[1],"CDATA"),this.attributes.push(b))},setString:function(b,a){this.setAttribute(b,a)},setInt:function(b,a){this.setAttribute(b,a)},setFloat:function(b,a){this.setAttribute(b,a)},setContent:function(b){this.children.length>0&&y.debug("Tried to set content for XMLElement with children");this.content=b},setName:function(){if(arguments.length===1)this.name=arguments[0],this.fullName=arguments[0],this.namespace=null;else{var b=
arguments[0].indexOf(":");this.name=arguments[1]===null||b<0?arguments[0]:arguments[0].substring(b+1);this.fullName=arguments[0];this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if(this.type==="TEXT")return this.content;var b=(this.namespace!==""&&this.namespace!==this.name?this.namespace+":":"")+this.name,a="<"+b,c;for(c=0;c<this.attributes.length;c++){var f=
this.attributes[c];a+=" "+f.getName()+'="'+f.getValue()+'"'}if(this.children.length===0)a+=this.content===""?"/>":">"+this.content+"</"+b+">";else{a+=">";for(c=0;c<this.children.length;c++)a+=this.children[c].toString();a+="</"+b+">"}return a}};nb.parse=function(b){var a=new nb;a.parse(b);return a};var ud=function(b){for(var a=0,c=0;c<b.length;c++)a=c!==0?e.max(a,e.abs(b[c])):e.abs(b[c]);b=(a+"").indexOf(".");if(b===0)b=1;else if(b===-1)b=(a+"").length;return b},ab=a.PMatrix2D=function(){arguments.length===
0?this.reset():arguments.length===1&&arguments[0]instanceof ab?this.set(arguments[0].array()):arguments.length===6&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};ab.prototype={set:function(){if(arguments.length===6){var b=arguments;this.set([b[0],b[1],b[2],b[3],b[4],b[5]])}else if(arguments.length===1&&arguments[0]instanceof ab)this.elements=arguments[0].array();else if(arguments.length===1&&arguments[0]instanceof Array)this.elements=arguments[0].slice()},
get:function(){var b=new ab;b.set(this.elements);return b},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(b,a){this.elements[2]=b*this.elements[0]+a*this.elements[1]+this.elements[2];this.elements[5]=b*this.elements[3]+a*this.elements[4]+this.elements[5]},invTranslate:function(b,a){this.translate(-b,-a)},transpose:function(){},mult:function(b,a){var c,f;b instanceof aa?(c=b.x,f=b.y,a||(a=new aa)):b instanceof Array&&(c=b[0],f=b[1],a||(a=
[]));if(a instanceof Array)a[0]=this.elements[0]*c+this.elements[1]*f+this.elements[2],a[1]=this.elements[3]*c+this.elements[4]*f+this.elements[5];else if(a instanceof aa)a.x=this.elements[0]*c+this.elements[1]*f+this.elements[2],a.y=this.elements[3]*c+this.elements[4]*f+this.elements[5],a.z=0;return a},multX:function(b,a){return b*this.elements[0]+a*this.elements[1]+this.elements[2]},multY:function(b,a){return b*this.elements[3]+a*this.elements[4]+this.elements[5]},skewX:function(b){this.apply(1,
0,1,b,0,0)},skewY:function(b){this.apply(1,0,1,0,b,0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var b=this.determinant();if(e.abs(b)>c.MIN_INT){var a=this.elements[0],m=this.elements[1],f=this.elements[2],g=this.elements[3],d=this.elements[4],j=this.elements[5];this.elements[0]=d/b;this.elements[3]=-g/b;this.elements[1]=-m/b;this.elements[4]=a/b;this.elements[2]=(m*j-d*f)/b;this.elements[5]=(g*f-a*j)/b;return!0}return!1},
scale:function(b,a){b&&!a&&(a=b);b&&a&&(this.elements[0]*=b,this.elements[1]*=a,this.elements[3]*=b,this.elements[4]*=a)},invScale:function(b,a){b&&!a&&(a=b);this.scale(1/b,1/a)},apply:function(){var b;arguments.length===1&&arguments[0]instanceof ab?b=arguments[0].array():arguments.length===6?b=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Array&&(b=arguments[0]);for(var a=[0,0,this.elements[2],0,0,this.elements[5]],c=0,f=0;f<2;f++)for(var g=0;g<3;g++,c++)a[c]+=
this.elements[f*3+0]*b[g+0]+this.elements[f*3+1]*b[g+3];this.elements=a.slice()},preApply:function(){var b;arguments.length===1&&arguments[0]instanceof ab?b=arguments[0].array():arguments.length===6?b=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Array&&(b=arguments[0]);var a=[0,0,b[2],0,0,b[5]];a[2]=b[2]+this.elements[2]*b[0]+this.elements[5]*b[1];a[5]=b[5]+this.elements[2]*b[3]+this.elements[5]*b[4];a[0]=this.elements[0]*b[0]+this.elements[3]*b[1];a[3]=this.elements[0]*
b[3]+this.elements[3]*b[4];a[1]=this.elements[1]*b[0]+this.elements[4]*b[1];a[4]=this.elements[1]*b[3]+this.elements[4]*b[4];this.elements=a.slice()},rotate:function(b){var a=e.cos(b),b=e.sin(b),c=this.elements[0],f=this.elements[1];this.elements[0]=a*c+b*f;this.elements[1]=-b*c+a*f;c=this.elements[3];f=this.elements[4];this.elements[3]=a*c+b*f;this.elements[4]=-b*c+a*f},rotateZ:function(b){this.rotate(b)},invRotateZ:function(b){this.rotateZ(b-e.PI)},print:function(){var b=ud(this.elements),b=""+
a.nfs(this.elements[0],b,4)+" "+a.nfs(this.elements[1],b,4)+" "+a.nfs(this.elements[2],b,4)+"\n"+a.nfs(this.elements[3],b,4)+" "+a.nfs(this.elements[4],b,4)+" "+a.nfs(this.elements[5],b,4)+"\n\n";a.println(b)}};var B=a.PMatrix3D=function(){this.reset()};B.prototype={set:function(){if(arguments.length===16)this.elements=Array.prototype.slice.call(arguments);else if(arguments.length===1&&arguments[0]instanceof B)this.elements=arguments[0].array();else if(arguments.length===1&&arguments[0]instanceof
Array)this.elements=arguments[0].slice()},get:function(){var b=new B;b.set(this.elements);return b},reset:function(){this.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},array:function(){return this.elements.slice()},translate:function(b,a,c){c===p&&(c=0);this.elements[3]+=b*this.elements[0]+a*this.elements[1]+c*this.elements[2];this.elements[7]+=b*this.elements[4]+a*this.elements[5]+c*this.elements[6];this.elements[11]+=b*this.elements[8]+a*this.elements[9]+c*this.elements[10];this.elements[15]+=b*this.elements[12]+
a*this.elements[13]+c*this.elements[14]},transpose:function(){var b=this.elements.slice();this.elements[0]=b[0];this.elements[1]=b[4];this.elements[2]=b[8];this.elements[3]=b[12];this.elements[4]=b[1];this.elements[5]=b[5];this.elements[6]=b[9];this.elements[7]=b[13];this.elements[8]=b[2];this.elements[9]=b[6];this.elements[10]=b[10];this.elements[11]=b[14];this.elements[12]=b[3];this.elements[13]=b[7];this.elements[14]=b[11];this.elements[15]=b[15]},mult:function(b,a){var c,f,g,d;if(b instanceof
aa)c=b.x,f=b.y,g=b.z,d=1,a||(a=new aa);else if(b instanceof Array&&(c=b[0],f=b[1],g=b[2],d=b[3]||1,!a||a.length!==3&&a.length!==4))a=[0,0,0];a instanceof Array&&(a.length===3?(a[0]=this.elements[0]*c+this.elements[1]*f+this.elements[2]*g+this.elements[3],a[1]=this.elements[4]*c+this.elements[5]*f+this.elements[6]*g+this.elements[7],a[2]=this.elements[8]*c+this.elements[9]*f+this.elements[10]*g+this.elements[11]):a.length===4&&(a[0]=this.elements[0]*c+this.elements[1]*f+this.elements[2]*g+this.elements[3]*
d,a[1]=this.elements[4]*c+this.elements[5]*f+this.elements[6]*g+this.elements[7]*d,a[2]=this.elements[8]*c+this.elements[9]*f+this.elements[10]*g+this.elements[11]*d,a[3]=this.elements[12]*c+this.elements[13]*f+this.elements[14]*g+this.elements[15]*d));if(a instanceof aa)a.x=this.elements[0]*c+this.elements[1]*f+this.elements[2]*g+this.elements[3],a.y=this.elements[4]*c+this.elements[5]*f+this.elements[6]*g+this.elements[7],a.z=this.elements[8]*c+this.elements[9]*f+this.elements[10]*g+this.elements[11];
return a},preApply:function(){var b;arguments.length===1&&arguments[0]instanceof B?b=arguments[0].array():arguments.length===16?b=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Array&&(b=arguments[0]);for(var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0,f=0;f<4;f++)for(var g=0;g<4;g++,c++)a[c]+=this.elements[g+0]*b[f*4+0]+this.elements[g+4]*b[f*4+1]+this.elements[g+8]*b[f*4+2]+this.elements[g+12]*b[f*4+3];this.elements=a.slice()},apply:function(){var b;arguments.length===
1&&arguments[0]instanceof B?b=arguments[0].array():arguments.length===16?b=Array.prototype.slice.call(arguments):arguments.length===1&&arguments[0]instanceof Array&&(b=arguments[0]);for(var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0,f=0;f<4;f++)for(var g=0;g<4;g++,c++)a[c]+=this.elements[f*4+0]*b[g+0]+this.elements[f*4+1]*b[g+4]+this.elements[f*4+2]*b[g+8]+this.elements[f*4+3]*b[g+12];this.elements=a.slice()},rotate:function(b,l,c,f){if(c){var g=a.cos(b),b=a.sin(b),d=1-g;this.apply(d*l*l+g,d*l*c-b*f,
d*l*f+b*c,0,d*l*c+b*f,d*c*c+g,d*c*f-b*l,0,d*l*f-b*c,d*c*f+b*l,d*f*f+g,0,0,0,0,1)}else this.rotateZ(b)},invApply:function(){dc===p&&(dc=new B);var b=arguments;dc.set(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]);if(!dc.invert())return!1;this.preApply(dc);return!0},rotateX:function(b){var l=a.cos(b),b=a.sin(b);this.apply([1,0,0,0,0,l,-b,0,0,b,l,0,0,0,0,1])},rotateY:function(b){var l=a.cos(b),b=a.sin(b);this.apply([l,0,b,0,0,1,0,0,-b,0,l,0,0,0,0,1])},rotateZ:function(b){var a=
e.cos(b),b=e.sin(b);this.apply([a,-b,0,0,b,a,0,0,0,0,1,0,0,0,0,1])},scale:function(b,a,c){b&&!a&&!c?a=c=b:b&&a&&!c&&(c=1);b&&a&&c&&(this.elements[0]*=b,this.elements[1]*=a,this.elements[2]*=c,this.elements[4]*=b,this.elements[5]*=a,this.elements[6]*=c,this.elements[8]*=b,this.elements[9]*=a,this.elements[10]*=c,this.elements[12]*=b,this.elements[13]*=a,this.elements[14]*=c)},skewX:function(b){this.apply(1,e.tan(b),0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(b){this.apply(1,0,0,0,e.tan(b),1,0,0,0,
0,1,0,0,0,0,1)},multX:function(b,a,c,f){return c?f?this.elements[0]*b+this.elements[1]*a+this.elements[2]*c+this.elements[3]*f:this.elements[0]*b+this.elements[1]*a+this.elements[2]*c+this.elements[3]:this.elements[0]*b+this.elements[1]*a+this.elements[3]},multY:function(b,a,c,f){return c?f?this.elements[4]*b+this.elements[5]*a+this.elements[6]*c+this.elements[7]*f:this.elements[4]*b+this.elements[5]*a+this.elements[6]*c+this.elements[7]:this.elements[4]*b+this.elements[5]*a+this.elements[7]},multZ:function(b,
a,c,f){return f?this.elements[8]*b+this.elements[9]*a+this.elements[10]*c+this.elements[11]*f:this.elements[8]*b+this.elements[9]*a+this.elements[10]*c+this.elements[11]},multW:function(b,a,c,f){return f?this.elements[12]*b+this.elements[13]*a+this.elements[14]*c+this.elements[15]*f:this.elements[12]*b+this.elements[13]*a+this.elements[14]*c+this.elements[15]},invert:function(){var b=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],a=this.elements[0]*this.elements[6]-this.elements[2]*
this.elements[4],c=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],f=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],g=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],d=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],j=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],k=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],F=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],
h=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],i=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],o=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],n=b*o-a*i+c*h+f*F-g*k+d*j;if(e.abs(n)<=1.0E-9)return!1;var p=[];p[0]=+this.elements[5]*o-this.elements[6]*i+this.elements[7]*h;p[4]=-this.elements[4]*o+this.elements[6]*F-this.elements[7]*k;p[8]=+this.elements[4]*i-this.elements[5]*F+this.elements[7]*j;p[12]=-this.elements[4]*h+this.elements[5]*
k-this.elements[6]*j;p[1]=-this.elements[1]*o+this.elements[2]*i-this.elements[3]*h;p[5]=+this.elements[0]*o-this.elements[2]*F+this.elements[3]*k;p[9]=-this.elements[0]*i+this.elements[1]*F-this.elements[3]*j;p[13]=+this.elements[0]*h-this.elements[1]*k+this.elements[2]*j;p[2]=+this.elements[13]*d-this.elements[14]*g+this.elements[15]*f;p[6]=-this.elements[12]*d+this.elements[14]*c-this.elements[15]*a;p[10]=+this.elements[12]*g-this.elements[13]*c+this.elements[15]*b;p[14]=-this.elements[12]*f+this.elements[13]*
a-this.elements[14]*b;p[3]=-this.elements[9]*d+this.elements[10]*g-this.elements[11]*f;p[7]=+this.elements[8]*d-this.elements[10]*c+this.elements[11]*a;p[11]=-this.elements[8]*g+this.elements[9]*c-this.elements[11]*b;p[15]=+this.elements[8]*f-this.elements[9]*a+this.elements[10]*b;b=1/n;p[0]*=b;p[1]*=b;p[2]*=b;p[3]*=b;p[4]*=b;p[5]*=b;p[6]*=b;p[7]*=b;p[8]*=b;p[9]*=b;p[10]*=b;p[11]*=b;p[12]*=b;p[13]*=b;p[14]*=b;p[15]*=b;this.elements=p.slice();return!0},toString:function(){for(var b="",a=0;a<15;a++)b+=
this.elements[a]+", ";b+=this.elements[15];return b},print:function(){var b=ud(this.elements),b=""+a.nfs(this.elements[0],b,4)+" "+a.nfs(this.elements[1],b,4)+" "+a.nfs(this.elements[2],b,4)+" "+a.nfs(this.elements[3],b,4)+"\n"+a.nfs(this.elements[4],b,4)+" "+a.nfs(this.elements[5],b,4)+" "+a.nfs(this.elements[6],b,4)+" "+a.nfs(this.elements[7],b,4)+"\n"+a.nfs(this.elements[8],b,4)+" "+a.nfs(this.elements[9],b,4)+" "+a.nfs(this.elements[10],b,4)+" "+a.nfs(this.elements[11],b,4)+"\n"+a.nfs(this.elements[12],
b,4)+" "+a.nfs(this.elements[13],b,4)+" "+a.nfs(this.elements[14],b,4)+" "+a.nfs(this.elements[15],b,4)+"\n\n";a.println(b)},invTranslate:function(b,a,c){this.preApply(1,0,0,-b,0,1,0,-a,0,0,1,-c,0,0,0,1)},invRotateX:function(b){var a=e.cos(-b),b=e.sin(-b);this.preApply([1,0,0,0,0,a,-b,0,0,b,a,0,0,0,0,1])},invRotateY:function(b){var a=e.cos(-b),b=e.sin(-b);this.preApply([a,0,b,0,0,1,0,0,-b,0,a,0,0,0,0,1])},invRotateZ:function(b){var a=e.cos(-b),b=e.sin(-b);this.preApply([a,-b,0,0,b,a,0,0,0,0,1,0,0,
0,0,1])},invScale:function(b,a,c){this.preApply([1/b,0,0,0,0,1/a,0,0,0,0,1/c,0,0,0,0,1])}};var bb=a.PMatrixStack=function(){this.matrixStack=[]};bb.prototype.load=function(){var b=ga.$newPMatrix();arguments.length===1?b.set(arguments[0]):b.set(arguments);this.matrixStack.push(b)};D.prototype.$newPMatrix=function(){return new ab};J.prototype.$newPMatrix=function(){return new B};bb.prototype.push=function(){this.matrixStack.push(this.peek())};bb.prototype.pop=function(){return this.matrixStack.pop()};
bb.prototype.peek=function(){var b=ga.$newPMatrix();b.set(this.matrixStack[this.matrixStack.length-1]);return b};bb.prototype.mult=function(b){this.matrixStack[this.matrixStack.length-1].apply(b)};a.split=function(b,a){return b.split(a)};a.splitTokens=function(b,a){arguments.length===1&&(a="\n\t\r\u000c ");for(var a="["+a+"]",c=[],f=0,g=b.search(a);g>=0;)g===0?b=b.substring(1):(c[f]=b.substring(0,g),f++,b=b.substring(g)),g=b.search(a);b.length>0&&(c[f]=b);c.length===0&&(c=p);return c};a.append=function(b,
a){b[b.length]=a;return b};a.concat=function(b,a){return b.concat(a)};a.sort=function(b,a){var c=[];if(b.length>0){for(var f=a>0?a:b.length,g=0;g<f;g++)c.push(b[g]);typeof b[0]==="string"?c.sort():c.sort(function(b,a){return b-a});if(a>0)for(f=c.length;f<b.length;f++)c.push(b[f])}return c};a.splice=function(b,a,c){if(a.length===0)return b;if(a instanceof Array)for(var f=0;f<a.length;c++,f++)b.splice(c,0,a[f]);else b.splice(c,0,a);return b};a.subset=function(b,a,c){if(arguments.length===2)return b.slice(a,
b.length);else if(arguments.length===3)return b.slice(a,a+c)};a.join=function(b,a){return b.join(a)};a.shorten=function(b){for(var a=[],c=b.length,f=0;f<c;f++)a[f]=b[f];a.pop();return a};a.expand=function(b,a){var c=b.slice(0);if(arguments.length===1)return c.length=b.length*2,c;else if(arguments.length===2)return c.length=a,c};a.arrayCopy=function(){var b,a=0,c,f=0,g;arguments.length===2?(b=arguments[0],c=arguments[1],g=b.length):arguments.length===3?(b=arguments[0],c=arguments[1],g=arguments[2]):
arguments.length===5&&(b=arguments[0],a=arguments[1],c=arguments[2],f=arguments[3],g=arguments[4]);for(var d=a;d<g+a;d++,f++)if(c[f]!==p)c[f]=b[d];else throw"array index out of bounds exception";};a.reverse=function(b){return b.reverse()};a.mix=function(b,a,c){return b+((a-b)*c>>8)};a.peg=function(b){return b<0?0:b>255?255:b};a.modes={replace:function(b,a){return a},blend:function(b,l){var m=(l&c.ALPHA_MASK)>>>24;return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<24|a.mix(b&c.RED_MASK,l&c.RED_MASK,m)&c.RED_MASK|
a.mix(b&c.GREEN_MASK,l&c.GREEN_MASK,m)&c.GREEN_MASK|a.mix(b&c.BLUE_MASK,l&c.BLUE_MASK,m)},add:function(b,a){var m=(a&c.ALPHA_MASK)>>>24;return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<24|e.min((b&c.RED_MASK)+((a&c.RED_MASK)>>8)*m,c.RED_MASK)&c.RED_MASK|e.min((b&c.GREEN_MASK)+((a&c.GREEN_MASK)>>8)*m,c.GREEN_MASK)&c.GREEN_MASK|e.min((b&c.BLUE_MASK)+((a&c.BLUE_MASK)*m>>8),c.BLUE_MASK)},subtract:function(b,a){var m=(a&c.ALPHA_MASK)>>>24;return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<24|e.max((b&c.RED_MASK)-
((a&c.RED_MASK)>>8)*m,c.GREEN_MASK)&c.RED_MASK|e.max((b&c.GREEN_MASK)-((a&c.GREEN_MASK)>>8)*m,c.BLUE_MASK)&c.GREEN_MASK|e.max((b&c.BLUE_MASK)-((a&c.BLUE_MASK)*m>>8),0)},lightest:function(b,a){var m=(a&c.ALPHA_MASK)>>>24;return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<24|e.max(b&c.RED_MASK,((a&c.RED_MASK)>>8)*m)&c.RED_MASK|e.max(b&c.GREEN_MASK,((a&c.GREEN_MASK)>>8)*m)&c.GREEN_MASK|e.max(b&c.BLUE_MASK,(a&c.BLUE_MASK)*m>>8)},darkest:function(b,l){var m=(l&c.ALPHA_MASK)>>>24;return e.min(((b&c.ALPHA_MASK)>>>
24)+m,255)<<24|a.mix(b&c.RED_MASK,e.min(b&c.RED_MASK,((l&c.RED_MASK)>>8)*m),m)&c.RED_MASK|a.mix(b&c.GREEN_MASK,e.min(b&c.GREEN_MASK,((l&c.GREEN_MASK)>>8)*m),m)&c.GREEN_MASK|a.mix(b&c.BLUE_MASK,e.min(b&c.BLUE_MASK,(l&c.BLUE_MASK)*m>>8),m)},difference:function(b,l){var m=(l&c.ALPHA_MASK)>>>24,f=(b&c.RED_MASK)>>16,g=(b&c.GREEN_MASK)>>8,d=b&c.BLUE_MASK,j=(l&c.RED_MASK)>>16,k=(l&c.GREEN_MASK)>>8,h=l&c.BLUE_MASK,j=f>j?f-j:j-f,k=g>k?g-k:k-g,h=d>h?d-h:h-d;return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<24|a.peg(f+
((j-f)*m>>8))<<16|a.peg(g+((k-g)*m>>8))<<8|a.peg(d+((h-d)*m>>8))},exclusion:function(b,l){var m=(l&c.ALPHA_MASK)>>>24,f=(b&c.RED_MASK)>>16,g=(b&c.GREEN_MASK)>>8,d=b&c.BLUE_MASK,j=(l&c.RED_MASK)>>16,k=(l&c.GREEN_MASK)>>8,h=l&c.BLUE_MASK,j=f+j-(f*j>>7),k=g+k-(g*k>>7),h=d+h-(d*h>>7);return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<24|a.peg(f+((j-f)*m>>8))<<16|a.peg(g+((k-g)*m>>8))<<8|a.peg(d+((h-d)*m>>8))},multiply:function(b,l){var m=(l&c.ALPHA_MASK)>>>24,f=(b&c.RED_MASK)>>16,g=(b&c.GREEN_MASK)>>8,d=b&
c.BLUE_MASK,j=f*((l&c.RED_MASK)>>16)>>8,k=g*((l&c.GREEN_MASK)>>8)>>8,h=d*(l&c.BLUE_MASK)>>8;return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<24|a.peg(f+((j-f)*m>>8))<<16|a.peg(g+((k-g)*m>>8))<<8|a.peg(d+((h-d)*m>>8))},screen:function(b,l){var m=(l&c.ALPHA_MASK)>>>24,f=(b&c.RED_MASK)>>16,g=(b&c.GREEN_MASK)>>8,d=b&c.BLUE_MASK,j=255-((255-f)*(255-((l&c.RED_MASK)>>16))>>8),k=255-((255-g)*(255-((l&c.GREEN_MASK)>>8))>>8),h=255-((255-d)*(255-(l&c.BLUE_MASK))>>8);return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<
24|a.peg(f+((j-f)*m>>8))<<16|a.peg(g+((k-g)*m>>8))<<8|a.peg(d+((h-d)*m>>8))},hard_light:function(b,l){var m=(l&c.ALPHA_MASK)>>>24,f=(b&c.RED_MASK)>>16,g=(b&c.GREEN_MASK)>>8,d=b&c.BLUE_MASK,j=(l&c.RED_MASK)>>16,k=(l&c.GREEN_MASK)>>8,h=l&c.BLUE_MASK,j=j<128?f*j>>7:255-((255-f)*(255-j)>>7),k=k<128?g*k>>7:255-((255-g)*(255-k)>>7),h=h<128?d*h>>7:255-((255-d)*(255-h)>>7);return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<24|a.peg(f+((j-f)*m>>8))<<16|a.peg(g+((k-g)*m>>8))<<8|a.peg(d+((h-d)*m>>8))},soft_light:function(b,
l){var m=(l&c.ALPHA_MASK)>>>24,f=(b&c.RED_MASK)>>16,g=(b&c.GREEN_MASK)>>8,d=b&c.BLUE_MASK,j=(l&c.RED_MASK)>>16,k=(l&c.GREEN_MASK)>>8,h=l&c.BLUE_MASK,j=(f*j>>7)+(f*f>>8)-(f*f*j>>15),k=(g*k>>7)+(g*g>>8)-(g*g*k>>15),h=(d*h>>7)+(d*d>>8)-(d*d*h>>15);return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<24|a.peg(f+((j-f)*m>>8))<<16|a.peg(g+((k-g)*m>>8))<<8|a.peg(d+((h-d)*m>>8))},overlay:function(b,l){var m=(l&c.ALPHA_MASK)>>>24,f=(b&c.RED_MASK)>>16,g=(b&c.GREEN_MASK)>>8,d=b&c.BLUE_MASK,j=(l&c.RED_MASK)>>16,k=(l&
c.GREEN_MASK)>>8,h=l&c.BLUE_MASK,j=f<128?f*j>>7:255-((255-f)*(255-j)>>7),k=g<128?g*k>>7:255-((255-g)*(255-k)>>7),h=d<128?d*h>>7:255-((255-d)*(255-h)>>7);return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<24|a.peg(f+((j-f)*m>>8))<<16|a.peg(g+((k-g)*m>>8))<<8|a.peg(d+((h-d)*m>>8))},dodge:function(b,l){var m=(l&c.ALPHA_MASK)>>>24,f=(b&c.RED_MASK)>>16,g=(b&c.GREEN_MASK)>>8,d=b&c.BLUE_MASK,j=(l&c.RED_MASK)>>16,k=(l&c.GREEN_MASK)>>8,h=l&c.BLUE_MASK,j=j===255?255:a.peg((f<<8)/(255-j)),k=k===255?255:a.peg((g<<
8)/(255-k)),h=h===255?255:a.peg((d<<8)/(255-h));return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<24|a.peg(f+((j-f)*m>>8))<<16|a.peg(g+((k-g)*m>>8))<<8|a.peg(d+((h-d)*m>>8))},burn:function(b,l){var m=(l&c.ALPHA_MASK)>>>24,f=(b&c.RED_MASK)>>16,g=(b&c.GREEN_MASK)>>8,d=b&c.BLUE_MASK,j=(l&c.RED_MASK)>>16,k=(l&c.GREEN_MASK)>>8,h=l&c.BLUE_MASK,j=j===0?0:255-a.peg((255-f<<8)/j),k=k===0?0:255-a.peg((255-g<<8)/k),h=h===0?0:255-a.peg((255-d<<8)/h);return e.min(((b&c.ALPHA_MASK)>>>24)+m,255)<<24|a.peg(f+((j-f)*m>>
8))<<16|a.peg(g+((k-g)*m>>8))<<8|a.peg(d+((h-d)*m>>8))}};a.color=function(b,a,m,f){if(b!==p&&a!==p&&m!==p&&f!==p)return x(b,a,m,f);if(b!==p&&a!==p&&m!==p)return x(b,a,m,Z);if(b!==p&&a!==p){var g;b&c.ALPHA_MASK?(a=e.round(255*(a/Z)),g=b-(b&c.ALPHA_MASK)+((a>255?255:a)<<24&c.ALPHA_MASK)):db===c.RGB?g=x(b,b,b,a):db===c.HSB&&(g=x(0,0,b/ia*A,a));return g}if(typeof b==="number"){var d;b<=ia&&b>=0?db===c.RGB?d=x(b,b,b,Z):db===c.HSB&&(d=x(0,0,b/ia*A,Z)):b&&(d=b);return d}return x(ia,xa,A,Z)};a.color.toString=
function(b){return"rgba("+((b&c.RED_MASK)>>>16)+","+((b&c.GREEN_MASK)>>>8)+","+(b&c.BLUE_MASK)+","+((b&c.ALPHA_MASK)>>>24)/255+")"};a.color.toInt=function(b,a,m,f){return f<<24&c.ALPHA_MASK|b<<16&c.RED_MASK|a<<8&c.GREEN_MASK|m&c.BLUE_MASK};a.color.toArray=function(b){return[(b&c.RED_MASK)>>>16,(b&c.GREEN_MASK)>>>8,b&c.BLUE_MASK,(b&c.ALPHA_MASK)>>>24]};a.color.toGLArray=function(b){return[((b&c.RED_MASK)>>>16)/255,((b&c.GREEN_MASK)>>>8)/255,(b&c.BLUE_MASK)/255,((b&c.ALPHA_MASK)>>>24)/255]};a.color.toRGB=
function(b,a,c){var b=b>ia?ia:b,a=a>xa?xa:a,c=c>A?A:c,b=b/ia*360,a=a/xa*100,c=c/A*100,f=e.round(c/100*255);if(a===0)return[f,f,f];else{b%=360;var g=b%60,d=e.round(c*(100-a)/1E4*255),j=e.round(c*(6E3-a*g)/6E5*255),a=e.round(c*(6E3-a*(60-g))/6E5*255);switch(e.floor(b/60)){case 0:return[f,a,d];case 1:return[j,f,d];case 2:return[d,f,a];case 3:return[d,j,f];case 4:return[a,d,f];case 5:return[f,d,j]}}};a.color.toHSB=function(b){var l,m,f;l=((b&c.RED_MASK)>>>16)/255;m=((b&c.GREEN_MASK)>>>8)/255;f=(b&c.BLUE_MASK)/
255;var b=a.max(a.max(l,m),f),g=a.min(a.min(l,m),f);if(g===b)return[0,0,b];else l=l===b?(m-f)/(b-g):m===b?2+(f-l)/(b-g):4+(l-m)/(b-g),l/=6,l<0?l+=1:l>1&&(l-=1);return[l*ia,(b-g)/b*xa,b*A]};a.brightness=function(b){return a.color.toHSB(b)[2]};a.saturation=function(b){return a.color.toHSB(b)[1]};a.hue=function(b){return a.color.toHSB(b)[0]};a.red=function(b){return((b&c.RED_MASK)>>>16)/255*ia};a.green=function(b){return((b&c.GREEN_MASK)>>>8)/255*xa};a.blue=function(b){return(b&c.BLUE_MASK)/255*A};a.alpha=
function(b){return((b&c.ALPHA_MASK)>>>24)/255*Z};a.lerpColor=function(b,l,m){var f=a.color(b),g=(f&c.RED_MASK)>>>16,d=(f&c.GREEN_MASK)>>>8,b=f&c.BLUE_MASK,f=((f&c.ALPHA_MASK)>>>24)/Z,j=a.color(l),k=(j&c.GREEN_MASK)>>>8,h=j&c.BLUE_MASK,l=((j&c.ALPHA_MASK)>>>24)/Z,g=parseInt(a.lerp(g,(j&c.RED_MASK)>>>16,m),10),d=parseInt(a.lerp(d,k,m),10),b=parseInt(a.lerp(b,h,m),10),m=parseFloat(a.lerp(f,l,m)*Z);return a.color.toInt(g,d,b,m)};a.colorMode=function(){db=arguments[0];arguments.length>1&&(ia=arguments[1],
xa=arguments[2]||arguments[1],A=arguments[3]||arguments[1],Z=arguments[4]||arguments[1])};a.blendColor=function(b,l,m){var f=0;switch(m){case c.REPLACE:f=a.modes.replace(b,l);break;case c.BLEND:f=a.modes.blend(b,l);break;case c.ADD:f=a.modes.add(b,l);break;case c.SUBTRACT:f=a.modes.subtract(b,l);break;case c.LIGHTEST:f=a.modes.lightest(b,l);break;case c.DARKEST:f=a.modes.darkest(b,l);break;case c.DIFFERENCE:f=a.modes.difference(b,l);break;case c.EXCLUSION:f=a.modes.exclusion(b,l);break;case c.MULTIPLY:f=
a.modes.multiply(b,l);break;case c.SCREEN:f=a.modes.screen(b,l);break;case c.HARD_LIGHT:f=a.modes.hard_light(b,l);break;case c.SOFT_LIGHT:f=a.modes.soft_light(b,l);break;case c.OVERLAY:f=a.modes.overlay(b,l);break;case c.DODGE:f=a.modes.dodge(b,l);break;case c.BURN:f=a.modes.burn(b,l)}return f};a.printMatrix=function(){V.print()};D.prototype.translate=function(b,a){ra.translate(b,a);sa.invTranslate(b,a);d.translate(b,a)};J.prototype.translate=function(b,a,c){ra.translate(b,a,c);sa.invTranslate(b,
a,c)};D.prototype.scale=function(b,a){ra.scale(b,a);sa.invScale(b,a);d.scale(b,a||b)};J.prototype.scale=function(b,a,c){ra.scale(b,a,c);sa.invScale(b,a,c)};D.prototype.pushMatrix=function(){Pb.load(V);Qb.load(Wa);d.save()};J.prototype.pushMatrix=function(){Pb.load(V);Qb.load(Wa)};D.prototype.popMatrix=function(){V.set(Pb.pop());Wa.set(Qb.pop());zb()};J.prototype.popMatrix=function(){V.set(Pb.pop());Wa.set(Qb.pop())};D.prototype.resetMatrix=function(){ra.reset();sa.reset();d.setTransform(1,0,0,1,0,
0)};J.prototype.resetMatrix=function(){ra.reset();sa.reset()};M.prototype.applyMatrix=function(){var b=arguments;ra.apply(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]);sa.invApply(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15])};D.prototype.applyMatrix=function(){for(var b=arguments,a=b.length;a<16;a++)b[a]=0;b[10]=b[15]=1;M.prototype.applyMatrix.apply(this,b)};a.rotateX=function(b){ra.rotateX(b);sa.invRotateX(b)};D.prototype.rotateZ=
function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead.";};J.prototype.rotateZ=function(b){ra.rotateZ(b);sa.invRotateZ(b)};a.rotateY=function(b){ra.rotateY(b);sa.invRotateY(b)};D.prototype.rotate=function(b){ra.rotateZ(b);sa.invRotateZ(b);d.rotate(b)};J.prototype.rotate=function(b){a.rotateZ(b)};a.pushStyle=function(){d.save();a.pushMatrix();qd.push({doFill:U,currentFillColor:Fa,doStroke:O,currentStrokeColor:ka,curTint:eb,curRectMode:T,curColorMode:db,colorModeX:ia,colorModeZ:A,
colorModeY:xa,colorModeA:Z,curTextFont:ja,curTextSize:S})};a.popStyle=function(){var b=qd.pop();if(b)zb(),a.popMatrix(),U=b.doFill,Fa=b.currentFillColor,O=b.doStroke,ka=b.currentStrokeColor,eb=b.curTint,T=b.curRectmode,db=b.curColorMode,ia=b.colorModeX,A=b.colorModeZ,xa=b.colorModeY,Z=b.colorModeA,ja=b.curTextFont,S=b.curTextSize;else throw"Too many popStyle() without enough pushStyle()";};a.year=function(){return(new Date).getFullYear()};a.month=function(){return(new Date).getMonth()+1};a.day=function(){return(new Date).getDate()};
a.hour=function(){return(new Date).getHours()};a.minute=function(){return(new Date).getMinutes()};a.second=function(){return(new Date).getSeconds()};a.millis=function(){return(new Date).getTime()-Vb};M.prototype.redraw=function(){var b=((new Date).getTime()-Ac)/1E3;jc++;var c=jc/b;if(b>0.5)Ac=(new Date).getTime(),jc=0,a.__frameRate=c;a.frameCount++};D.prototype.redraw=function(){M.prototype.redraw.apply(this,arguments);d.lineWidth=pa;d.save();a.draw();zb()};J.prototype.redraw=function(){M.prototype.redraw.apply(this,
arguments);d.clear(d.DEPTH_BUFFER_BIT);Ma={attributes:{},locations:{}};a.noLights();a.lightFalloff(1,0,0);a.shininess(1);a.ambient(255,255,255);a.specular(0,0,0);a.emissive(0,0,0);a.camera();a.draw()};a.noLoop=function(){kb=$a=!1;clearInterval(N);$.onPause()};a.loop=function(){kb||(Ac=(new Date).getTime(),jc=0,N=X.setInterval(function(){try{$.onFrameStart(),a.redraw(),$.onFrameEnd()}catch(b){throw X.clearInterval(N),b;}},Eb),kb=$a=!0,$.onLoop())};a.frameRate=function(b){Oa=b;Eb=1E3/Oa;$a&&(a.noLoop(),
a.loop())};var Kb=[];a.exit=function(){X.clearInterval(N);var b=a.externals.canvas.id;Da.splice(lc[b],1);delete lc[b];for(var c in y.lib)y.lib.hasOwnProperty(c)&&y.lib[c].hasOwnProperty("detach")&&y.lib[c].detach(a);for(b=Kb.length;b--;)ca(Kb[b]);$.onExit()};a.cursor=function(){if(arguments.length>1||arguments.length===1&&arguments[0]instanceof a.PImage){var b=arguments[0],c,m;if(arguments.length>=3){if(c=arguments[1],m=arguments[2],c<0||m<0||m>=b.height||c>=b.width)throw"x and y must be non-negative and less than the dimensions of the image";
}else c=b.width>>>1,m=b.height>>>1;b='url("'+b.toDataURL()+'") '+c+" "+m+", default";i.style.cursor=b}else i.style.cursor=arguments.length===1?arguments[0]:Ba};a.noCursor=function(){i.style.cursor=c.NOCURSOR};a.link=function(b,a){a!==p?X.open(b,a):X.location=b};a.beginDraw=Dc;a.endDraw=Dc;a.Import=function(){};a.status=function(b){X.status=b};a.binary=function(b,a){var c=32;if(typeof b==="number")return a&&(c=a),da(b,c);b instanceof ya&&(b=b.toString().charCodeAt(0),c=a?32:16);c=da(b,c);a&&(c=c.substr(-a));
return c};a.unbinary=function(b){var c=/^[0|1]{8}$/,m=0;if(b instanceof Array){m=[];for(c=0;c<b.length;c++)m[c]=a.unbinary(b[c]);return m}else if(isNaN(b))throw"NaN_Err";else if(arguments.length===1||b.length===8)if(c.test(b)){for(c=0;c<8;c++)m+=e.pow(2,c)*parseInt(b.charAt(7-c),10);return m+""}else throw"notBinary: the value passed into unbinary was not an 8 bit binary number";else throw"longErr";};a.nf=function(b,a,c){return fa(b,"","-",a,c)};a.nfs=function(b,a,c){return fa(b," ","-",a,c)};a.nfp=
function(b,a,c){return fa(b,"+","-",a,c)};a.nfc=function(b,a,c){return fa(b,"","-",a,c,",")};a.hex=function(b,a){arguments.length===1&&(a=b instanceof ya?4:8);var c=b,f=a,f=f===p||f===null?f=8:f;c<0&&(c=4294967295+c+1);for(c=Number(c).toString(16).toUpperCase();c.length<f;)c="0"+c;c.length>=f&&(c=c.substring(c.length-f,c.length));return c};a.unhex=function(b){if(b instanceof Array){for(var a=[],c=0;c<b.length;c++)a.push(Yc(b[c]));return a}else return Yc(b)};a.loadStrings=function(b){if(localStorage[b])return localStorage[b].split("\n");
b=Ec(b);if(typeof b!=="string"||b==="")return[];b=b.replace(/(\r\n?)/g,"\n").replace(/\n$/,"");return b.split("\n")};a.saveStrings=function(b,a){localStorage[b]=a.join("\n")};a.loadBytes=function(b){for(var b=Ec(b),a=[],c=0;c<b.length;c++)a.push(b.charCodeAt(c));return a};a.matchAll=function(b,a){for(var c=[],f,d=RegExp(a,"g");(f=d.exec(b))!==null;)c.push(f),f[0].length===0&&++d.lastIndex;return c.length>0?c:null};a.__contains=function(b,a){if(typeof b!=="string")return b.contains.apply(b,hb(arguments));
return b!==null&&a!==null&&typeof a==="string"&&b.indexOf(a)>-1};a.__replaceAll=function(b,a,c){if(typeof b!=="string")return b.replaceAll.apply(b,hb(arguments));return b.replace(RegExp(a,"g"),c)};a.__replaceFirst=function(b,a,c){if(typeof b!=="string")return b.replaceFirst.apply(b,hb(arguments));return b.replace(RegExp(a,""),c)};a.__replace=function(b,a,c){if(typeof b!=="string")return b.replace.apply(b,hb(arguments));if(a instanceof RegExp)return b.replace(a,c);typeof a!=="string"&&(a=a.toString());
if(a==="")return b;var f=b.indexOf(a);if(f<0)return b;var d=0,r="";do r+=b.substring(d,f)+c,d=f+a.length;while((f=b.indexOf(a,d))>=0);return r+b.substring(d)};a.__equals=function(b,a){if(b.equals instanceof Function)return b.equals.apply(b,hb(arguments));return b.valueOf()===a.valueOf()};a.__toCharArray=function(b){if(typeof b!=="string")return b.toCharArray.apply(b,hb(arguments));for(var a=[],c=0,f=b.length;c<f;++c)a[c]=new ya(b.charAt(c));return a};a.__split=function(b,a,c){if(typeof b!=="string")return b.split.apply(b,
hb(arguments));var f=RegExp(a);if(c===p||c<1)return b.split(f);for(var d=[],r=b,j;(j=r.search(f))!==-1&&d.length<c-1;){var k=f.exec(r).toString();d.push(r.substring(0,j));r=r.substring(j+k.length)}(j!==-1||r!=="")&&d.push(r);return d};a.match=function(b,a){return b.match(a)};a.__hashCode=function(b){if(b.hashCode instanceof Function)return b.hashCode.apply(b,hb(arguments));return xc(b)};a.__printStackTrace=function(b){a.println("Exception: "+b.toString())};var vc=[];a.console=X.console||y.logger;
a.println=function(b){var a=vc.length;if(a)y.logger.log(vc.join("")),vc.length=0;arguments.length===0&&a===0?y.logger.log(""):arguments.length!==0&&y.logger.log(b)};a.print=function(b){vc.push(b)};a.str=function(b){if(b instanceof Array){for(var a=[],c=0;c<b.length;c++)a.push(b[c].toString()+"");return a}else return b.toString()+""};a.trim=function(b){if(b instanceof Array){for(var a=[],c=0;c<b.length;c++)a.push(b[c].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""));return a}else return b.replace(/^\s*/,
"").replace(/\s*$/,"").replace(/\r*$/,"")};a.parseBoolean=function(b){if(b instanceof Array){for(var a=[],c=0;c<b.length;c++)a.push(Xb(b[c]));return a}else return Xb(b)};a.parseByte=function(b){if(b instanceof Array){for(var a=[],c=0;c<b.length;c++)a.push(0-(b[c]&128)|b[c]&127);return a}else return 0-(b&128)|b&127};a.parseChar=function(b){if(typeof b==="number")return new ya(String.fromCharCode(b&65535));else if(b instanceof Array){for(var a=[],c=0;c<b.length;c++)a.push(new ya(String.fromCharCode(b[c]&
65535)));return a}else throw"char() may receive only one argument of type int, byte, int[], or byte[].";};a.parseFloat=function(b){if(b instanceof Array){for(var a=[],c=0;c<b.length;c++)a.push(Zc(b[c]));return a}else return Zc(b)};a.parseInt=function(b,a){if(b instanceof Array){for(var c=[],f=0;f<b.length;f++)typeof b[f]==="string"&&!/^\s*[+\-]?\d+\s*$/.test(b[f])?c.push(0):c.push(pb(b[f],a));return c}else return pb(b,a)};a.__int_cast=function(b){return 0|b};a.__instanceof=function(b,a){if(typeof a!==
"function")throw"Function is expected as type argument for instanceof operator";if(typeof b==="string")return a===Object||a===String;if(b instanceof a)return!0;if(typeof b!=="object"||b===null)return!1;var c=b.constructor;if(a.$isInterface){for(var f=[];c;)c.$interfaces&&(f=f.concat(c.$interfaces)),c=c.$base;for(;f.length>0;){c=f.shift();if(c===a)return!0;c.$interfaces&&(f=f.concat(c.$interfaces))}return!1}for(;c.hasOwnProperty("$base");)if(c=c.$base,c===a)return!0;return!1};a.abs=e.abs;a.ceil=e.ceil;
a.constrain=function(b,a,c){return b>c?c:b<a?a:b};a.dist=function(){var b,a,c;if(arguments.length===4)return b=arguments[0]-arguments[2],a=arguments[1]-arguments[3],e.sqrt(b*b+a*a);else if(arguments.length===6)return b=arguments[0]-arguments[3],a=arguments[1]-arguments[4],c=arguments[2]-arguments[5],e.sqrt(b*b+a*a+c*c)};a.exp=e.exp;a.floor=e.floor;a.lerp=function(b,a,c){return(a-b)*c+b};a.log=e.log;a.mag=function(b,a,c){if(c)return e.sqrt(b*b+a*a+c*c);return e.sqrt(b*b+a*a)};a.map=function(b,a,c,
f,d){return f+(d-f)*((b-a)/(c-a))};a.max=function(){if(arguments.length===2)return arguments[0]<arguments[1]?arguments[1]:arguments[0];else{var b=arguments.length===1?arguments[0]:arguments;if(!("length"in b&&b.length>0))throw"Non-empty array is expected";for(var a=b[0],c=b.length,f=1;f<c;++f)a<b[f]&&(a=b[f]);return a}};a.min=function(){if(arguments.length===2)return arguments[0]<arguments[1]?arguments[0]:arguments[1];else{var b=arguments.length===1?arguments[0]:arguments;if(!("length"in b&&b.length>
0))throw"Non-empty array is expected";for(var a=b[0],c=b.length,f=1;f<c;++f)a>b[f]&&(a=b[f]);return a}};a.norm=function(b,a,c){return(b-a)/(c-a)};a.pow=e.pow;a.round=e.round;a.sq=function(b){return b*b};a.sqrt=e.sqrt;a.acos=e.acos;a.asin=e.asin;a.atan=e.atan;a.atan2=e.atan2;a.cos=e.cos;a.degrees=function(b){return b*180/e.PI};a.radians=function(b){return b/180*e.PI};a.sin=e.sin;a.tan=e.tan;var wc=e.random;a.random=function(){if(arguments.length===0)return wc();else if(arguments.length===1)return wc()*
arguments[0];else{var b=arguments[0],a=arguments[1];return wc()*(a-b)+b}};ha.createRandomized=function(){var b=new Date;return new ha(b/6E4&4294967295,b&4294967295)};a.randomSeed=function(b){wc=(new ha(b)).nextDouble};a.Random=function(b){var a=!1,c,f;this.nextGaussian=function(){if(a)return a=!1,c;else{var b,d,j;do b=2*f()-1,d=2*f()-1,j=b*b+d*d;while(j>=1||j===0);j=e.sqrt(-2*e.log(j)/j);c=d*j;a=!0;return b*j}};f=b===p?e.random:(new ha(b)).nextDouble};var Xa={generator:p,octaves:4,fallout:0.5,seed:p};
a.noise=function(b,a,c){if(Xa.generator===p)Xa.generator=new Ia(Xa.seed);for(var f=Xa.generator,d=1,r=1,j=0,k=0;k<Xa.octaves;++k){d*=Xa.fallout;switch(arguments.length){case 1:j+=d*(1+f.noise1d(r*b))/2;break;case 2:j+=d*(1+f.noise2d(r*b,r*a))/2;break;case 3:j+=d*(1+f.noise3d(r*b,r*a,r*c))/2}r*=2}return j};a.noiseDetail=function(b,a){Xa.octaves=b;if(a!==p)Xa.fallout=a};a.noiseSeed=function(b){Xa.seed=b;Xa.generator=p};M.prototype.size=function(b,l){a.stroke(0);a.fill(255);var m={fillStyle:d.fillStyle,
strokeStyle:d.strokeStyle,lineCap:d.lineCap,lineJoin:d.lineJoin};i.style.length>0&&(i.style.removeProperty("width"),i.style.removeProperty("height"));i.width=a.width=b||100;i.height=a.height=l||100;for(var f in m)m.hasOwnProperty(f)&&(d[f]=m[f]);a.textSize(S);a.background();md=e.max(1E3,b*l*0.05);a.externals.context=d;for(m=0;m<c.SINCOS_LENGTH;m++)Nb[m]=a.sin(m*(c.PI/180)*0.5),Ob[m]=a.cos(m*(c.PI/180)*0.5)};D.prototype.size=function(){d===p&&(d=i.getContext("2d"),Pb=new bb,Qb=new bb,ra=new ab,sa=
new ab,V=ra,Wa=sa);M.prototype.size.apply(this,arguments)};J.prototype.size=function(){var b=!1;return function(c,m){function f(b){for(var a=["experimental-webgl","webgl","webkit-3d"],c,l=0,f=a.length;l<f;l++)if(c=b.getContext(a[l]))break;return c}if(b)throw"Multiple calls to size() for 3D renders are not allowed.";b=!0;try{if(i.width!==c||i.height!==m)i.setAttribute("width",c),i.setAttribute("height",m);d=f(i);id=d.createTexture();jd=d.createTexture()}catch(g){y.debug(g)}if(!d)throw"WebGL context is not supported on this browser.";
d.viewport(0,0,i.width,i.height);d.enable(d.DEPTH_TEST);d.enable(d.BLEND);d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA);E=Vc(d,"varying vec4 frontColor;attribute vec3 Vertex;attribute vec2 aTextureCoord;uniform vec4 color;uniform mat4 model;uniform mat4 view;uniform mat4 projection;uniform float pointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = pointSize;  frontColor = color;  gl_Position = projection * view * model * vec4(Vertex, 1.0);  vTextureCoord = aTextureCoord;}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 frontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int picktype;void main(void){  if(picktype == 0){    gl_FragColor = frontColor;  }  else if(picktype == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(frontColor.rgb*alpha, alpha);\n  }}");
ua=Vc(d,"varying vec4 frontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float pointSize;void main(void) {  frontColor = aColor;  gl_PointSize = pointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 frontColor;void main(void){  gl_FragColor = frontColor;}");a.strokeWeight(1);u=Vc(d,Fc,"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 frontColor;uniform sampler2D sampler;uniform bool usingTexture;uniform bool usingTint;varying vec2 vTexture;void main(void){  if(usingTexture){    gl_FragColor = vec4(texture2D(sampler, vTexture.xy));    if(usingTint){      gl_FragColor = gl_FragColor*frontColor;    }  }  else{    gl_FragColor = frontColor;  }}");
d.useProgram(u);q("usingTexture3d",u,"usingTexture",za);q("usingTint3d",u,"usingTint",!1);a.lightFalloff(1,0,0);a.shininess(1);a.ambient(255,255,255);a.specular(0,0,0);a.emissive(0,0,0);Ic=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,Ic);d.bufferData(d.ARRAY_BUFFER,rd,d.STATIC_DRAW);Jc=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,Jc);d.bufferData(d.ARRAY_BUFFER,zc,d.STATIC_DRAW);Kc=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,Kc);d.bufferData(d.ARRAY_BUFFER,sd,d.STATIC_DRAW);nc=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
nc);d.bufferData(d.ARRAY_BUFFER,Uc,d.STATIC_DRAW);Lc=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,Lc);d.bufferData(d.ARRAY_BUFFER,Cc,d.STATIC_DRAW);cc=d.createBuffer();Mc=d.createBuffer();Wb=d.createBuffer();Nc=d.createBuffer();gd=d.createBuffer();hd=d.createBuffer();oc=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,oc);d.bufferData(d.ARRAY_BUFFER,new Q([0,0,0]),d.STATIC_DRAW);Oc=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,Oc);d.bufferData(d.ARRAY_BUFFER,new Q([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),d.STATIC_DRAW);
Pc=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,Pc);d.bufferData(d.ARRAY_BUFFER,new Q([0,0,1,0,1,1,0,1]),d.STATIC_DRAW);Qc=d.createBuffer();d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,Qc);d.bufferData(d.ELEMENT_ARRAY_BUFFER,new Dd([0,1,2,2,3,0]),d.STATIC_DRAW);ub=new B;Va=new B;V=new B;Wa=new B;Na=new B;a.camera();a.perspective();ra=V;sa=Wa;Pb=new bb;Qb=new bb;ac=new B;kc=new B;Gb=new B;Fb=new B;Bc=new B;Hc=new B;Hc.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0);M.prototype.size.apply(this,arguments)}}();D.prototype.ambientLight=
M.prototype.a3DOnlyFunction;J.prototype.ambientLight=function(b,a,m,f,g,r){if(L===c.MAX_LIGHTS)throw"can only create "+c.MAX_LIGHTS+" lights";f=new aa(f,g,r);g=new B;g.scale(1,-1,1);g.apply(V.array());g.mult(f,f);d.useProgram(u);v("lights.color.3d."+L,u,"lights"+L+".color",[b/255,a/255,m/255]);v("lights.position.3d."+L,u,"lights"+L+".position",f.array());q("lights.type.3d."+L,u,"lights"+L+".type",0);q("lightCount3d",u,"lightCount",++L)};D.prototype.directionalLight=M.prototype.a3DOnlyFunction;J.prototype.directionalLight=
function(b,a,m,f,g,r){if(L===c.MAX_LIGHTS)throw"can only create "+c.MAX_LIGHTS+" lights";d.useProgram(u);var j=new B;j.scale(1,-1,1);j.apply(V.array());j=j.array();f=[j[0]*f+j[4]*g+j[8]*r,j[1]*f+j[5]*g+j[9]*r,j[2]*f+j[6]*g+j[10]*r];v("lights.color.3d."+L,u,"lights"+L+".color",[b/255,a/255,m/255]);v("lights.position.3d."+L,u,"lights"+L+".position",f);q("lights.type.3d."+L,u,"lights"+L+".type",1);q("lightCount3d",u,"lightCount",++L)};D.prototype.lightFalloff=M.prototype.a3DOnlyFunction;J.prototype.lightFalloff=
function(b,a,c){d.useProgram(u);v("falloff3d",u,"falloff",[b,a,c])};D.prototype.lightSpecular=M.prototype.a3DOnlyFunction;J.prototype.lightSpecular=function(b,a,c){d.useProgram(u);v("specular3d",u,"specular",[b/255,a/255,c/255])};a.lights=function(){a.ambientLight(128,128,128);a.directionalLight(128,128,128,0,0,-1);a.lightFalloff(1,0,0);a.lightSpecular(0,0,0)};D.prototype.pointLight=M.prototype.a3DOnlyFunction;J.prototype.pointLight=function(b,a,m,f,g,r){if(L===c.MAX_LIGHTS)throw"can only create "+
c.MAX_LIGHTS+" lights";f=new aa(f,g,r);g=new B;g.scale(1,-1,1);g.apply(V.array());g.mult(f,f);d.useProgram(u);v("lights.color.3d."+L,u,"lights"+L+".color",[b/255,a/255,m/255]);v("lights.position.3d."+L,u,"lights"+L+".position",f.array());q("lights.type.3d."+L,u,"lights"+L+".type",2);q("lightCount3d",u,"lightCount",++L)};D.prototype.noLights=M.prototype.a3DOnlyFunction;J.prototype.noLights=function(){L=0;d.useProgram(u);q("lightCount3d",u,"lightCount",L)};D.prototype.spotLight=M.prototype.a3DOnlyFunction;
J.prototype.spotLight=function(b,a,m,f,g,r,j,k,h,e,i){if(L===c.MAX_LIGHTS)throw"can only create "+c.MAX_LIGHTS+" lights";d.useProgram(u);f=new aa(f,g,r);g=new B;g.scale(1,-1,1);g.apply(V.array());g.mult(f,f);g=g.array();j=[g[0]*j+g[4]*k+g[8]*h,g[1]*j+g[5]*k+g[9]*h,g[2]*j+g[6]*k+g[10]*h];v("lights.color.3d."+L,u,"lights"+L+".color",[b/255,a/255,m/255]);v("lights.position.3d."+L,u,"lights"+L+".position",f.array());v("lights.direction.3d."+L,u,"lights"+L+".direction",j);v("lights.concentration.3d."+
L,u,"lights"+L+".concentration",i);v("lights.angle.3d."+L,u,"lights"+L+".angle",e);q("lights.type.3d."+L,u,"lights"+L+".type",3);q("lightCount3d",u,"lightCount",++L)};a.beginCamera=function(){if(rc)throw"You cannot call beginCamera() again before calling endCamera()";else rc=!0,ra=Va,sa=ub};a.endCamera=function(){if(rc)V.set(ub),Wa.set(Va),ra=V,sa=Wa,rc=!1;else throw"You cannot call endCamera() before calling beginCamera()";};a.camera=function(b,a,c,f,d,r,j,k,h){arguments.length===0&&(Tc=i.width/
2,vb=i.height/2,wb=vb/e.tan(sc/2),b=Tc,a=vb,c=wb,f=Tc,d=vb,j=r=0,k=1,h=0);var p=new aa(b-f,a-d,c-r),o=new aa(j,k,h);p.normalize();var q=aa.cross(o,p),o=aa.cross(p,q);q.normalize();o.normalize();ub.set(q.x,q.y,q.z,0,o.x,o.y,o.z,0,p.x,p.y,p.z,0,0,0,0,1);ub.translate(-b,-a,-c);Va.reset();Va.invApply(q.x,q.y,q.z,0,o.x,o.y,o.z,0,p.x,p.y,p.z,0,0,0,0,1);Va.translate(b,a,c);V.set(ub);Wa.set(Va)};a.perspective=function(b,c,d,f){arguments.length===0&&(vb=i.height/2,wb=vb/e.tan(sc/2),nd=wb/10,od=wb*10,pd=i.width/
i.height,b=sc,c=pd,d=nd,f=od);var g,r;g=d*e.tan(b/2);r=-g;a.frustum(r*c,g*c,r,g,d,f)};a.frustum=function(b,a,c,f,g,r){Na=new B;Na.set(2*g/(a-b),0,(a+b)/(a-b),0,0,2*g/(f-c),(f+c)/(f-c),0,0,0,-(r+g)/(r-g),-(2*r*g)/(r-g),0,0,-1,0);b=new B;b.set(Na);b.transpose();d.useProgram(E);w("projection2d",E,"projection",!1,b.array());d.useProgram(u);w("projection3d",u,"projection",!1,b.array());d.useProgram(ua);w("uProjectionUS",ua,"uProjection",!1,b.array())};a.ortho=function(b,c,m,f,g,r){if(arguments.length===
0)b=0,c=a.width,m=0,f=a.height,g=-10,r=10;var j=2/(c-b),k=2/(f-m),h=-2/(r-g),e=-(c+b)/(c-b),i=-(f+m)/(f-m),p=-(r+g)/(r-g);Na=new B;Na.set(j,0,0,e,0,k,0,i,0,0,h,p,0,0,0,1);j=new B;j.set(Na);j.transpose();d.useProgram(E);w("projection2d",E,"projection",!1,j.array());d.useProgram(u);w("projection3d",u,"projection",!1,j.array());d.useProgram(ua);w("uProjectionUS",ua,"uProjection",!1,j.array())};a.printProjection=function(){Na.print()};a.printCamera=function(){ub.print()};D.prototype.box=M.prototype.a3DOnlyFunction;
J.prototype.box=function(b,a,c){if(!a||!c)a=c=b;var f=new B;f.scale(b,a,c);b=new B;b.scale(1,-1,1);b.apply(V.array());b.transpose();U&&(d.useProgram(u),w("model3d",u,"model",!1,f.array()),w("view3d",u,"view",!1,b.array()),d.enable(d.POLYGON_OFFSET_FILL),d.polygonOffset(1,1),v("color3d",u,"color",na),L>0?(a=new B,a.set(b),c=new B,c.set(f),a.mult(c),c=new B,c.set(a),c.invert(),c.transpose(),w("normalTransform3d",u,"normalTransform",!1,c.array()),s("normal3d",u,"Normal",3,Jc)):K("normal3d",u,"Normal"),
s("vertex3d",u,"Vertex",3,Ic),K("aColor3d",u,"aColor"),K("aTexture3d",u,"aTexture"),d.drawArrays(d.TRIANGLES,0,rd.length/3),d.disable(d.POLYGON_OFFSET_FILL));pa>0&&O&&(d.useProgram(E),w("model2d",E,"model",!1,f.array()),w("view2d",E,"view",!1,b.array()),v("color2d",E,"color",oa),q("picktype2d",E,"picktype",0),s("vertex2d",E,"Vertex",3,Kc),K("aTextureCoord2d",E,"aTextureCoord"),d.drawArrays(d.LINES,0,sd.length/3))};a.sphereDetail=function(b,a){var m;arguments.length===1&&(b=a=arguments[0]);b<3&&(b=
3);a<2&&(a=2);if(!(b===tb&&a===qc)){var f=c.SINCOS_LENGTH/b,g=new Q(b),r=new Q(b);for(m=0;m<b;m++)g[m]=Ob[parseInt(m*f%c.SINCOS_LENGTH,10)],r[m]=Nb[parseInt(m*f%c.SINCOS_LENGTH,10)];m=b*(a-1)+2;f=0;Sa=new Q(m);Ta=new Q(m);Ua=new Q(m);var j=c.SINCOS_LENGTH*0.5/a,k=j;for(m=1;m<a;m++){for(var h=Nb[parseInt(k%c.SINCOS_LENGTH,10)],e=-Ob[parseInt(k%c.SINCOS_LENGTH,10)],i=0;i<b;i++)Sa[f]=g[i]*h,Ta[f]=e,Ua[f++]=r[i]*h;k+=j}tb=b;qc=a;P=[];for(g=0;g<tb;g++)P.push(0),P.push(-1),P.push(0),P.push(Sa[g]),P.push(Ta[g]),
P.push(Ua[g]);P.push(0);P.push(-1);P.push(0);P.push(Sa[0]);P.push(Ta[0]);P.push(Ua[0]);j=0;for(g=2;g<qc;g++){r=m=j;j+=tb;f=j;for(k=0;k<tb;k++)P.push(parseFloat(Sa[r])),P.push(parseFloat(Ta[r])),P.push(parseFloat(Ua[r++])),P.push(parseFloat(Sa[f])),P.push(parseFloat(Ta[f])),P.push(parseFloat(Ua[f++]));r=m;f=j;P.push(parseFloat(Sa[r]));P.push(parseFloat(Ta[r]));P.push(parseFloat(Ua[r]));P.push(parseFloat(Sa[f]));P.push(parseFloat(Ta[f]));P.push(parseFloat(Ua[f]))}for(g=0;g<tb;g++)f=j+g,P.push(parseFloat(Sa[f])),
P.push(parseFloat(Ta[f])),P.push(parseFloat(Ua[f])),P.push(0),P.push(1),P.push(0);P.push(parseFloat(Sa[j]));P.push(parseFloat(Ta[j]));P.push(parseFloat(Ua[j]));P.push(0);P.push(1);P.push(0);d.bindBuffer(d.ARRAY_BUFFER,cc);d.bufferData(d.ARRAY_BUFFER,new Q(P),d.STATIC_DRAW)}};D.prototype.sphere=M.prototype.a3DOnlyFunction;J.prototype.sphere=function(b){(tb<3||qc<2)&&a.sphereDetail(30);var c=new B;c.scale(b,b,b);b=new B;b.scale(1,-1,1);b.apply(V.array());b.transpose();if(U){if(L>0){var m=new B;m.set(b);
var f=new B;f.set(c);m.mult(f);f=new B;f.set(m);f.invert();f.transpose();w("normalTransform3d",u,"normalTransform",!1,f.array());s("normal3d",u,"Normal",3,cc)}else K("normal3d",u,"Normal");d.useProgram(u);K("aTexture3d",u,"aTexture");w("model3d",u,"model",!1,c.array());w("view3d",u,"view",!1,b.array());s("vertex3d",u,"Vertex",3,cc);K("aColor3d",u,"aColor");d.enable(d.POLYGON_OFFSET_FILL);d.polygonOffset(1,1);v("color3d",u,"color",na);d.drawArrays(d.TRIANGLE_STRIP,0,P.length/3);d.disable(d.POLYGON_OFFSET_FILL)}pa>
0&&O&&(d.useProgram(E),w("model2d",E,"model",!1,c.array()),w("view2d",E,"view",!1,b.array()),s("vertex2d",E,"Vertex",3,cc),K("aTextureCoord2d",E,"aTextureCoord"),v("color2d",E,"color",oa),q("picktype2d",E,"picktype",0),d.drawArrays(d.LINE_STRIP,0,P.length/3))};a.modelX=function(b,a,c){var f=V.array(),d=Va.array(),r=f[0]*b+f[1]*a+f[2]*c+f[3],j=f[4]*b+f[5]*a+f[6]*c+f[7],k=f[8]*b+f[9]*a+f[10]*c+f[11],a=f[12]*b+f[13]*a+f[14]*c+f[15],b=d[0]*r+d[1]*j+d[2]*k+d[3]*a,d=d[12]*r+d[13]*j+d[14]*k+d[15]*a;return d!==
0?b/d:b};a.modelY=function(b,a,c){var f=V.array(),d=Va.array(),r=f[0]*b+f[1]*a+f[2]*c+f[3],j=f[4]*b+f[5]*a+f[6]*c+f[7],k=f[8]*b+f[9]*a+f[10]*c+f[11],a=f[12]*b+f[13]*a+f[14]*c+f[15],b=d[4]*r+d[5]*j+d[6]*k+d[7]*a,d=d[12]*r+d[13]*j+d[14]*k+d[15]*a;return d!==0?b/d:b};a.modelZ=function(b,a,c){var f=V.array(),d=Va.array(),r=f[0]*b+f[1]*a+f[2]*c+f[3],j=f[4]*b+f[5]*a+f[6]*c+f[7],k=f[8]*b+f[9]*a+f[10]*c+f[11],a=f[12]*b+f[13]*a+f[14]*c+f[15],b=d[8]*r+d[9]*j+d[10]*k+d[11]*a,d=d[12]*r+d[13]*j+d[14]*k+d[15]*
a;return d!==0?b/d:b};D.prototype.ambient=M.prototype.a3DOnlyFunction;J.prototype.ambient=function(){var b=arguments;d.useProgram(u);q("usingMat3d",u,"usingMat",!0);b.length===1?typeof b[0]==="string"?(b=b[0].slice(5,-1).split(","),v("mat_ambient3d",u,"mat_ambient",[b[0]/255,b[1]/255,b[2]/255])):v("mat_ambient3d",u,"mat_ambient",[b[0]/255,b[0]/255,b[0]/255]):v("mat_ambient3d",u,"mat_ambient",[b[0]/255,b[1]/255,b[2]/255])};D.prototype.emissive=M.prototype.a3DOnlyFunction;J.prototype.emissive=function(){var b=
arguments;d.useProgram(u);q("usingMat3d",u,"usingMat",!0);b.length===1?typeof b[0]==="string"?(b=b[0].slice(5,-1).split(","),v("mat_emissive3d",u,"mat_emissive",[b[0]/255,b[1]/255,b[2]/255])):v("mat_emissive3d",u,"mat_emissive",[b[0]/255,b[0]/255,b[0]/255]):v("mat_emissive3d",u,"mat_emissive",[b[0]/255,b[1]/255,b[2]/255])};D.prototype.shininess=M.prototype.a3DOnlyFunction;J.prototype.shininess=function(b){d.useProgram(u);q("usingMat3d",u,"usingMat",!0);v("shininess3d",u,"shininess",b)};D.prototype.specular=
M.prototype.a3DOnlyFunction;J.prototype.specular=function(){var b=a.color.apply(this,arguments);d.useProgram(u);q("usingMat3d",u,"usingMat",!0);v("mat_specular3d",u,"mat_specular",a.color.toGLArray(b).slice(0,3))};a.screenX=function(b,c,d){var f=V.array();if(f.length===16){var g=f[0]*b+f[1]*c+f[2]*d+f[3],r=f[4]*b+f[5]*c+f[6]*d+f[7],j=f[8]*b+f[9]*c+f[10]*d+f[11],c=f[12]*b+f[13]*c+f[14]*d+f[15],d=Na.array(),b=d[0]*g+d[1]*r+d[2]*j+d[3]*c,g=d[12]*g+d[13]*r+d[14]*j+d[15]*c;g!==0&&(b/=g);return a.width*
(1+b)/2}else return V.multX(b,c)};a.screenY=function(b,c,d){var f=V.array();if(f.length===16){var g=f[0]*b+f[1]*c+f[2]*d+f[3],r=f[4]*b+f[5]*c+f[6]*d+f[7],j=f[8]*b+f[9]*c+f[10]*d+f[11],c=f[12]*b+f[13]*c+f[14]*d+f[15],d=Na.array(),b=d[4]*g+d[5]*r+d[6]*j+d[7]*c,g=d[12]*g+d[13]*r+d[14]*j+d[15]*c;g!==0&&(b/=g);return a.height*(1+b)/2}else return V.multY(b,c)};a.screenZ=function(b,a,c){var d=V.array();if(d.length!==16)return 0;var g=Na.array(),r=d[0]*b+d[1]*a+d[2]*c+d[3],j=d[4]*b+d[5]*a+d[6]*c+d[7],k=d[8]*
b+d[9]*a+d[10]*c+d[11],a=d[12]*b+d[13]*a+d[14]*c+d[15],b=g[8]*r+g[9]*j+g[10]*k+g[11]*a,g=g[12]*r+g[13]*j+g[14]*k+g[15]*a;g!==0&&(b/=g);return(b+1)/2};M.prototype.fill=function(b,c,d,f){b=a.color(b,c,d,f);b===Fa&&U||(U=!0,Fa=b)};D.prototype.fill=function(){M.prototype.fill.apply(this,arguments);Ga=!0};J.prototype.fill=function(){M.prototype.fill.apply(this,arguments);na=a.color.toGLArray(Fa)};a.noFill=function(){U=!1};M.prototype.stroke=function(b,c,d,f){b=a.color(b,c,d,f);b===ka&&O||(O=!0,ka=b)};
D.prototype.stroke=function(){M.prototype.stroke.apply(this,arguments);Db=!0};J.prototype.stroke=function(){M.prototype.stroke.apply(this,arguments);oa=a.color.toGLArray(ka)};a.noStroke=function(){O=!1};M.prototype.strokeWeight=function(b){pa=b};D.prototype.strokeWeight=function(b){M.prototype.strokeWeight.apply(this,arguments);d.lineWidth=b};J.prototype.strokeWeight=function(b){M.prototype.strokeWeight.apply(this,arguments);d.useProgram(E);v("pointSize2d",E,"pointSize",b);d.useProgram(ua);v("pointSizeUnlitShape",
ua,"pointSize",b);d.lineWidth(b)};a.strokeCap=function(b){ga.$ensureContext().lineCap=b};a.strokeJoin=function(b){ga.$ensureContext().lineJoin=b};M.prototype.smooth=function(){i.style.setProperty("image-rendering","optimizeQuality","important")};D.prototype.smooth=function(){M.prototype.smooth.apply(this,arguments);if("mozImageSmoothingEnabled"in d)d.mozImageSmoothingEnabled=!0};M.prototype.noSmooth=function(){i.style.setProperty("image-rendering","optimizeSpeed","important")};D.prototype.noSmooth=
function(){M.prototype.noSmooth.apply(this,arguments);if("mozImageSmoothingEnabled"in d)d.mozImageSmoothingEnabled=!1};D.prototype.point=function(b,l){if(O)if($.options.crispLines){var m=e.PI/4,f=a.get(b,l);a.set(b,l,hc(f,ka,m))}else pa>1?(d.fillStyle=a.color.toString(ka),Ga=!0,d.beginPath(),d.arc(b,l,pa/2,0,c.TWO_PI,!1),d.fill(),d.closePath()):(d.fillStyle=a.color.toString(ka),d.fillRect(e.round(b),e.round(l),1,1),Ga=!0)};J.prototype.point=function(b,a,c){var f=new B;f.translate(b,a,c||0);f.transpose();
b=new B;b.scale(1,-1,1);b.apply(V.array());b.transpose();d.useProgram(E);w("model2d",E,"model",!1,f.array());w("view2d",E,"view",!1,b.array());pa>0&&O&&(v("color2d",E,"color",oa),q("picktype2d",E,"picktype",0),s("vertex2d",E,"Vertex",3,oc),K("aTextureCoord2d",E,"aTextureCoord"),d.drawArrays(d.POINTS,0,1))};a.beginShape=function(b){W=b;o=[]};D.prototype.vertex=function(b,a,c,d){var g=[];mb&&(mb=!1);g.isVert=!0;g[0]=b;g[1]=a;g[2]=0;g[3]=c;g[4]=d;g[5]=Fa;g[6]=ka;o.push(g)};J.prototype.vertex=function(b,
a,c,d,g){var r=[];mb&&(mb=!1);r.isVert=!0;g===p&&(g=d,d=c,c=0);r[0]=b;r[1]=a;r[2]=c||0;r[3]=d||0;r[4]=g||0;r[5]=na[0];r[6]=na[1];r[7]=na[2];r[8]=na[3];r[9]=oa[0];r[10]=oa[1];r[11]=oa[2];r[12]=oa[3];r[13]=Aa;r[14]=ob;r[15]=gb;o.push(r)};var vd=function(b,a){var c=new B;c.scale(1,-1,1);c.apply(V.array());c.transpose();d.useProgram(ua);w("uViewUS",ua,"uView",!1,c.array());s("aVertexUS",ua,"aVertex",3,oc);d.bufferData(d.ARRAY_BUFFER,new Q(b),d.STREAM_DRAW);s("aColorUS",ua,"aColor",4,Nc);d.bufferData(d.ARRAY_BUFFER,
new Q(a),d.STREAM_DRAW);d.drawArrays(d.POINTS,0,b.length/3)},Ja=function(b,a,c){var a=a==="LINES"?d.LINES:a==="LINE_LOOP"?d.LINE_LOOP:d.LINE_STRIP,f=new B;f.scale(1,-1,1);f.apply(V.array());f.transpose();d.useProgram(ua);w("uViewUS",ua,"uView",!1,f.array());s("aVertexUS",ua,"aVertex",3,Mc);d.bufferData(d.ARRAY_BUFFER,new Q(b),d.STREAM_DRAW);s("aColorUS",ua,"aColor",4,gd);d.bufferData(d.ARRAY_BUFFER,new Q(c),d.STREAM_DRAW);d.drawArrays(a,0,b.length/3)},cb=function(b,a,m,f){var a=a==="TRIANGLES"?d.TRIANGLES:
a==="TRIANGLE_FAN"?d.TRIANGLE_FAN:d.TRIANGLE_STRIP,g=new B;g.scale(1,-1,1);g.apply(V.array());g.transpose();d.useProgram(u);w("model3d",u,"model",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);w("view3d",u,"view",!1,g.array());d.enable(d.POLYGON_OFFSET_FILL);d.polygonOffset(1,1);v("color3d",u,"color",[-1,0,0,0]);s("vertex3d",u,"Vertex",3,Wb);d.bufferData(d.ARRAY_BUFFER,new Q(b),d.STREAM_DRAW);za&&eb!==null&&(curTint3d(m),q("usingTint3d",u,"usingTint",!0));s("aColor3d",u,"aColor",4,Nc);d.bufferData(d.ARRAY_BUFFER,
new Q(m),d.STREAM_DRAW);K("normal3d",u,"Normal");if(za){if(kd===c.IMAGE)for(m=0;m<f.length;m+=2)f[m]/=pc.width,f[m+1]/=pc.height;for(m=0;m<f.length;m+=2)f[m+0]>1&&(f[m+0]-=f[m+0]-1),f[m+1]>1&&(f[m+1]-=f[m+1]-1);q("usingTexture3d",u,"usingTexture",za);s("aTexture3d",u,"aTexture",2,hd);d.bufferData(d.ARRAY_BUFFER,new Q(f),d.STREAM_DRAW)}d.drawArrays(a,0,b.length/3);d.disable(d.POLYGON_OFFSET_FILL)};D.prototype.endShape=function(b){if(o.length!==0){var b=b===c.CLOSE,l=[],m=[],f=[],g=[],r;mb=!0;var j,
k,h=o.length;for(j=0;j<h;j++){r=o[j];for(k=0;k<3;k++)l.push(r[k])}for(j=0;j<h;j++){r=o[j];for(k=5;k<9;k++)m.push(r[k])}for(j=0;j<h;j++){r=o[j];for(k=9;k<13;k++)f.push(r[k])}for(j=0;j<h;j++)r=o[j],g.push(r[3]),g.push(r[4]);if(b){l.push(o[0][0]);l.push(o[0][1]);l.push(o[0][2]);for(j=5;j<9;j++)m.push(o[0][j]);for(j=9;j<13;j++)f.push(o[0][j]);g.push(o[0][3]);g.push(o[0][4])}if(Rb&&(W===c.POLYGON||W===p)){if(h>3){l=[];m=1-Ya;d.beginPath();d.moveTo(o[1][0],o[1][1]);for(j=1;j+2<h;j++)r=o[j],l[0]=[r[0],r[1]],
l[1]=[r[0]+(m*o[j+1][0]-m*o[j-1][0])/6,r[1]+(m*o[j+1][1]-m*o[j-1][1])/6],l[2]=[o[j+1][0]+(m*o[j][0]-m*o[j+2][0])/6,o[j+1][1]+(m*o[j][1]-m*o[j+2][1])/6],l[3]=[o[j+1][0],o[j+1][1]],d.bezierCurveTo(l[1][0],l[1][1],l[2][0],l[2][1],l[3][0],l[3][1]);b&&d.lineTo(o[0][0],o[0][1]);ea();Y();d.closePath()}}else if(Sb&&(W===c.POLYGON||W===p)){d.beginPath();for(j=0;j<h;j++)r=o[j],o[j].isVert?o[j].moveTo?d.moveTo(r[0],r[1]):d.lineTo(r[0],r[1]):d.bezierCurveTo(o[j][0],o[j][1],o[j][2],o[j][3],o[j][4],o[j][5]);b&&
d.lineTo(o[0][0],o[0][1]);ea();Y();d.closePath()}else if(W===c.POINTS)for(j=0;j<h;j++)r=o[j],O&&a.stroke(r[6]),a.point(r[0],r[1]);else if(W===c.LINES)for(j=0;j+1<h;j+=2)r=o[j],O&&a.stroke(o[j+1][6]),a.line(r[0],r[1],o[j+1][0],o[j+1][1]);else if(W===c.TRIANGLES)for(j=0;j+2<h;j+=3)r=o[j],d.beginPath(),d.moveTo(r[0],r[1]),d.lineTo(o[j+1][0],o[j+1][1]),d.lineTo(o[j+2][0],o[j+2][1]),d.lineTo(r[0],r[1]),U&&(a.fill(o[j+2][5]),ea()),O&&(a.stroke(o[j+2][6]),Y()),d.closePath();else if(W===c.TRIANGLE_STRIP)for(j=
0;j+1<h;j++)r=o[j],d.beginPath(),d.moveTo(o[j+1][0],o[j+1][1]),d.lineTo(r[0],r[1]),O&&a.stroke(o[j+1][6]),U&&a.fill(o[j+1][5]),j+2<h&&(d.lineTo(o[j+2][0],o[j+2][1]),O&&a.stroke(o[j+2][6]),U&&a.fill(o[j+2][5])),ea(),Y(),d.closePath();else if(W===c.TRIANGLE_FAN){if(h>2){d.beginPath();d.moveTo(o[0][0],o[0][1]);d.lineTo(o[1][0],o[1][1]);d.lineTo(o[2][0],o[2][1]);U&&(a.fill(o[2][5]),ea());O&&(a.stroke(o[2][6]),Y());d.closePath();for(j=3;j<h;j++)r=o[j],d.beginPath(),d.moveTo(o[0][0],o[0][1]),d.lineTo(o[j-
1][0],o[j-1][1]),d.lineTo(r[0],r[1]),U&&(a.fill(r[5]),ea()),O&&(a.stroke(r[6]),Y()),d.closePath()}}else if(W===c.QUADS)for(j=0;j+3<h;j+=4){r=o[j];d.beginPath();d.moveTo(r[0],r[1]);for(k=1;k<4;k++)d.lineTo(o[j+k][0],o[j+k][1]);d.lineTo(r[0],r[1]);U&&(a.fill(o[j+3][5]),ea());O&&(a.stroke(o[j+3][6]),Y());d.closePath()}else if(W===c.QUAD_STRIP){if(h>3)for(j=0;j+1<h;j+=2)r=o[j],d.beginPath(),j+3<h?(d.moveTo(o[j+2][0],o[j+2][1]),d.lineTo(r[0],r[1]),d.lineTo(o[j+1][0],o[j+1][1]),d.lineTo(o[j+3][0],o[j+3][1]),
U&&a.fill(o[j+3][5]),O&&a.stroke(o[j+3][6])):(d.moveTo(r[0],r[1]),d.lineTo(o[j+1][0],o[j+1][1])),ea(),Y(),d.closePath()}else{d.beginPath();d.moveTo(o[0][0],o[0][1]);for(j=1;j<h;j++)r=o[j],r.isVert&&(r.moveTo?d.moveTo(r[0],r[1]):d.lineTo(r[0],r[1]));b&&d.lineTo(o[0][0],o[0][1]);ea();Y();d.closePath()}Sb=Rb=!1;va=[];ta=0}};J.prototype.endShape=function(b){if(o.length!==0){var a=b===c.CLOSE,b=[],m=[],f=[],g=[],h=[],j;mb=!0;var k,e,i=o.length;for(k=0;k<i;k++){j=o[k];for(e=0;e<3;e++)m.push(j[e])}for(k=
0;k<i;k++){j=o[k];for(e=5;e<9;e++)f.push(j[e])}for(k=0;k<i;k++){j=o[k];for(e=9;e<13;e++)g.push(j[e])}for(k=0;k<i;k++)j=o[k],h.push(j[3]),h.push(j[4]);if(a){m.push(o[0][0]);m.push(o[0][1]);m.push(o[0][2]);for(k=5;k<9;k++)f.push(o[0][k]);for(k=9;k<13;k++)g.push(o[0][k]);h.push(o[0][3]);h.push(o[0][4])}if(Rb&&(W===c.POLYGON||W===p))O&&Ja(m,null,g),U&&cb(m,null,f);else if(Sb&&(W===c.POLYGON||W===p))b=m,b.splice(b.length-3),g.splice(g.length-4),O&&Ja(b,null,g),U&&cb(m,"TRIANGLES",f);else{if(W===c.POINTS){for(k=
0;k<i;k++){j=o[k];for(e=0;e<3;e++)b.push(j[e])}vd(b,g)}else if(W===c.LINES){for(k=0;k<i;k++){j=o[k];for(e=0;e<3;e++)b.push(j[e])}for(k=0;k<i;k++){j=o[k];for(e=5;e<9;e++)f.push(j[e])}Ja(b,"LINES",g)}else if(W===c.TRIANGLES){if(i>2)for(k=0;k+2<i;k+=3){m=[];h=[];b=[];f=[];g=[];for(e=0;e<3;e++)for(a=0;a<3;a++)b.push(o[k+e][a]),m.push(o[k+e][a]);for(e=0;e<3;e++)for(a=3;a<5;a++)h.push(o[k+e][a]);for(e=0;e<3;e++)for(a=5;a<9;a++)f.push(o[k+e][a]),g.push(o[k+e][a+4]);O&&Ja(b,"LINE_LOOP",g);(U||za)&&cb(m,"TRIANGLES",
f,h)}}else if(W===c.TRIANGLE_STRIP){if(i>2)for(k=0;k+2<i;k++){b=[];m=[];g=[];f=[];h=[];for(e=0;e<3;e++)for(a=0;a<3;a++)b.push(o[k+e][a]),m.push(o[k+e][a]);for(e=0;e<3;e++)for(a=3;a<5;a++)h.push(o[k+e][a]);for(e=0;e<3;e++)for(a=5;a<9;a++)g.push(o[k+e][a+4]),f.push(o[k+e][a]);(U||za)&&cb(m,"TRIANGLE_STRIP",f,h);O&&Ja(b,"LINE_LOOP",g)}}else if(W===c.TRIANGLE_FAN){if(i>2){for(k=0;k<3;k++){j=o[k];for(e=0;e<3;e++)b.push(j[e])}for(k=0;k<3;k++){j=o[k];for(e=9;e<13;e++)g.push(j[e])}O&&Ja(b,"LINE_LOOP",g);
for(k=2;k+1<i;k++){b=[];g=[];b.push(o[0][0]);b.push(o[0][1]);b.push(o[0][2]);g.push(o[0][9]);g.push(o[0][10]);g.push(o[0][11]);g.push(o[0][12]);for(e=0;e<2;e++)for(a=0;a<3;a++)b.push(o[k+e][a]);for(e=0;e<2;e++)for(a=9;a<13;a++)g.push(o[k+e][a]);O&&Ja(b,"LINE_STRIP",g)}(U||za)&&cb(m,"TRIANGLE_FAN",f,h)}}else if(W===c.QUADS)for(k=0;k+3<i;k+=4){b=[];for(e=0;e<4;e++){j=o[k+e];for(a=0;a<3;a++)b.push(j[a])}O&&Ja(b,"LINE_LOOP",g);if(U){m=[];f=[];h=[];for(e=0;e<3;e++)m.push(o[k][e]);for(e=5;e<9;e++)f.push(o[k][e]);
for(e=0;e<3;e++)m.push(o[k+1][e]);for(e=5;e<9;e++)f.push(o[k+1][e]);for(e=0;e<3;e++)m.push(o[k+3][e]);for(e=5;e<9;e++)f.push(o[k+3][e]);for(e=0;e<3;e++)m.push(o[k+2][e]);for(e=5;e<9;e++)f.push(o[k+2][e]);za&&(h.push(o[k+0][3]),h.push(o[k+0][4]),h.push(o[k+1][3]),h.push(o[k+1][4]),h.push(o[k+3][3]),h.push(o[k+3][4]),h.push(o[k+2][3]),h.push(o[k+2][4]));cb(m,"TRIANGLE_STRIP",f,h)}}else if(W===c.QUAD_STRIP){if(i>3){for(k=0;k<2;k++){j=o[k];for(e=0;e<3;e++)b.push(j[e])}for(k=0;k<2;k++){j=o[k];for(e=9;e<
13;e++)g.push(j[e])}Ja(b,"LINE_STRIP",g);i>4&&i%2>0&&(m.splice(m.length-3),o.pop());for(k=0;k+3<i;k+=2){b=[];g=[];for(e=0;e<3;e++)b.push(o[k+1][e]);for(e=0;e<3;e++)b.push(o[k+3][e]);for(e=0;e<3;e++)b.push(o[k+2][e]);for(e=0;e<3;e++)b.push(o[k+0][e]);for(e=9;e<13;e++)g.push(o[k+1][e]);for(e=9;e<13;e++)g.push(o[k+3][e]);for(e=9;e<13;e++)g.push(o[k+2][e]);for(e=9;e<13;e++)g.push(o[k+0][e]);O&&Ja(b,"LINE_STRIP",g)}(U||za)&&cb(m,"TRIANGLE_LIST",f,h)}}else if(i===1){for(e=0;e<3;e++)b.push(o[0][e]);for(e=
9;e<13;e++)g.push(o[0][e]);vd(b,g)}else{for(k=0;k<i;k++){j=o[k];for(e=0;e<3;e++)b.push(j[e]);for(e=5;e<9;e++)g.push(j[e])}O&&a?Ja(b,"LINE_LOOP",g):O&&!a&&Ja(b,"LINE_STRIP",g);(U||za)&&cb(m,"TRIANGLE_FAN",f,h)}za=!1;d.useProgram(u);q("usingTexture3d",u,"usingTexture",za)}Sb=Rb=!1;va=[];ta=0}};var wd=function(a,c){var d=1/a,f=d*d,g=f*d;c.set(0,0,0,1,g,f,d,0,6*g,2*f,0,0,6*g,0,0,0)},xd=function(){Gb||(ac=new B,Gb=new B,Ub=!0);var a=Ya;ac.set((a-1)/2,(a+3)/2,(-3-a)/2,(1-a)/2,1-a,(-5-a)/2,a+2,(a-1)/2,(a-
1)/2,0,(1-a)/2,0,0,1,0,0);wd(Yb,Gb);Bc||(kc=new B);kc.set(ac);kc.preApply(Bc);Gb.apply(ac)};D.prototype.bezierVertex=function(){Sb=!0;var a=[];if(mb)throw"vertex() must be used at least once before calling bezierVertex()";for(var c=0;c<arguments.length;c++)a[c]=arguments[c];o.push(a);o[o.length-1].isVert=!1};J.prototype.bezierVertex=function(){Sb=!0;if(mb)throw"vertex() must be used at least once before calling bezierVertex()";if(arguments.length===9){Fb===p&&(Fb=new B);var b=o.length-1;wd(yb,Fb);
Fb.apply(Hc);for(var c=Fb.array(),d=o[b][0],f=o[b][1],b=o[b][2],g=c[4]*d+c[5]*arguments[0]+c[6]*arguments[3]+c[7]*arguments[6],e=c[8]*d+c[9]*arguments[0]+c[10]*arguments[3]+c[11]*arguments[6],j=c[12]*d+c[13]*arguments[0]+c[14]*arguments[3]+c[15]*arguments[6],h=c[4]*f+c[5]*arguments[1]+c[6]*arguments[4]+c[7]*arguments[7],i=c[8]*f+c[9]*arguments[1]+c[10]*arguments[4]+c[11]*arguments[7],q=c[12]*f+c[13]*arguments[1]+c[14]*arguments[4]+c[15]*arguments[7],s=c[4]*b+c[5]*arguments[2]+c[6]*arguments[5]+c[7]*
arguments[8],v=c[8]*b+c[9]*arguments[2]+c[10]*arguments[5]+c[11]*arguments[8],c=c[12]*b+c[13]*arguments[2]+c[14]*arguments[5]+c[15]*arguments[8],n=0;n<yb;n++)d+=g,g+=e,e+=j,f+=h,h+=i,i+=q,b+=s,s+=v,v+=c,a.vertex(d,f,b);a.vertex(arguments[6],arguments[7],arguments[8])}};var Tb=function(){var a=z.createElement("canvas");try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,a),Tb=function(a){d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,a)}}catch(c){Tb=function(a){d.texImage2D(d.TEXTURE_2D,
0,a,!1)}}Tb.apply(this,arguments)};a.texture=function(a){var c=ga.$ensureContext();if(a.localName==="canvas")c.bindTexture(c.TEXTURE_2D,id),Tb(a),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.generateMipmap(c.TEXTURE_2D);else if(a.__texture)c.bindTexture(c.TEXTURE_2D,a.__texture);else{var d=c.createTexture();a.__texture=d;var d=z.createElement("canvas"),f;if(a.width&a.width-1===0)d.width=a.width;else{for(f=1;f<a.width;)f*=
2;d.width=f}if(a.height&a.height-1===0)d.height=a.height;else{for(f=1;f<a.height;)f*=2;d.height=f}a.resize(d.width,d.height);d.getContext("2d").putImageData(a.imageData,0,0);a.__cvs=d;c.bindTexture(c.TEXTURE_2D,a.__texture);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);Tb(a.__cvs);c.generateMipmap(c.TEXTURE_2D)}pc.width=
a.width;pc.height=a.height;za=!0;c.useProgram(u);q("usingTexture3d",u,"usingTexture",za)};a.textureMode=function(a){kd=a};D.prototype.curveVertex=function(b,c){Rb=!0;a.vertex(b,c)};J.prototype.curveVertex=function(b,c,d){Rb=!0;Ub||xd();var f=[];f[0]=b;f[1]=c;f[2]=d;va.push(f);ta++;if(ta>3){var g=va[ta-4][0],e=va[ta-4][1],j=va[ta-4][2],h=va[ta-3][0],i=va[ta-3][1],p=va[ta-3][2],o=va[ta-2][0],q=va[ta-2][1],n=va[ta-2][2],s=va[ta-1][0],v=va[ta-1][1],u=va[ta-1][2],b=h,c=i,d=p,t=Gb.array(),f=t[4]*g+t[5]*
h+t[6]*o+t[7]*s,w=t[8]*g+t[9]*h+t[10]*o+t[11]*s,g=t[12]*g+t[13]*h+t[14]*o+t[15]*s,h=t[4]*e+t[5]*i+t[6]*q+t[7]*v,o=t[8]*e+t[9]*i+t[10]*q+t[11]*v,e=t[12]*e+t[13]*i+t[14]*q+t[15]*v,i=t[4]*j+t[5]*p+t[6]*n+t[7]*u,q=t[8]*j+t[9]*p+t[10]*n+t[11]*u,j=t[12]*j+t[13]*p+t[14]*n+t[15]*u;a.vertex(b,c,d);for(p=0;p<Yb;p++)b+=f,f+=w,w+=g,c+=h,h+=o,o+=e,d+=i,i+=q,q+=j,a.vertex(b,c,d)}};D.prototype.curve=function(){arguments.length===8&&(a.beginShape(),a.curveVertex(arguments[0],arguments[1]),a.curveVertex(arguments[2],
arguments[3]),a.curveVertex(arguments[4],arguments[5]),a.curveVertex(arguments[6],arguments[7]),a.endShape())};J.prototype.curve=function(){arguments.length===12&&(a.beginShape(),a.curveVertex(arguments[0],arguments[1],arguments[2]),a.curveVertex(arguments[3],arguments[4],arguments[5]),a.curveVertex(arguments[6],arguments[7],arguments[8]),a.curveVertex(arguments[9],arguments[10],arguments[11]),a.endShape())};a.curveTightness=function(a){Ya=a};a.curveDetail=function(a){Yb=a;xd()};a.rectMode=function(a){T=
a};a.imageMode=function(a){switch(a){case c.CORNER:tc=td;break;case c.CORNERS:tc=Gc;break;case c.CENTER:tc=Ed;break;default:throw"Invalid imageMode";}};a.ellipseMode=function(a){ba=a};a.arc=function(b,d,e,f,g,h){if(!(e<=0||h<g)){ba===c.CORNERS?(e-=b,f-=d):ba===c.RADIUS?(b-=e,d-=f,e*=2,f*=2):ba===c.CENTER&&(b-=e/2,d-=f/2);for(;g<0;)g+=c.TWO_PI,h+=c.TWO_PI;if(h-g>c.TWO_PI)g=0,h=c.TWO_PI;e/=2;f/=2;b+=e;d+=f;var g=0|-0.5+g/c.TWO_PI*c.SINCOS_LENGTH,h=0|0.5+h/c.TWO_PI*c.SINCOS_LENGTH,j,k;if(U){var i=O;
O=!1;a.beginShape();a.vertex(b,d);for(k=j=g;j<h;j++,k++)k>=c.SINCOS_LENGTH&&(k-=c.SINCOS_LENGTH),a.vertex(b+Ob[k]*e,d+Nb[k]*f);a.endShape(c.CLOSE);O=i}if(O){i=U;U=!1;a.beginShape();for(k=j=g;j<h;j++,k++)k>=c.SINCOS_LENGTH&&(k-=c.SINCOS_LENGTH),a.vertex(b+Ob[k]*e,d+Nb[k]*f);k=h%c.SINCOS_LENGTH;a.vertex(b+Ob[k]*e,d+Nb[k]*f);a.endShape();U=i}}};D.prototype.line=function(b,c,e,f){if(b===e&&c===f)a.point(b,c);else if((b===e||c===f)&&pa<=1&&O&&$.options.crispLines){var g;if(b===e){c>f&&(g=c,c=f,f=g);for(;c<=
f;++c)a.set(b,c,ka)}else{b>e&&(g=b,b=e,e=g);for(;b<=e;++b)a.set(b,c,ka)}}else O&&(d.beginPath(),d.moveTo(b||0,c||0),d.lineTo(e||0,f||0),Y(),d.closePath())};J.prototype.line=function(b,c,e,f,g,h){if(g===p||h===p)h=0,g=f,f=e,e=0;b===f&&c===g&&e===h?a.point(b,c,e):(b=[b,c,e,f,g,h],c=new B,c.scale(1,-1,1),c.apply(V.array()),c.transpose(),pa>0&&O&&(d.useProgram(E),w("model2d",E,"model",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),w("view2d",E,"view",!1,c.array()),v("color2d",E,"color",oa),q("picktype2d",E,"picktype",
0),s("vertex2d",E,"Vertex",3,Mc),K("aTextureCoord2d",E,"aTextureCoord"),d.bufferData(d.ARRAY_BUFFER,new Q(b),d.STREAM_DRAW),d.drawArrays(d.LINES,0,2)))};D.prototype.bezier=function(){if(arguments.length!==8)throw"You must use 8 parameters for bezier() in 2D mode";a.beginShape();a.vertex(arguments[0],arguments[1]);a.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);a.endShape()};J.prototype.bezier=function(){if(arguments.length!==12)throw"You must use 12 parameters for bezier() in 3D mode";
a.beginShape();a.vertex(arguments[0],arguments[1],arguments[2]);a.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);a.endShape()};a.bezierDetail=function(a){yb=a};a.bezierPoint=function(a,c,d,f,g){return(1-g)*(1-g)*(1-g)*a+3*(1-g)*(1-g)*g*c+3*(1-g)*g*g*d+g*g*g*f};a.bezierTangent=function(a,c,d,f,g){return 3*g*g*(-a+3*c-3*d+f)+6*g*(a-2*c+d)+3*(-a+c)};a.curvePoint=function(a,c,d,f,g){return 0.5*(2*c+(-a+d)*g+(2*a-5*c+
4*d-f)*g*g+(-a+3*c-3*d+f)*g*g*g)};a.curveTangent=function(a,c,d,f,g){return 0.5*(-a+d+2*(2*a-5*c+4*d-f)*g+3*(-a+3*c-3*d+f)*g*g)};a.triangle=function(b,d,e,f,g,h){a.beginShape(c.TRIANGLES);a.vertex(b,d,0);a.vertex(e,f,0);a.vertex(g,h,0);a.endShape()};a.quad=function(b,d,e,f,g,h,j,k){a.beginShape(c.QUADS);a.vertex(b,d,0);a.vertex(e,f,0);a.vertex(g,h,0);a.vertex(j,k,0);a.endShape()};D.prototype.rect=function(b,l,m,f){if(m||f)if(O&&!U&&pa<=1&&$.options.crispLines){var g,h=b+m-1,j=l+f-1;for(g=0;g<m;++g)a.set(b+
g,l,ka),a.set(b+g,j,ka);for(g=0;g<f;++g)a.set(b,l+g,ka),a.set(h,l+g,ka)}else{d.beginPath();T===c.CORNERS&&(m-=b,f-=l);T===c.RADIUS&&(m*=2,f*=2);if(T===c.CENTER||T===c.RADIUS)b-=m/2,l-=f/2;d.rect(e.round(b)-0,e.round(l)-0,e.round(m)+0,e.round(f)+0);ea();Y();d.closePath()}};J.prototype.rect=function(a,c,e,f){var g=new B;g.translate(a,c,0);g.scale(e,f,1);g.transpose();c=new B;c.scale(1,-1,1);c.apply(V.array());c.transpose();pa>0&&O&&(d.useProgram(E),w("model2d",E,"model",!1,g.array()),w("view2d",E,"view",
!1,c.array()),v("color2d",E,"color",oa),q("picktype2d",E,"picktype",0),s("vertex2d",E,"Vertex",3,nc),K("aTextureCoord2d",E,"aTextureCoord"),d.drawArrays(d.LINE_LOOP,0,Uc.length/3));U&&(d.useProgram(u),w("model3d",u,"model",!1,g.array()),w("view3d",u,"view",!1,c.array()),d.enable(d.POLYGON_OFFSET_FILL),d.polygonOffset(1,1),v("color3d",u,"color",na),L>0?(a=new B,a.set(c),c=new B,c.set(g),a.mult(c),g=new B,g.set(a),g.invert(),g.transpose(),w("normalTransform3d",u,"normalTransform",!1,g.array()),s("normal3d",
u,"Normal",3,Lc)):K("normal3d",u,"Normal"),s("vertex3d",u,"Vertex",3,nc),d.drawArrays(d.TRIANGLE_FAN,0,Uc.length/3),d.disable(d.POLYGON_OFFSET_FILL))};M.prototype.ellipse=function(a,d,e,f){a=a||0;d=d||0;if(!(e<=0&&f<=0)){ba===c.RADIUS&&(e*=2,f*=2);ba===c.CORNERS&&(e-=a,f-=d);if(ba===c.CORNER||ba===c.CORNERS)a+=e/2,d+=f/2;return{x:a,y:d,width:e,height:f}}};D.prototype.ellipse=function(b,l,e,f){var g=M.prototype.ellipse.apply(this,arguments);if(g)if(b=g.x,l=g.y,e=g.width,f=g.height,e===f)d.beginPath(),
d.arc(b-0,l-0,e/2,0,c.TWO_PI,!1),ea(),Y(),d.closePath();else{var g=e/2,h=f/2,j=0.5522847498307933*g,k=0.5522847498307933*h;a.beginShape();a.vertex(b+g,l);a.bezierVertex(b+g,l-k,b+j,l-h,b,l-h);a.bezierVertex(b-j,l-h,b-g,l-k,b-g,l);a.bezierVertex(b-g,l+k,b-j,l+h,b,l+h);a.bezierVertex(b+j,l+h,b+g,l+k,b+g,l);a.endShape()}};J.prototype.ellipse=function(b,c,d,f){var g=M.prototype.ellipse.apply(this,arguments);if(g){var b=g.x,c=g.y,d=g.width,f=g.height,g=d/2,e=f/2,j=0.5522847498307933*g,h=0.5522847498307933*
e;a.beginShape();a.vertex(b+g,c);a.bezierVertex(b+g,c-h,0,b+j,c-e,0,b,c-e,0);a.bezierVertex(b-j,c-e,0,b-g,c-h,0,b-g,c,0);a.bezierVertex(b-g,c+h,0,b-j,c+e,0,b,c+e,0);a.bezierVertex(b+j,c+e,0,b+g,c+h,0,b+g,c,0);a.endShape();if(U){var h=j=0,i;for(i=0;i<o.length;i++)j+=o[i][0],h+=o[i][1];j/=o.length;h/=o.length;i=[];g=[];e=[];i[0]=j;i[1]=h;i[2]=0;i[3]=0;i[4]=0;i[5]=na[0];i[6]=na[1];i[7]=na[2];i[8]=na[3];i[9]=oa[0];i[10]=oa[1];i[11]=oa[2];i[12]=oa[3];i[13]=Aa;i[14]=ob;i[15]=gb;o.unshift(i);for(i=0;i<o.length;i++){for(j=
0;j<3;j++)g.push(o[i][j]);for(j=5;j<9;j++)e.push(o[i][j])}cb(g,"TRIANGLE_FAN",e)}}};a.normal=function(a,d,e){if(arguments.length!==3||!(typeof a==="number"&&typeof d==="number"&&typeof e==="number"))throw"normal() requires three numeric arguments.";Aa=a;ob=d;gb=e;if(W!==0)if(ib===c.NORMAL_MODE_AUTO)ib=c.NORMAL_MODE_SHAPE;else if(ib===c.NORMAL_MODE_SHAPE)ib=c.NORMAL_MODE_VERTEX};a.save=function(b,c){return c!==p?X.open(c.toDataURL(),"_blank"):X.open(a.externals.canvas.toDataURL(),"_blank")};var Fd=
0;a.saveFrame=function(b){b===p&&(b="screen-####.png");b=b.replace(/#+/,function(a){for(var b=""+Fd++;b.length<a.length;)b="0"+b;return b});a.save(b)};var yd=z.createElement("canvas").getContext("2d"),ad=[p,p,p],Ka=function(b,d,h){this.get=function(b,c,d,f){if(arguments.length)if(arguments.length===2)return a.get(b,c,this);else{if(arguments.length===4)return a.get(b,c,d,f,this)}else return a.get(this)};this.set=function(b,c,d){a.set(b,c,d,this)};this.blend=function(b,c,d,f,l,g,e,h,m,r){arguments.length===
9?a.blend(this,b,c,d,f,l,g,e,h,m,this):arguments.length===10&&a.blend(b,c,d,f,l,g,e,h,m,r,this);delete this.sourceImg};this.copy=function(b,d,f,l,g,e,h,m,r){arguments.length===8?a.blend(this,b,d,f,l,g,e,h,m,c.REPLACE,this):arguments.length===9&&a.blend(b,d,f,l,g,e,h,m,r,c.REPLACE,this);delete this.sourceImg};this.filter=function(b,c){arguments.length===2?a.filter(b,c,this):arguments.length===1&&a.filter(b,null,this);delete this.sourceImg};this.save=function(b){a.save(b,this)};this.resize=function(a,
b){if(this.isRemote)throw"Image is loaded remotely. Cannot resize.";else if(this.width!==0||this.height!==0){a===0&&b!==0?a=e.floor(this.width/this.height*b):b===0&&a!==0&&(b=e.floor(this.height/this.width*a));var c=ma(this.imageData).canvas;this.fromImageData(ma(c,a,b).context.getImageData(0,0,a,b))}};this.mask=function(a){this.__mask=p;if(a instanceof Ka)if(a.width===this.width&&a.height===this.height)this.__mask=a;else throw"mask must have the same dimensions as PImage.";else if(a instanceof Array)if(this.pixels.length===
a.length)this.__mask=a;else throw"mask array must be the same length as PImage pixels array.";};this.pixels={getLength:function(a){if(a.isRemote)throw"Image is loaded remotely. Cannot get length.";else return function(){return a.imageData.data.length?a.imageData.data.length/4:0}}(this),getPixel:function(b){if(b.isRemote)throw"Image is loaded remotely. Cannot get pixels.";else return function(c){c*=4;return a.color.toInt(b.imageData.data[c],b.imageData.data[c+1],b.imageData.data[c+2],b.imageData.data[c+
3])}}(this),setPixel:function(a){if(a.isRemote)throw"Image is loaded remotely. Cannot set pixel.";else return function(b,d){var f=b*4;a.imageData.data[f+0]=(d&c.RED_MASK)>>>16;a.imageData.data[f+1]=(d&c.GREEN_MASK)>>>8;a.imageData.data[f+2]=d&c.BLUE_MASK;a.imageData.data[f+3]=(d&c.ALPHA_MASK)>>>24}}(this),set:function(a){if(this.isRemote)throw"Image is loaded remotely. Cannot set pixels.";else for(var b=0,c=a.length;b<c;b++)this.setPixel(b,a[b])}};this.loadPixels=function(){};this.updatePixels=function(){};
this.toImageData=function(){return this.isRemote?this.sourceImg:ma(this.imageData).context.getImageData(0,0,this.width,this.height)};this.toDataURL=function(){if(this.isRemote)throw"Image is loaded remotely. Cannot create dataURI.";else return ma(this.imageData).canvas.toDataURL()};this.fromImageData=function(a){this.width=a.width;this.height=a.height;this.imageData=a;this.format=c.ARGB};this.fromHTMLImageData=function(a){var b=ma(a);try{this.fromImageData(b.context.getImageData(0,0,a.width,a.height))}catch(c){if(a.width&&
a.height)this.isRemote=!0,this.width=a.width,this.height=a.height}this.sourceImg=a};if(arguments.length===1)this.fromHTMLImageData(arguments[0]);else if(arguments.length===2||arguments.length===3){if(this.width=b||1,this.height=d||1,this.imageData=yd.createImageData(this.width,this.height),this.format=h===c.ARGB||h===c.ALPHA?h:c.RGB,this.format===c.RGB)for(var f=3,g=this.imageData.data,r=g.length;f<r;f+=4)g[f]=255}else this.height=this.width=0,this.imageData=yd.createImageData(1,1),this.format=c.ARGB};
a.PImage=Ka;a.createImage=function(a,c,d){return new Ka(a,c,d)};a.loadImage=function(a,c,d){c&&(a=a+"."+c);if($.imageCache.images[a])c=new Ka($.imageCache.images[a]),c.loaded=!0;else{var c=new Ka,f=z.createElement("img");c.sourceImg=f;f.onload=function(a,b,c){return function(){b.fromHTMLImageData(a);b.loaded=!0;c&&c()}}(f,c,d);f.src=a}return c};a.requestImage=a.loadImage;a.get=function(b,l,h,f,g){if(arguments.length===2){var r;if(b<a.width&&b>=0&&l>=0&&l<a.height)if(bc){var j=((0|b)+a.width*(0|l))*
4;r=a.imageData.data;r=a.color.toInt(r[j],r[j+1],r[j+2],r[j+3])}else r=d.getImageData(0|b,0|l,1,1).data,r=a.color.toInt(r[0],r[1],r[2],r[3]);else r=0;return r}else if(arguments.length===0)return r=new Ka(a.width,a.height,c.RGB),r.fromImageData(d.getImageData(0,0,a.width,a.height)),r;else if(arguments.length===5){if(g.isRemote)throw"Image is loaded remotely. Cannot get x,y,w,h.";else{r=new Ka(h,f,c.RGB);for(var j=r.imageData.data,k=g.width,i=g.height,p=g.imageData.data,o=e.max(0,-l),q=e.max(0,-b),
i=e.min(f,i-l),n=e.min(h,k-b);o<i;++o)for(var s=((l+o)*k+(b+q))*4,v=(o*h+q)*4,u=q;u<n;++u)j[v++]=p[s++],j[v++]=p[s++],j[v++]=p[s++],j[v++]=p[s++]}return r}else if(arguments.length===4)return r=new Ka(h,f,c.RGB),r.fromImageData(d.getImageData(b,l,h,f)),r;else if(arguments.length===3){if(h.isRemote)throw"Image is loaded remotely. Cannot get x,y.";else r=l*h.width*4+b*4,r=a.color.toInt(h.imageData.data[r],h.imageData.data[r+1],h.imageData.data[r+2],h.imageData.data[r+3]);return r}else if(arguments.length===
1)return b};a.createGraphics=function(a,c,d){var f=new y;f.size(a,c,d);return f};a.set=function(b,c,e,f){if(arguments.length===3)typeof e==="number"?b<a.width&&b>=0&&c>=0&&c<a.height&&(bc||(a.loadPixels(),Sc===null&&(bd=d,Sc=new La),bc=!0,d=Sc,ld=0),a.pixels.setPixel((0|b)+a.width*(0|c),e),++ld>md&&Ca()):e instanceof Ka&&a.image(e,b,c);else if(arguments.length===4)if(f.isRemote)throw"Image is loaded remotely. Cannot set x,y.";else{var g=a.color.toArray(e),h=c*f.width*4+b*4,j=f.imageData.data;j[h]=
g[0];j[h+1]=g[1];j[h+2]=g[2];j[h+3]=g[3]}};a.imageData={};a.pixels={getLength:function(){return a.imageData.data.length?a.imageData.data.length/4:0},getPixel:function(b){b*=4;return a.imageData.data[b+3]<<24&4278190080|a.imageData.data[b+0]<<16&16711680|a.imageData.data[b+1]<<8&65280|a.imageData.data[b+2]&255},setPixel:function(b,c){var d=b*4;a.imageData.data[d+0]=(c&16711680)>>>16;a.imageData.data[d+1]=(c&65280)>>>8;a.imageData.data[d+2]=c&255;a.imageData.data[d+3]=(c&4278190080)>>>24},set:function(a){for(var c=
0,d=a.length;c<d;c++)this.setPixel(c,a[c])}};a.loadPixels=function(){a.imageData=ga.$ensureContext().getImageData(0,0,a.width,a.height)};a.updatePixels=function(){a.imageData&&ga.$ensureContext().putImageData(a.imageData,0,0)};a.hint=function(a){var d=ga.$ensureContext();a===c.DISABLE_DEPTH_TEST?(d.disable(d.DEPTH_TEST),d.depthMask(!1),d.clear(d.DEPTH_BUFFER_BIT)):a===c.ENABLE_DEPTH_TEST&&(d.enable(d.DEPTH_TEST),d.depthMask(!0))};var zd=function(b,c,d,f){if(b instanceof Ka)if(b.loaded){if(b.width!==
a.width||b.height!==a.height)throw"Background image must be the same dimensions as the canvas.";}else throw"Error using image in background(): PImage not loaded.";else b=a.color(b,c,d,f);Za=b};D.prototype.background=function(b,c,e,f){b!==p&&zd(b,c,e,f);Za instanceof Ka?(d.save(),d.setTransform(1,0,0,1,0,0),a.image(Za,0,0)):(d.save(),d.setTransform(1,0,0,1,0,0),a.alpha(Za)!==Z&&d.clearRect(0,0,a.width,a.height),d.fillStyle=a.color.toString(Za),d.fillRect(0,0,a.width,a.height),Ga=!0);zb()};J.prototype.background=
function(b,c,e,f){arguments.length>0&&zd(b,c,e,f);var g=a.color.toGLArray(Za);d.clearColor(g[0],g[1],g[2],g[3]);d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT)};D.prototype.image=function(a,c,e,f,g){if(a.width>0){var h=tc(c||0,e||0,f||a.width,g||a.height,arguments.length<4);if(a.sourceImg&&eb===null&&!a.__mask){var j=a.sourceImg;d.drawImage(j,0,0,j.width,j.height,h.x,h.y,h.w,h.h)}else{j=a.toImageData();if(a.__mask){var k,i;if(a.__mask instanceof Ka){var p=a.__mask.toImageData();k=2;for(i=a.width*a.height*
4;k<i;k+=4)j.data[k+1]=p.data[k]}else{k=0;for(i=a.__mask.length;k<i;++k)j.data[(k<<2)+3]=a.__mask[k]}}eb!==null&&eb(j);d.drawImage(ma(j).canvas,0,0,a.width,a.height,h.x,h.y,h.w,h.h)}}};J.prototype.image=function(b,c,d,f,g){b.width>0&&(f=f||b.width,g=g||b.height,a.beginShape(a.QUADS),a.texture(b.externals.canvas),a.vertex(c,d,0,0,0),a.vertex(c,d+g,0,0,g),a.vertex(c+f,d+g,0,f,g),a.vertex(c+f,d,0,f,0),a.endShape())};a.tint=function(){var b=a.color.apply(this,arguments),c=a.red(b)/ia,d=a.green(b)/xa,
f=a.blue(b)/A,g=a.alpha(b)/Z;eb=function(a){for(var b=a.data,a=4*a.width*a.height,e=0;e<a;)b[e++]*=c,b[e++]*=d,b[e++]*=f,b[e++]*=g};curTint3d=function(a){for(var b=0;b<a.length;)a[b++]=c,a[b++]=d,a[b++]=f,a[b++]=g}};a.noTint=function(){curTint3d=eb=null};a.copy=function(b,d,e,f,g,h,j,k,i){arguments.length===8&&(i=k,k=j,j=h,h=g,g=f,f=e,e=d,d=b,b=a);a.blend(b,d,e,f,g,h,j,k,i,c.REPLACE)};a.blend=function(b,c,d,f,g,e,h,k,i,p,o){arguments.length===9&&(p=i,i=k,k=h,h=e,e=g,g=f,f=d,d=c,c=b,b=a);var q=c+f,
n=d+g,s=e+k,v=h+i,u;if(b.isRemote)throw"Image is loaded remotely. Cannot blend image.";else arguments.length===10||arguments.length===9?(a.loadPixels(),u=a):arguments.length===11&&o&&o.imageData&&(u=o),b===a?a.intersect(c,d,q,n,e,h,s,v)?a.blit_resize(a.get(c,d,q-c,n-d),0,0,q-c-1,n-d-1,u.imageData.data,u.width,u.height,e,h,s,v,p):a.blit_resize(b,c,d,q,n,u.imageData.data,u.width,u.height,e,h,s,v,p):(b.loadPixels(),a.blit_resize(b,c,d,q,n,u.imageData.data,u.width,u.height,e,h,s,v,p)),arguments.length===
10&&a.updatePixels()};var Ad=function(a,c){var d=0,f=c.pixels.getLength(),g=new Cd(f),e,h,k,i,p,o,q,n,s,v,u,t;if(a)for(;d<f;){e=d;for(h=d+c.width;d<h;)k=i=c.pixels.getPixel(d),o=d-1,p=d+1,q=d-c.width,n=d+c.width,o<e&&(o=d),p>=h&&(p=d),q<0&&(q=0),n>=f&&(n=d),q=c.pixels.getPixel(q),o=c.pixels.getPixel(o),n=c.pixels.getPixel(n),p=c.pixels.getPixel(p),k=77*(k>>16&255)+151*(k>>8&255)+28*(k&255),v=77*(o>>16&255)+151*(o>>8&255)+28*(o&255),s=77*(p>>16&255)+151*(p>>8&255)+28*(p&255),u=77*(q>>16&255)+151*(q>>
8&255)+28*(q&255),t=77*(n>>16&255)+151*(n>>8&255)+28*(n&255),v<k&&(i=o,k=v),s<k&&(i=p,k=s),u<k&&(i=q,k=u),t<k&&(i=n),g[d++]=i}else for(;d<f;){e=d;for(h=d+c.width;d<h;)k=i=c.pixels.getPixel(d),o=d-1,p=d+1,q=d-c.width,n=d+c.width,o<e&&(o=d),p>=h&&(p=d),q<0&&(q=0),n>=f&&(n=d),q=c.pixels.getPixel(q),o=c.pixels.getPixel(o),n=c.pixels.getPixel(n),p=c.pixels.getPixel(p),k=77*(k>>16&255)+151*(k>>8&255)+28*(k&255),v=77*(o>>16&255)+151*(o>>8&255)+28*(o&255),s=77*(p>>16&255)+151*(p>>8&255)+28*(p&255),u=77*(q>>
16&255)+151*(q>>8&255)+28*(q&255),t=77*(n>>16&255)+151*(n>>8&255)+28*(n&255),v>k&&(i=o,k=v),s>k&&(i=p,k=s),u>k&&(i=q,k=u),t>k&&(i=n),g[d++]=i}c.pixels.set(g)};a.filter=function(b,d,e){var f,g,h,j;arguments.length===3?(e.loadPixels(),f=e):(a.loadPixels(),f=a);d===p&&(d=null);if(f.isRemote)throw"Image is loaded remotely. Cannot filter image.";else{var k=f.pixels.getLength();switch(b){case c.BLUR:var i=d||1,o=f,q,s,n,v,u,w,t,x,y;h=o.pixels.getLength();j=new Q(h);k=new Q(h);g=new Q(h);h=new Q(h);var H=
0,A,B,G,i=a.floor(i*3.5),z,i=i<1?1:i<248?i:248;if(a.shared.blurRadius!==i){a.shared.blurRadius=i;a.shared.blurKernelSize=1+(a.shared.blurRadius<<1);a.shared.blurKernel=new Q(a.shared.blurKernelSize);var C=a.shared.blurKernel,E=a.shared.blurKernelSize;for(z=0;z<E;z++)C[z]=0;E=(i-1)*(i-1);for(z=1;z<i;z++)C[i+z]=C[void 0]=E;C[i]=i*i}i=o.height;z=o.width;C=a.shared.blurKernelSize;x=a.shared.blurRadius;var E=a.shared.blurKernel,D=o.imageData.data;for(B=0;B<i;B++){for(A=0;A<z;A++){n=s=q=v=o=0;w=A-x;if(w<
0)u=-w,w=0;else{if(w>=z)break;u=0}for(G=u;G<C;G++){if(w>=z)break;t=(w+H)*4;u=E[G];v+=u*D[t+3];q+=u*D[t];s+=u*D[t+1];n+=u*D[t+2];o+=u;w++}t=H+A;h[t]=v/o;j[t]=q/o;k[t]=s/o;g[t]=n/o}H+=z}H=0;x=-x;y=x*z;for(B=0;B<i;B++){for(A=0;A<z;A++){n=s=q=v=o=0;if(x<0)u=t=-x,w=A;else{if(x>=i)break;u=0;t=x;w=A+y}for(G=u;G<C;G++){if(t>=i)break;u=E[G];v+=u*h[w];q+=u*j[w];s+=u*k[w];n+=u*g[w];o+=u;t++;w+=z}t=(A+H)*4;D[t]=q/o;D[t+1]=s/o;D[t+2]=n/o;D[t+3]=v/o}H+=z;y+=z;x++}break;case c.GRAY:if(f.format===c.ALPHA){for(j=
0;j<k;j++)g=255-f.pixels.getPixel(j),f.pixels.setPixel(j,4278190080|g<<16|g<<8|g);f.format=c.RGB}else for(j=0;j<k;j++)g=f.pixels.getPixel(j),h=77*(g>>16&255)+151*(g>>8&255)+28*(g&255)>>8,f.pixels.setPixel(j,g&c.ALPHA_MASK|h<<16|h<<8|h);break;case c.INVERT:for(j=0;j<k;j++)f.pixels.setPixel(j,f.pixels.getPixel(j)^16777215);break;case c.POSTERIZE:if(d===null)throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)";g=a.floor(d);if(g<2||g>255)throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)";
h=g-1;for(j=0;j<k;j++)H=f.pixels.getPixel(j)>>16&255,i=f.pixels.getPixel(j)>>8&255,z=f.pixels.getPixel(j)&255,H=(H*g>>8)*255/h,i=(i*g>>8)*255/h,z=(z*g>>8)*255/h,f.pixels.setPixel(j,4278190080&f.pixels.getPixel(j)|H<<16|i<<8|z);break;case c.OPAQUE:for(j=0;j<k;j++)f.pixels.setPixel(j,f.pixels.getPixel(j)|4278190080);f.format=c.RGB;break;case c.THRESHOLD:d===null&&(d=0.5);if(d<0||d>1)throw"Level must be between 0 and 1 for filter(THRESHOLD, level)";g=a.floor(d*255);for(j=0;j<k;j++)h=a.max((f.pixels.getPixel(j)&
c.RED_MASK)>>16,a.max((f.pixels.getPixel(j)&c.GREEN_MASK)>>8,f.pixels.getPixel(j)&c.BLUE_MASK)),f.pixels.setPixel(j,f.pixels.getPixel(j)&c.ALPHA_MASK|(h<g?0:16777215));break;case c.ERODE:Ad(!0,f);break;case c.DILATE:Ad(!1,f)}f.updatePixels()}};a.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null};a.intersect=function(a,c,
d,f,e,h,j,k){d=d-a+1;f=f-c+1;j=j-e+1;k=k-h+1;e<a?(j+=e-a,j>d&&(j=d)):(a=d+a-e,j>a&&(j=a));h<c?(k+=h-c,k>f&&(k=f)):(c=f+c-h,k>c&&(k=c));return!(j<=0||k<=0)};a.filter_new_scanline=function(){a.shared.sX=a.shared.srcXOffset;a.shared.fracV=a.shared.srcYOffset&c.PREC_MAXVAL;a.shared.ifV=c.PREC_MAXVAL-a.shared.fracV;a.shared.v1=(a.shared.srcYOffset>>c.PRECISIONB)*a.shared.iw;a.shared.v2=e.min((a.shared.srcYOffset>>c.PRECISIONB)+1,a.shared.ih1)*a.shared.iw};a.filter_bilinear=function(){a.shared.fracU=a.shared.sX&
c.PREC_MAXVAL;a.shared.ifU=c.PREC_MAXVAL-a.shared.fracU;a.shared.ul=a.shared.ifU*a.shared.ifV>>c.PRECISIONB;a.shared.ll=a.shared.ifU*a.shared.fracV>>c.PRECISIONB;a.shared.ur=a.shared.fracU*a.shared.ifV>>c.PRECISIONB;a.shared.lr=a.shared.fracU*a.shared.fracV>>c.PRECISIONB;a.shared.u1=a.shared.sX>>c.PRECISIONB;a.shared.u2=e.min(a.shared.u1+1,a.shared.iw1);var b=(a.shared.v1+a.shared.u1)*4,d=(a.shared.v1+a.shared.u2)*4,h=(a.shared.v2+a.shared.u1)*4,f=(a.shared.v2+a.shared.u2)*4;a.shared.cUL=a.color.toInt(a.shared.srcBuffer[b],
a.shared.srcBuffer[b+1],a.shared.srcBuffer[b+2],a.shared.srcBuffer[b+3]);a.shared.cUR=a.color.toInt(a.shared.srcBuffer[d],a.shared.srcBuffer[d+1],a.shared.srcBuffer[d+2],a.shared.srcBuffer[d+3]);a.shared.cLL=a.color.toInt(a.shared.srcBuffer[h],a.shared.srcBuffer[h+1],a.shared.srcBuffer[h+2],a.shared.srcBuffer[h+3]);a.shared.cLR=a.color.toInt(a.shared.srcBuffer[f],a.shared.srcBuffer[f+1],a.shared.srcBuffer[f+2],a.shared.srcBuffer[f+3]);a.shared.r=a.shared.ul*((a.shared.cUL&c.RED_MASK)>>16)+a.shared.ll*
((a.shared.cLL&c.RED_MASK)>>16)+a.shared.ur*((a.shared.cUR&c.RED_MASK)>>16)+a.shared.lr*((a.shared.cLR&c.RED_MASK)>>16)<<c.PREC_RED_SHIFT&c.RED_MASK;a.shared.g=a.shared.ul*(a.shared.cUL&c.GREEN_MASK)+a.shared.ll*(a.shared.cLL&c.GREEN_MASK)+a.shared.ur*(a.shared.cUR&c.GREEN_MASK)+a.shared.lr*(a.shared.cLR&c.GREEN_MASK)>>>c.PRECISIONB&c.GREEN_MASK;a.shared.b=a.shared.ul*(a.shared.cUL&c.BLUE_MASK)+a.shared.ll*(a.shared.cLL&c.BLUE_MASK)+a.shared.ur*(a.shared.cUR&c.BLUE_MASK)+a.shared.lr*(a.shared.cLR&
c.BLUE_MASK)>>>c.PRECISIONB;a.shared.a=a.shared.ul*((a.shared.cUL&c.ALPHA_MASK)>>>24)+a.shared.ll*((a.shared.cLL&c.ALPHA_MASK)>>>24)+a.shared.ur*((a.shared.cUR&c.ALPHA_MASK)>>>24)+a.shared.lr*((a.shared.cLR&c.ALPHA_MASK)>>>24)<<c.PREC_ALPHA_SHIFT&c.ALPHA_MASK;return a.shared.a|a.shared.r|a.shared.g|a.shared.b};a.blit_resize=function(b,d,h,f,g,i,j,k,o,p,q,s,n){d<0&&(d=0);h<0&&(h=0);f>=b.width&&(f=b.width-1);g>=b.height&&(g=b.height-1);f-=d;g-=h;q-=o;s-=p;if(!(q<=0||s<=0||f<=0||g<=0||o>=j||p>=k||d>=
b.width||h>=b.height))switch(f=e.floor(f/q*c.PRECISIONF),g=e.floor(g/s*c.PRECISIONF),a.shared.srcXOffset=e.floor(o<0?-o*f:d*c.PRECISIONF),a.shared.srcYOffset=e.floor(p<0?-p*g:h*c.PRECISIONF),o<0&&(q+=o,o=0),p<0&&(s+=p,p=0),q=e.min(q,j-o),s=e.min(s,k-p),d=p*j+o,a.shared.srcBuffer=b.imageData.data,a.shared.iw=b.width,a.shared.iw1=b.width-1,a.shared.ih1=b.height-1,n){case c.BLEND:for(h=0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),
k=a.color.toArray(a.modes.blend(k,a.filter_bilinear())),i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}break;case c.ADD:for(h=0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),k=a.color.toArray(a.modes.add(k,a.filter_bilinear())),i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}break;case c.SUBTRACT:for(h=
0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),k=a.color.toArray(a.modes.subtract(k,a.filter_bilinear())),i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}break;case c.LIGHTEST:for(h=0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),k=a.color.toArray(a.modes.lightest(k,a.filter_bilinear())),i[(d+n)*
4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}break;case c.DARKEST:for(h=0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),k=a.color.toArray(a.modes.darkest(k,a.filter_bilinear())),i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}break;case c.REPLACE:for(h=0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=
a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),k=b.format!==c.RGB&&i[(d+n)*4]!==255?a.color.toArray(a.modes.blend(k,a.filter_bilinear())):a.color.toArray(a.filter_bilinear()),i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}break;case c.DIFFERENCE:for(h=0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),k=a.color.toArray(a.modes.difference(k,a.filter_bilinear())),
i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}break;case c.EXCLUSION:for(h=0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),k=a.color.toArray(a.modes.exclusion(k,a.filter_bilinear())),i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}break;case c.MULTIPLY:for(h=0;h<s;h++){a.filter_new_scanline();for(n=
0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),k=a.color.toArray(a.modes.multiply(k,a.filter_bilinear())),i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}break;case c.SCREEN:for(h=0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),k=a.color.toArray(a.modes.screen(k,a.filter_bilinear())),i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],
i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}break;case c.OVERLAY:for(h=0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),k=a.color.toArray(a.modes.overlay(k,a.filter_bilinear())),i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}break;case c.HARD_LIGHT:for(h=0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+
n)*4+2],i[(d+n)*4+3]),k=a.color.toArray(a.modes.hard_light(k,a.filter_bilinear())),i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}break;case c.SOFT_LIGHT:for(h=0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),k=a.color.toArray(a.modes.soft_light(k,a.filter_bilinear())),i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=
g}break;case c.DODGE:for(h=0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),k=a.color.toArray(a.modes.dodge(k,a.filter_bilinear())),i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}break;case c.BURN:for(h=0;h<s;h++){a.filter_new_scanline();for(n=0;n<q;n++)k=a.color.toInt(i[(d+n)*4],i[(d+n)*4+1],i[(d+n)*4+2],i[(d+n)*4+3]),k=a.color.toArray(a.modes.burn(k,a.filter_bilinear())),
i[(d+n)*4]=k[0],i[(d+n)*4+1]=k[1],i[(d+n)*4+2]=k[2],i[(d+n)*4+3]=k[3],a.shared.sX+=f;d+=j;a.shared.srcYOffset+=g}}};Pa.prototype.width=function(a){return"measureText"in d?d.measureText(typeof a==="number"?String.fromCharCode(a):a).width/S:0};Pa.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]};a.PFont=Pa;a.loadFont=function(b){if(b===p||b.indexOf(".svg")===-1)return new Pa(b);else{var c=a.loadGlyphs(b);return{name:b,glyph:!0,units_per_em:c.units_per_em,horiz_adv_x:1/c.units_per_em*
c.horiz_adv_x,ascent:c.ascent,descent:c.descent,width:function(c){for(var d=0,e=c.length,h=0;h<e;h++)try{d+=parseFloat(a.glyphLook(a.glyphTable[b],c[h]).horiz_adv_x)}catch(i){y.debug(i)}return d/a.glyphTable[b].units_per_em}}}};a.createFont=function(b,c){if(arguments.length===2)return a.textSize(c),a.loadFont(b);else if(arguments.length===3)return a.textSize(c),a.loadFont(b);else if(arguments.length===4)return a.textSize(c),a.loadFont(b);else throw"incorrent number of parameters for createFont";};
a.textFont=function(b,c){ja=b;c?a.textSize(c):ga.$ensureContext().font=S+"px "+ja.name};a.textSize=function(a){if(a)S=a,ga.$ensureContext().font=S+"px "+ja.name};a.textAlign=function(){arguments.length===1?Mb=arguments[0]:arguments.length===2&&(Mb=arguments[0],Lb=arguments[1])};D.prototype.textWidth=function(a){var a=Ea(a).split(/\r?\n/g),c=0,h,f=a.length;d.font=S+"px "+ja.name;for(h=0;h<f;++h)c=e.max(c,d.measureText(a[h]).width);return c};J.prototype.textWidth=function(a){var a=Ea(a).split(/\r?\n/g),
c=0,d,f=a.length;Ha===p&&(Ha=z.createElement("canvas"));var g=Ha.getContext("2d");g.font=S+"px "+ja.name;for(d=0;d<f;++d)c=e.max(c,g.measureText(a[d]).width);return c};a.textLeading=function(a){fb=a};a.textAscent=function(){var b=p,c=p,d=p,f=p;return function(){if(c!==ja||b!==S){c=ja;b=S;var g=!1,h=a.color(0),i=0,k=S,o=S/2;for(f=new Qa(ja.name,S,S,"k");o!==k;){for(var p=0;p<S;p++)f.get(p,o)!==h&&(g=!0,p=S);g?(k=o,g=!1):i=o;o=e.ceil((k+i)/2)}d=S-1-o+1}return d}}();a.textDescent=function(){var b=p,
c=p,d=p,f=p;return function(){if(c!==ja||b!==S){c=ja;b=S;var g=!1,h=a.color(0),i=0,k=S,o=S/2;for(f=new Qa(ja.name,S,0,"p");o!==k;){for(var p=0;p<S;p++)f.get(p,o)!==h&&(g=!0,p=S);g?(i=o,g=!1):k=o;o=e.ceil((k+i)/2)}d=o+1}return d}}();a.glyphLook=function(a,c){try{switch(c){case "1":return a.one;case "2":return a.two;case "3":return a.three;case "4":return a.four;case "5":return a.five;case "6":return a.six;case "7":return a.seven;case "8":return a.eight;case "9":return a.nine;case "0":return a.zero;
case " ":return a.space;case "$":return a.dollar;case "!":return a.exclam;case '"':return a.quotedbl;case "#":return a.numbersign;case "%":return a.percent;case "&":return a.ampersand;case "'":return a.quotesingle;case "(":return a.parenleft;case ")":return a.parenright;case "*":return a.asterisk;case "+":return a.plus;case ",":return a.comma;case "-":return a.hyphen;case ".":return a.period;case "/":return a.slash;case "_":return a.underscore;case ":":return a.colon;case ";":return a.semicolon;case "<":return a.less;
case "=":return a.equal;case ">":return a.greater;case "?":return a.question;case "@":return a.at;case "[":return a.bracketleft;case "\\":return a.backslash;case "]":return a.bracketright;case "^":return a.asciicircum;case "`":return a.grave;case "{":return a.braceleft;case "|":return a.bar;case "}":return a.braceright;case "~":return a.asciitilde;default:return a[c]}}catch(d){y.debug(d)}};D.prototype.text$line=function(b,e,h,f,g){f=f=0;if(ja.glyph){f=a.glyphTable[ja.name];d.save();d.translate(e,
h+S);(g===c.RIGHT||g===c.CENTER)&&f.width(b);e=1/f.units_per_em*S;d.scale(e,e);e=0;for(h=b.length;e<h;e++)try{a.glyphLook(f,b[e]).draw()}catch(i){y.debug(i)}zb()}else if(b&&"fillText"in d){if(Ga)d.fillStyle=a.color.toString(Fa),Ga=!1;if(g===c.RIGHT||g===c.CENTER)f=d.measureText(b).width,f=g===c.RIGHT?-f:-f/2;d.fillText(b,e+f,h)}};J.prototype.text$line=function(a,e,h,f,g){Ha===p&&(Ha=z.createElement("canvas"));var i=d;d=Ha.getContext("2d");d.font=S+"px "+ja.name;var j=d.measureText(a).width;Ha.width=
j;Ha.height=S;d=Ha.getContext("2d");d.font=S+"px "+ja.name;d.textBaseline="top";D.prototype.text$line(a,0,0,0,c.LEFT);a=Ha.width/Ha.height;d=i;d.bindTexture(d.TEXTURE_2D,jd);Tb(Ha);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);i=0;g===c.RIGHT?i=-j:g===c.CENTER&&(i=-j/2);g=new B;j=S*0.5;g.translate(e+
i-j/2,h-j,f);g.scale(-a*j,-j,j);g.translate(-1,-1,-1);g.transpose();e=new B;e.scale(1,-1,1);e.apply(V.array());e.transpose();d.useProgram(E);s("vertex2d",E,"Vertex",3,Oc);s("aTextureCoord2d",E,"aTextureCoord",2,Pc);q("uSampler2d",E,"uSampler",[0]);q("picktype2d",E,"picktype",1);w("model2d",E,"model",!1,g.array());w("view2d",E,"view",!1,e.array());v("color2d",E,"color",na);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,Qc);d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0)};a.text=function(){if(Rc===c.SCREEN){a.pushMatrix();
a.resetMatrix();var b=a.textAscent(),d=a.textDescent(),e=a.textWidth(arguments[0]),f=b+d,d=a.loadFont(ja.origName),e=a.createGraphics(e,f);e.beginDraw();e.fill(Fa);e.opaque=!1;e.background(0,0,0,0);e.textFont(d);e.textSize(S);e.text(arguments[0],0,b);e.endDraw();arguments.length===5||arguments.length===6?a.image(e,arguments[1],arguments[2]-b,arguments[3],arguments[4]):a.image(e,arguments[1],arguments[2]-b);a.popMatrix()}else Rc!==c.SHAPE&&(arguments.length===3?ic(Ea(arguments[0]),arguments[1],arguments[2],
0):arguments.length===4?ic(Ea(arguments[0]),arguments[1],arguments[2],arguments[3]):arguments.length===5?Ab(Ea(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):arguments.length===6&&Ab(Ea(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))};a.textMode=function(a){Rc=a};a.loadGlyphs=function(b){var c,h,f,g,i,j,k,o,q,s,u,n,v=function(a,b){var c=0,d=[],f,e=RegExp(a,"g");for(f=d[c]=e.exec(b);f;)c++,f=d[c]=e.exec(b);return d},w=function(a){var b=v("[A-Za-z][0-9\\- ]+|Z",
a);n="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();";o=a=j=i=g=f=h=c=0;q="";s=b.length-1;for(var k=0;k<s;k++){var p=b[k][0],a=v("[0-9\\-]+",p);switch(p[0]){case "M":c=parseFloat(a[0][0]);h=parseFloat(a[1][0]);n+="curContext.moveTo("+c+","+-h+");";break;case "L":c=parseFloat(a[0][0]);h=parseFloat(a[1][0]);n+="curContext.lineTo("+c+","+-h+");";break;case "H":c=parseFloat(a[0][0]);n+="curContext.lineTo("+c+","+-h+");";break;case "V":h=parseFloat(a[0][0]);n+="curContext.lineTo("+
c+","+-h+");";break;case "T":i=parseFloat(a[0][0]);j=parseFloat(a[1][0]);q==="Q"||q==="T"?(a=e.sqrt(e.pow(c-f,2)+e.pow(g-h,2)),o=e.PI+e.atan2(f-c,g-h),f=c+e.sin(o)*a,g=h+e.cos(o)*a):(f=c,g=h);n+="curContext.quadraticCurveTo("+f+","+-g+","+i+","+-j+");";c=i;h=j;break;case "Q":f=parseFloat(a[0][0]);g=parseFloat(a[1][0]);i=parseFloat(a[2][0]);j=parseFloat(a[3][0]);n+="curContext.quadraticCurveTo("+f+","+-g+","+i+","+-j+");";c=i;h=j;break;case "Z":n+="curContext.closePath();"}q=p[0]}n+="afterPathDraw();";
n+="curContext.translate("+u+",0);";n+="}}";return(new Function("beforePathDraw","afterPathDraw",n))(function(){d.save();return ga.$ensureContext()},function(){ea();Y();zb()})},x=function(c){var d=c.getElementsByTagName("font");a.glyphTable[b].horiz_adv_x=d[0].getAttribute("horiz-adv-x");d=c.getElementsByTagName("font-face")[0];a.glyphTable[b].units_per_em=parseFloat(d.getAttribute("units-per-em"));a.glyphTable[b].ascent=parseFloat(d.getAttribute("ascent"));a.glyphTable[b].descent=parseFloat(d.getAttribute("descent"));
for(var c=c.getElementsByTagName("glyph"),d=c.length,f=0;f<d;f++){var e=c[f].getAttribute("unicode"),h=c[f].getAttribute("glyph-name");u=c[f].getAttribute("horiz-adv-x");if(u===null)u=a.glyphTable[b].horiz_adv_x;k=c[f].getAttribute("d");k!==p&&(n=w(k),a.glyphTable[b][h]={name:h,unicode:e,horiz_adv_x:u,draw:n.draw})}};a.glyphTable[b]={};(function(){var a;try{a=z.implementation.createDocument("","",null)}catch(c){y.debug(c.message);return}try{a.async=!1,a.load(b),x(a.getElementsByTagName("svg")[0])}catch(d){y.debug(d);
try{var f=new X.XMLHttpRequest;f.open("GET",b,!1);f.send(null);x(f.responseXML.documentElement)}catch(e){y.debug(d)}}})(b);return a.glyphTable[b]};a.param=function(a){var c="data-processing-"+a;if(i.hasAttribute(c))return i.getAttribute(c);for(var c=0,d=i.childNodes.length;c<d;++c){var f=i.childNodes.item(c);if(!(f.nodeType!==1||f.tagName.toLowerCase()!=="param")&&f.getAttribute("name")===a)return f.getAttribute("value")}if($.params.hasOwnProperty(a))return $.params[a];return null};C.prototype.translate=
I("translate");C.prototype.scale=I("scale");C.prototype.pushMatrix=I("pushMatrix");C.prototype.popMatrix=I("popMatrix");C.prototype.resetMatrix=I("resetMatrix");C.prototype.applyMatrix=I("applyMatrix");C.prototype.rotate=I("rotate");C.prototype.rotateZ=I("rotateZ");C.prototype.redraw=I("redraw");C.prototype.ambientLight=I("ambientLight");C.prototype.directionalLight=I("directionalLight");C.prototype.lightFalloff=I("lightFalloff");C.prototype.lightSpecular=I("lightSpecular");C.prototype.pointLight=
I("pointLight");C.prototype.noLights=I("noLights");C.prototype.spotLight=I("spotLight");C.prototype.box=I("box");C.prototype.sphere=I("sphere");C.prototype.ambient=I("ambient");C.prototype.emissive=I("emissive");C.prototype.shininess=I("shininess");C.prototype.specular=I("specular");C.prototype.fill=I("fill");C.prototype.stroke=I("stroke");C.prototype.strokeWeight=I("strokeWeight");C.prototype.smooth=I("smooth");C.prototype.noSmooth=I("noSmooth");C.prototype.point=I("point");C.prototype.vertex=I("vertex");
C.prototype.endShape=I("endShape");C.prototype.bezierVertex=I("bezierVertex");C.prototype.curveVertex=I("curveVertex");C.prototype.curve=I("curve");C.prototype.line=I("line");C.prototype.bezier=I("bezier");C.prototype.rect=I("rect");C.prototype.ellipse=I("ellipse");C.prototype.background=I("background");C.prototype.image=I("image");C.prototype.textWidth=I("textWidth");C.prototype.text$line=I("text$line");C.prototype.$ensureContext=I("$ensureContext");C.prototype.$newPMatrix=I("$newPMatrix");C.prototype.size=
function(b,d,e){Ra(e===c.WEBGL?"3D":"2D");a.size(b,d,e)};C.prototype.$init=function(){};D.prototype.$init=function(){a.size(a.width,a.height);d.translate(0.5,0.5);d.lineCap="round";a.noSmooth();a.disableContextMenu()};J.prototype.$init=function(){a.use3DContext=!0};M.prototype.$ensureContext=function(){return d};G(i,"touchstart",function(b){i.setAttribute("style","-webkit-user-select: none");i.setAttribute("onclick","void(0)");i.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var d=
0,e=Kb.length;d<e;d++){var f=Kb[d].type;(f==="mouseout"||f==="mousemove"||f==="mousedown"||f==="mouseup"||f==="DOMMouseScroll"||f==="mousewheel"||f==="touchstart")&&ca(Kb[d])}a.touchStart!==p||a.touchMove!==p||a.touchEnd!==p||a.touchCancel!==p?(G(i,"touchstart",function(b){a.touchStart!==p&&(b=rb(b),a.touchStart(b))}),G(i,"touchmove",function(b){a.touchMove!==p&&(b.preventDefault(),b=rb(b),a.touchMove(b))}),G(i,"touchend",function(b){a.touchEnd!==p&&(b=rb(b),a.touchEnd(b))}),G(i,"touchcancel",function(b){a.touchCancel!==
p&&(b=rb(b),a.touchCancel(b))})):(G(i,"touchstart",function(b){qb(i,b.touches[0]);a.__mousePressed=!0;a.mouseDragging=!1;a.mouseButton=c.LEFT;typeof a.mousePressed==="function"&&a.mousePressed()}),G(i,"touchmove",function(b){b.preventDefault();qb(i,b.touches[0]);typeof a.mouseMoved==="function"&&!a.__mousePressed&&a.mouseMoved();if(typeof a.mouseDragged==="function"&&a.__mousePressed)a.mouseDragged(),a.mouseDragging=!0}),G(i,"touchend",function(){a.__mousePressed=!1;typeof a.mouseClicked==="function"&&
!a.mouseDragging&&a.mouseClicked();typeof a.mouseReleased==="function"&&a.mouseReleased()}));i.dispatchEvent(b)});(function(){var b=!0,c=function(a){a.preventDefault();a.stopPropagation()};a.disableContextMenu=function(){b&&(G(i,"contextmenu",c),b=!1)};a.enableContextMenu=function(){b||(ca({elem:i,type:"contextmenu",fn:c}),b=!0)}})();G(i,"mousemove",function(b){qb(i,b);typeof a.mouseMoved==="function"&&!a.__mousePressed&&a.mouseMoved();if(typeof a.mouseDragged==="function"&&a.__mousePressed)a.mouseDragged(),
a.mouseDragging=!0});G(i,"mouseout",function(){typeof a.mouseOut==="function"&&a.mouseOut()});G(i,"mouseover",function(b){qb(i,b);typeof a.mouseOver==="function"&&a.mouseOver()});G(i,"mousedown",function(b){a.__mousePressed=!0;a.mouseDragging=!1;switch(b.which){case 1:a.mouseButton=c.LEFT;break;case 2:a.mouseButton=c.CENTER;break;case 3:a.mouseButton=c.RIGHT}typeof a.mousePressed==="function"&&a.mousePressed()});G(i,"mouseup",function(){a.__mousePressed=!1;typeof a.mouseClicked==="function"&&!a.mouseDragging&&
a.mouseClicked();typeof a.mouseReleased==="function"&&a.mouseReleased()});fc=function(b){var c=0;b.wheelDelta?(c=b.wheelDelta/120,X.opera&&(c=-c)):b.detail&&(c=-b.detail/3);(a.mouseScroll=c)&&typeof a.mouseScrolled==="function"&&a.mouseScrolled()};G(z,"DOMMouseScroll",fc);G(z,"mousewheel",fc);typeof i==="string"&&(i=z.getElementById(i));i.getAttribute("tabindex")||i.setAttribute("tabindex",0);if(jb)$=new y.Sketch,Ra(),a.size=function(b,h,i){i&&i===c.WEBGL?Ra("3D"):Ra("2D");a.toImageData=i===c.WEBGL?
function(){var a=z.createElement("canvas").getContext("2d").createImageData(this.width,this.height),b=new $c(this.width*this.height*4);d.readPixels(0,0,this.width,this.height,d.RGBA,d.UNSIGNED_BYTE,b);for(var c=0,h=b.length,i=this.height,l=this.width,m=a.data;c<h;c++)m[c]=b[(i-1-e.floor(c/4/l))*l*4+c%(l*4)];return a}:function(){return d.getImageData(0,0,this.width,this.height)};a.size(b,h,i)};else{$=h instanceof y.Sketch?h:typeof h==="function"?new y.Sketch(h):h?y.compile(h):new y.Sketch(function(){});
a.externals.sketch=$;Ra();i.onfocus=function(){a.focused=!0};i.onblur=function(){a.focused=!1;if(!$.options.globalKeyEvents)a.__keyPressed=!1,lb=[],sb=null};$.options.pauseOnBlur&&(G(X,"focus",function(){$a&&a.loop()}),G(X,"blur",function(){$a&&kb&&(a.noLoop(),$a=!0);a.__keyPressed=!1;lb=[];sb=null}));jb=$.options.globalKeyEvents?X:i;G(jb,"keydown",Zb);G(jb,"keypress",$b);G(jb,"keyup",Cb);for(var gc in y.lib)y.lib.hasOwnProperty(gc)&&(y.lib[gc].hasOwnProperty("attach")?y.lib[gc].attach(a):y.lib[gc]instanceof
Function&&y.lib[gc].call(this));var Bd=function(b){!$.imageCache.pending&&$.fonts.pending()?($.attach(b,la),$.onLoad(),b.setup&&(b.setup(),d&&!a.use3DContext&&d.setTransform(1,0,0,1,0,0),$.onSetup()),Ca(),b.draw&&($a?b.loop():b.redraw())):X.setTimeout(function(){Bd(b)},10)};if(this.externals.canvas.id===p||!this.externals.canvas.id.length)this.externals.canvas.id="__processing"+Da.length;lc[this.externals.canvas.id]=Da.length;Da.push(this);Bd(a)}};y.debug=Hb;y.prototype=la;y.compile=function(c){var e=
new y.Sketch,c=Cc(c,e),c=zc(c);e.sourceCode=c;return e};Hb=function(){var c={};typeof tinylog!=="undefined"&&typeof tinylog.log==="function"?c.log=tinylog.log:typeof z!=="undefined"&&!z.fake?function(){var e=z,p={zIndex:1E4,position:"fixed",bottom:"0px",width:"100%",height:"15%",fontFamily:"sans-serif",color:"#ccc",backgroundColor:"black"},v={position:"relative",fontFamily:"monospace",overflow:"auto",height:"100%",paddingTop:"5px"},q={height:"5px",marginTop:"-5px",cursor:"n-resize",backgroundColor:"darkgrey"},
s={position:"absolute",top:"5px",right:"20px",color:"#111",MozBorderRadius:"4px",webkitBorderRadius:"4px",borderRadius:"4px",cursor:"pointer",fontWeight:"normal",textAlign:"center",padding:"3px 5px",backgroundColor:"#333",fontSize:"12px"},y={minHeight:"16px"},w={fontSize:"12px",margin:"0 8px 0 8px",maxWidth:"100%",whiteSpace:"pre-wrap",overflow:"auto"},x=e.defaultView,Q=e.documentElement,G=Q.style,ca=function(){for(var c=arguments.length,e,h,i;c--;)for(i in h=arguments[c--],e=arguments[c].style,h)h.hasOwnProperty(i)&&
(e[i]=h[i])},da=function(c,e,h){c.addEventListener?c.addEventListener(e,h,!1):c.attachEvent&&c.attachEvent("on"+e,h);return[c,e,h]},X=function(c,e,h){c.removeEventListener?c.removeEventListener(e,h,!1):c.detachEvent&&c.detachEvent("on"+e,h)},fa=function(c){for(var e=c.childNodes,h=e.length;h--;)c.removeChild(e.item(0))},aa=function(c,e){return c.appendChild(e)},la=c.log=function(z){var qa,Ia=G.paddingBottom,ha=e.createElement("div"),Da=ha.style,ea=aa(ha,e.createElement("div")),Y=aa(ha,e.createElement("div")),
wa=aa(ha,e.createElement("div")),ma=!1,Ca=!1,La=!1,Pa=0,Ea=function(c){var e=x.innerHeight,h=ea.clientHeight;c<0?c=0:c+h>e&&(c=e-h);Da.height=c/e*100+"%";G.paddingBottom=ha.clientHeight+"px"},Qa=[da(e,"mousemove",function(c){if(ma)Ea(x.innerHeight-c.clientY),Y.scrollTop=La}),da(e,"mouseup",function(){ma&&(ma=La=!1)}),da(ea,"dblclick",function(c){c.preventDefault();Ca?(Ea(Ca),Ca=!1):(Ca=ha.clientHeight,Da.height="0px")}),da(ea,"mousedown",function(c){c.preventDefault();ma=!0;La=Y.scrollTop}),da(ea,
"contextmenu",function(){ma=!1}),da(wa,"click",function(){qa()})];qa=function(){for(var e=Qa.length;e--;)X.apply(c,Qa[e]);Q.removeChild(ha);G.paddingBottom=Ia;fa(Y);fa(ha);c.log=la};ca(ha,p,Y,v,ea,q,wa,s);wa.title="Close Log";aa(wa,e.createTextNode("\u2716"));ea.title="Double-click to toggle log minimization";Q.insertBefore(ha,Q.firstChild);c.log=function(c){Pa===512?Y.removeChild(Y.firstChild):Pa++;var i=aa(Y,e.createElement("div")),p=aa(i,e.createElement("div"));i.title=(new Date).toLocaleTimeString();
ca(i,y,p,w);aa(p,e.createTextNode(c));Y.scrollTop=Y.scrollHeight};c.log(z);G.paddingBottom=ha.clientHeight+"px"}}():typeof print==="function"&&(c.log=print);return c}();y.logger=Hb;y.version="24accf5";y.lib={};y.registerLibrary=function(c,e){y.lib[c]=e;e.hasOwnProperty("init")&&e.init(la)};y.instances=Da;y.getInstanceById=function(c){return Da[lc[c]]};y.Sketch=function(c){this.attachFunction=c;this.options={crispLines:!1,pauseOnBlur:!1,globalKeyEvents:!1};this.onExit=this.onFrameEnd=this.onFrameStart=
this.onLoop=this.onPause=this.onSetup=this.onLoad=Dc;this.params={};this.imageCache={pending:0,images:{},add:function(c){if(Ia){var e=new Image;e.onload=function(c){return function(){c.pending--}}(this);this.pending++;this.images[c]=e;e.src=c}else this.images[c]=null}};this.fonts={template:function(){if(!Ia)return null;var c=z.createElement("p");c.style.fontFamily="serif";c.style.fontSize="72px";c.style.visibility="hidden";c.innerHTML="This element is a text block for font loading";z.getElementsByTagName("body")[0].appendChild(c);
return c}(),attempt:0,pending:function(){for(var c=!0,e=0;e<this.fontList.length;e++)this.fontList[e].offsetWidth===this.template.offsetWidth&&this.fontList[e].offsetHeight===this.template.offsetHeight?(c=!1,this.attempt++):(z.getElementsByTagName("body")[0].removeChild(this.fontList[e]),this.fontList.splice(e--,1),this.attempt=0);if(this.attempt>=30){c=!0;for(e=0;e<this.fontList.length;e++)z.getElementsByTagName("body")[0].removeChild(this.fontList[e]),this.fontList.splice(e--,1)}c&&z.getElementsByTagName("body")[0].removeChild(this.template);
return c},fontList:[],fontFamily:"",style:Ia?z.createElement("style"):null,add:function(c){var e=typeof c==="object"?c.fontFace:c;this.fontFamily+="@font-face{\n  font-family: '"+e+"';\n  src:  url('"+(typeof c==="object"?c.url:c)+"');\n}\n";this.style.innerHTML=this.fontFamily;z.getElementsByTagName("head")[0].appendChild(this.style);c=z.createElement("p");c.style.fontFamily="'"+e+"', serif";c.style.fontSize="72px";c.style.visibility="hidden";c.innerHTML="This element is a text block for font loading";
z.getElementsByTagName("body")[0].appendChild(c);this.fontList.push(c)}};this.sourceCode=void 0;this.attach=function(c){if(typeof this.attachFunction==="function")this.attachFunction(c);else if(this.sourceCode){var e=(new Function("return ("+this.sourceCode+");"))();e(c);this.attachFunction=e}else throw"Unable to attach sketch to the processing instance";};this.toString=function(){var c,e="((function(Sketch) {\n";e+="var sketch = new Sketch(\n"+this.sourceCode+");\n";for(c in this.options)if(this.options.hasOwnProperty(c)){var i=
this.options[c];e+="sketch.options."+c+" = "+(typeof i==="string"?'"'+i+'"':""+i)+";\n"}for(c in this.imageCache)this.options.hasOwnProperty(c)&&(e+='sketch.imageCache.add("'+c+'");\n');e+="return sketch;\n})(Processing.Sketch))";return e}};var Ub=function(c,e){function p(c,e){var h=new XMLHttpRequest;h.onreadystatechange=function(){if(h.readyState===4){var c;h.status!==200&&h.status!==0?c="Invalid XHR status "+h.status:h.responseText===""&&(c="withCredentials"in new XMLHttpRequest&&(new XMLHttpRequest).withCredentials===
!1&&X.location.protocol==="file:"?"XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.":"File is empty.");e(h.responseText,c)}};h.open("GET",c,!0);h.overrideMimeType&&h.overrideMimeType("application/json");h.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");h.send(null)}
function v(e,h){function v(p,x){q[e]=p;++w;x&&s.push(h+" ==> "+x);if(w===K)if(s.length===0)try{return new y(c,q.join("\n"))}catch(z){y.logger.log("Unable to execute pjs sketch: "+z)}else y.logger.log("Unable to load pjs sketch files: "+s.join("\n"))}if(h.charAt(0)==="#"){var x=z.getElementById(h.substring(1));x?v(x.text||x.textContent):v("","Unable to load pjs sketch: element with id '"+h.substring(1)+"' was not found")}else p(h,v)}for(var q=[],s=[],K=e.length,w=0,x=0;x<K;++x)v(x,e[x])},Vb=function(){z.removeEventListener("DOMContentLoaded",
Vb,!1);for(var c=z.getElementsByTagName("canvas"),e,H=0,v=c.length;H<v;H++)if(e=c[H].getAttribute("data-processing-sources"),e===null&&(e=c[H].getAttribute("data-src"),e===null&&(e=c[H].getAttribute("datasrc"))),e){e=e.split(" ");for(var q=0;q<e.length;)e[q]?q++:e.splice(q,1);Ub(c[H],e)}H=z.getElementsByTagName("script");for(v=0;v<H.length;v++)if(e=H[v],e.getAttribute&&(c=e.getAttribute("type"))&&(c.toLowerCase()==="text/processing"||c.toLowerCase()==="application/processing")){q=e.getAttribute("data-processing-target");
c=p;if(q)c=z.getElementById(q);else{for(q=e.nextSibling;q&&q.nodeType!==1;)q=q.nextSibling;q.nodeName.toLowerCase()==="canvas"&&(c=q)}c&&(e.getAttribute("src")?(e=e.getAttribute("src").split(/\s+/),Ub(c,e)):(e=e.innerText||e.textContent,new y(c,e)))}};y.loadSketchFromSources=Ub;y.disableInit=function(){Ia&&z.removeEventListener("DOMContentLoaded",Vb,!1)};Ia?(X.Processing=y,z.addEventListener("DOMContentLoaded",Vb,!1)):this.Processing=y})(window,window.document,Math);
